<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>Tweakzx</title>
        <link>https://tweakzx.github.io/</link>
        <description>Recent content on Tweakzx</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>en-us</language>
        <lastBuildDate>Tue, 20 Sep 2022 16:25:26 +0800</lastBuildDate><atom:link href="https://tweakzx.github.io/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>GFSè®ºæ–‡é˜…è¯»ç¬”è®°</title>
        <link>https://tweakzx.github.io/p/gfs%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/</link>
        <pubDate>Tue, 20 Sep 2022 16:25:26 +0800</pubDate>
        
        <guid>https://tweakzx.github.io/p/gfs%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/</guid>
        <description>&lt;img src="https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/20220920170446.png" alt="Featured image of post GFSè®ºæ–‡é˜…è¯»ç¬”è®°" /&gt;&lt;h1 id=&#34;the-google-file-system-è®ºæ–‡é˜…è¯»ç¬”è®°&#34;&gt;ã€ŠThe Google File Systemã€‹ è®ºæ–‡é˜…è¯»ç¬”è®°&lt;/h1&gt;
&lt;h2 id=&#34;abstract&#34;&gt;Abstract&lt;/h2&gt;
&lt;h2 id=&#34;introduction&#34;&gt;Introduction&lt;/h2&gt;
&lt;h2 id=&#34;design-overview&#34;&gt;Design Overview&lt;/h2&gt;
&lt;h3 id=&#34;assumptions&#34;&gt;Assumptions&lt;/h3&gt;
&lt;h3 id=&#34;interface&#34;&gt;Interface&lt;/h3&gt;
&lt;h3 id=&#34;architecture&#34;&gt;Architecture&lt;/h3&gt;
&lt;h3 id=&#34;single-master&#34;&gt;Single Master&lt;/h3&gt;
&lt;h3 id=&#34;chunk-size&#34;&gt;Chunk Size&lt;/h3&gt;
&lt;h3 id=&#34;metadata&#34;&gt;Metadata&lt;/h3&gt;
&lt;h4 id=&#34;in-memory-data-structure&#34;&gt;In-Memory Data Structure&lt;/h4&gt;
&lt;h4 id=&#34;chunk-locations&#34;&gt;Chunk Locations&lt;/h4&gt;
&lt;h4 id=&#34;operation-log&#34;&gt;Operation Log&lt;/h4&gt;
&lt;h3 id=&#34;cosistency-model&#34;&gt;Cosistency Model&lt;/h3&gt;
&lt;h4 id=&#34;guarantees-by-gfs&#34;&gt;Guarantees By GFS&lt;/h4&gt;
&lt;h4 id=&#34;implications-for-applications&#34;&gt;Implications for Applications&lt;/h4&gt;
&lt;h2 id=&#34;system-interactions&#34;&gt;System Interactions&lt;/h2&gt;
&lt;h2 id=&#34;master-operation&#34;&gt;Master Operation&lt;/h2&gt;
&lt;h2 id=&#34;fault-tolerance-and-diagnosis&#34;&gt;FAULT TOLERANCE AND DIAGNOSIS&lt;/h2&gt;
&lt;h2 id=&#34;measurements&#34;&gt;MEASUREMENTS&lt;/h2&gt;
&lt;h2 id=&#34;experiences&#34;&gt;EXPERIENCES&lt;/h2&gt;
&lt;h2 id=&#34;related-work&#34;&gt;RELATED WORK&lt;/h2&gt;
&lt;h2 id=&#34;conclusions&#34;&gt;CONCLUSIONS&lt;/h2&gt;
</description>
        </item>
        <item>
        <title>AntManè®ºæ–‡é˜…è¯»ç¬”è®°</title>
        <link>https://tweakzx.github.io/p/antman%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/</link>
        <pubDate>Mon, 29 Aug 2022 15:41:42 +0800</pubDate>
        
        <guid>https://tweakzx.github.io/p/antman%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/</guid>
        <description>&lt;img src="https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/20220829154241.png" alt="Featured image of post AntManè®ºæ–‡é˜…è¯»ç¬”è®°" /&gt;&lt;h1 id=&#34;antman-dynamic-scaling-on-gpu-clusters-for-deep-learningè®ºæ–‡é˜…è¯»ç¬”è®°&#34;&gt;ã€ŠAntMan: Dynamic Scaling on GPU Clusters for Deep Learningã€‹è®ºæ–‡é˜…è¯»ç¬”è®°&lt;/h1&gt;
&lt;h2 id=&#34;abstract&#34;&gt;Abstract&lt;/h2&gt;
&lt;p&gt;å¦‚ä½•åœ¨å¤§è§„æ¨¡GPUé›†ç¾¤ä¸Šæœ‰æ•ˆè°ƒåº¦æ·±åº¦å­¦ä¹ å·¥ä½œï¼Œ å¯¹äº&lt;strong&gt;å·¥ä½œæ€§èƒ½&lt;/strong&gt;ï¼Œ&lt;strong&gt;ç³»ç»Ÿååé‡&lt;/strong&gt;å’Œ&lt;strong&gt;ç¡¬ä»¶åˆ©ç”¨ç‡&lt;/strong&gt;è‡³å…³é‡è¦ã€‚&lt;/p&gt;
&lt;p&gt;éšç€æ·±åº¦å­¦ä¹ çš„å·¥ä½œé‡å˜å¾—æ›´åŠ å¤æ‚ï¼Œå®ƒå˜å¾—è¶Šæ¥è¶Šå…·æœ‰æŒ‘æˆ˜æ€§ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡å°†ä»‹ç»Antmanï¼Œ è¿™æ˜¯ä¸€ç§æ·±å…¥å­¦ä¹ çš„åŸºç¡€è®¾æ–½ï¼Œè¯¥åŸºç¡€æ¶æ„å…±åŒè®¾è®¡äº†é›†ç¾¤è°ƒåº¦ç¨‹åºï¼Œå¹¶å·²åœ¨é˜¿é‡Œå·´å·´éƒ¨ç½²åœ¨ç”Ÿäº§ä¸­ï¼Œä»¥ç®¡ç†æ•°ä»¥ä¸‡è®¡çš„æ¯æ—¥æ·±åº¦å­¦ä¹ å·¥ä½œã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Antmané€‚åº”æ·±åº¦å­¦ä¹ è®­ç»ƒçš„æ³¢åŠ¨èµ„æºéœ€æ±‚ã€‚å› æ­¤ï¼Œå®ƒåˆ©ç”¨å¤‡ç”¨GPUèµ„æºåœ¨å…±äº«GPUä¸Šå…±åŒæ‰§è¡Œå¤šä¸ªä½œä¸šã€‚&lt;/li&gt;
&lt;li&gt;Antmanåˆ©ç”¨æ·±åº¦å­¦ä¹ è®­ç»ƒçš„ç‹¬ç‰¹ç‰¹å¾ï¼Œåœ¨æ·±åº¦å­¦ä¹ æ¡†æ¶å†…ä¸ºæ˜¾å­˜å’Œè®¡ç®—èµ„æºå¼•å…¥åŠ¨æ€ç¼©æ”¾æœºåˆ¶ã€‚è¿™å…è®¸jobä¹‹é—´çš„ç»†ç²’åº¦åè°ƒå¹¶é˜²æ­¢å·¥ä½œå¹²æ‰°ã€‚&lt;/li&gt;
&lt;li&gt;è¯„ä¼°è¡¨æ˜ï¼ŒAntmanåœ¨æˆ‘ä»¬çš„å¤šç§Ÿæˆ·é›†ç¾¤ä¸­ä¸æŸå®³å…¬å¹³æ€§çš„æƒ…å†µä¸‹ï¼Œæ•´ä½“å°†æ˜¾å­˜åˆ©ç”¨ç‡æé«˜äº†42ï¼…ï¼Œè®¡ç®—èµ„æºåˆ©ç”¨ç‡æé«˜äº†34ï¼…ï¼Œä¸ºæœ‰æ•ˆåˆ©ç”¨å¤§è§„æ¨¡çš„GPUæå‡ºäº†æ–°æ–¹æ³•ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;introduction&#34;&gt;Introduction&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨å…±äº«å¤šç§Ÿæˆ·çš„DLé›†ç¾¤ï¼Œ è®¸å¤šå·¥ä½œæ’é˜Ÿç­‰å¾…èµ„æºçš„æ—¶å€™ä¼šå¯¼è‡´GPUåˆ©ç”¨ç‡ä½ä¸‹ï¼Œæœ‰ä¸¤ä¸ªåŸå› 
&lt;ul&gt;
&lt;li&gt;å¤§å¤šæ•°çš„è®­ç»ƒä»»åŠ¡åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ä¸èƒ½å®Œå…¨åˆ©ç”¨GPUèµ„æº
&lt;ul&gt;
&lt;li&gt;è®­ç»ƒä¸€ä¸ªDLæ¨¡å‹é€šå¸¸éœ€è¦å¤šç§è®¡ç®—çš„æ··åˆ&lt;/li&gt;
&lt;li&gt;å½“ä½¿ç”¨åˆ†å¸ƒå¼çš„è®­ç»ƒçš„æ—¶å€™ï¼Œ90%çš„æ—¶é—´ä¼šè¢«æµªè´¹åˆ°ç½‘ç»œé€šä¿¡ä¸Š&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;åŸºäºèµ„æºé¢„ç•™çš„é›†ç¾¤è°ƒåº¦æ–¹æ¡ˆå¯¼è‡´æ˜¾è‘—çš„GPUç©ºé—²ï¼ŒDLå·¥ä½œä¸­æ€»æœ‰éƒ¨åˆ†èµ„æºæ²¡æœ‰æŠ•å…¥ä½¿ç”¨
&lt;ul&gt;
&lt;li&gt;ä¾‹å¦‚ï¼Œéšæœºæ¢¯åº¦ä¸‹é™æ˜¯åŒæ­¥çš„ï¼Œéœ€è¦è·å–æ‰€æœ‰çš„èµ„æºä»¥è¿›è¡Œgang-schedulingï¼Œ åœ¨å¾—åˆ°æ‰€æœ‰èµ„æºä¹‹å‰ï¼Œå·²å¾—åˆ°çš„éƒ¨åˆ†èµ„æºå°±ä¼šé™·å…¥ç©ºé—²&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;åœ¨å…±äº«GPUä¸Šè¿›è¡Œ&lt;strong&gt;packing job&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;å¯ä»¥æé«˜GPUçš„åˆ©ç”¨ç‡ï¼Œå¯ä»¥ä½¿å¾—åŒæ ·çš„é›†ç¾¤æ•´ä½“ä¸Šèƒœä»»æ›´å¤šçš„jobã€‚&lt;/li&gt;
&lt;li&gt;ä½†æ˜¯è¿™ä¸ªç­–ç•¥åœ¨ç”Ÿäº§é›†ç¾¤ä¸Šå¾ˆå°‘ä½¿ç”¨ï¼Œ åŸå› 
&lt;ul&gt;
&lt;li&gt;å°½ç®¡æå‡GPUçš„åˆ©ç”¨ç‡æ˜¯æœ‰åˆ©çš„ï¼Œä½†ä¹Ÿè¦ä¿è¯resource-guarantee jobsï¼ˆRGJï¼Œèµ„æºä¿è¯æ€§jobï¼‰çš„æ€§èƒ½ã€‚åŒä¸€ä¸ªGPUä¸ŠåŒæ—¶æ‰§è¡Œå¤šä¸ªjobä¼šå¯¼è‡´å¹²æ‰°&amp;ndash;&amp;gt;RGJæ€§èƒ½å‡ºç°æ˜¾è‘—ä¸‹é™&lt;/li&gt;
&lt;li&gt;job packingç­–ç•¥å¯ä»¥ç»™å¹¶å‘jobå¼•å…¥å†…å­˜ç«äº‰ã€‚jobéœ€è¦çš„èµ„æºé™¡ç„¶å¢åŠ çš„è¯ï¼Œæœ‰å¯èƒ½å¯¼è‡´è®­ç»ƒä»»åŠ¡failureã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å› æ­¤ï¼Œjobèµ„æºçš„ç‹¬å åˆ†é…åœ¨æ˜¾å­˜çš„GPUé›†ç¾¤ç”Ÿäº§ç¯å¢ƒä¸­æ¯”è¾ƒå…¸å‹&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æˆ‘ä»¬æå‡ºAntMan
&lt;ul&gt;
&lt;li&gt;ç®€è¿°
&lt;ul&gt;
&lt;li&gt;ä¸€ä¸ªDLç³»ç»Ÿæé«˜GPUé›†ç¾¤çš„åˆ©ç”¨ç‡&lt;/li&gt;
&lt;li&gt;åŒæ—¶ä¿è¯å…¬å¹³æ€§ä¸RGJçš„æ€§èƒ½&lt;/li&gt;
&lt;li&gt;é€šè¿‡åˆä½œæ€§çš„èµ„æºæ‰©ç¼©æ¥å‡å°‘jobå¹²æ‰°&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;DLç³»ç»Ÿä¸­å¼•å…¥äº†æ–°çš„&lt;strong&gt;åˆ†é…æœºåˆ¶&lt;/strong&gt;åœ¨jobè®­ç»ƒè¿‡ç¨‹ä¸­æ¥åŠ¨æ€åœ°ç²¾ç¡®åˆ†é…æ‰€éœ€èµ„æºï¼ˆæ˜¾å­˜å’Œè®¡ç®—å•å…ƒï¼‰&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨&lt;strong&gt;è¶…å–æœºåˆ¶&lt;/strong&gt;ä½¿å¾—ä»»ä½•ç©ºé—²çš„GPUèµ„æºï¼ˆæ˜¾å­˜å’Œè®¡ç®—å•å…ƒï¼‰éƒ½èƒ½è¢«åˆ©ç”¨&lt;/li&gt;
&lt;li&gt;é‡æ–°è®¾è®¡äº†&lt;strong&gt;é›†ç¾¤è°ƒåº¦å™¨å’ŒDLæ¡†æ¶&lt;/strong&gt;æ¥é€‚åº”ç”Ÿäº§jobçš„æ³¢åŠ¨çš„èµ„æºç‰¹ç‚¹
&lt;ul&gt;
&lt;li&gt;é€šè¿‡
&lt;ul&gt;
&lt;li&gt;æ¡†æ¶ä¿¡æ¯æ„ŸçŸ¥è°ƒåº¦&lt;/li&gt;
&lt;li&gt;é€æ˜æ˜¾å­˜æ‰©å±•&lt;/li&gt;
&lt;li&gt;å¿«é€Ÿå¯æŒç»­çš„ä»»åŠ¡é—´åè°ƒ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨è¿™ä¸ªç»“æ„ï¼ŒAntmanä¸ºDLä»»åŠ¡çš„åŒæ—¶æ‰§è¡Œçš„policy design å¼€è¾Ÿäº†ç©ºé—´&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;AntMané‡‡ç”¨äº†ç®€å•ä¸”æœ‰æ•ˆçš„ç­–ç•¥æ¥æœ€å¤§åŒ–é›†ç¾¤åå
&lt;ul&gt;
&lt;li&gt;ä¸ºRGJæä¾›èµ„æºä¿è¯çš„åŒæ—¶&lt;/li&gt;
&lt;li&gt;åˆ†é…ä¸€äº›å¶ç„¶æ€§çš„ä»»åŠ¡æ¥å°½åŠ›è€Œä¸ºçš„åˆ©ç”¨GPUèµ„æºï¼ˆä½ä¼˜å…ˆçº§ä¸”ä¸ä¿è¯èµ„æºï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æœ¬æ–‡ä¸»è¦è´¡çŒ®å¦‚ä¸‹
&lt;ul&gt;
&lt;li&gt;å¯¹ç”Ÿäº§ç¯å¢ƒçš„DLé›†ç¾¤è¿›è¡Œè°ƒç ”ï¼Œå‘ç°ä½åˆ©ç”¨ç‡æ¥è‡ªäºä¸‰ä¸ªæ–¹é¢ï¼šç¡¬ä»¶ï¼Œé›†ç¾¤è°ƒåº¦ï¼Œjobè¡Œä¸º&lt;/li&gt;
&lt;li&gt;åœ¨DLæ¡†æ¶ä¸­ä¸ºæ˜¾å­˜å’Œè®¡ç®—å•å…ƒç®¡ç†å¼•å…¥äº†ä¸¤ç§åŠ¨æ€æ”¾ç¼©æœºåˆ¶ï¼Œæ¥è§£å†³GPUå…±äº«é—®é¢˜ã€‚æ–°æœºåˆ¶åˆ©ç”¨DLçš„å·¥ä½œç‰¹å¾æ¥åŠ¨æ€è°ƒæ•´DL jobçš„èµ„æºä½¿ç”¨æƒ…å†µï¼Œåœ¨ä½œä¸šæ‰§è¡ŒæœŸé—´ã€‚&lt;/li&gt;
&lt;li&gt;é€šè¿‡å…±åŒè®¾è®¡é›†ç¾¤è°ƒåº¦å™¨å’ŒDLæ¡†æ¶ä»¥åˆ©ç”¨åŠ¨æ€ç¼©æ”¾æœºåˆ¶ï¼Œæˆ‘ä»¬ä¸ºGPUå…±äº«å¼•å…¥äº†ä¸€ç§æ–°çš„å·¥ä¸šæ–¹æ³•ã€‚è¿™åœ¨å¤šç§Ÿæˆ·é›†ç¾¤ä¸­ç»´æŠ¤å·¥ä½œæœåŠ¡çº§åè®®ï¼ˆSLAï¼‰ï¼ŒåŒæ—¶é€šè¿‡æœºä¼šè°ƒåº¦æ¥æ”¹å–„é›†ç¾¤åˆ©ç”¨ç‡ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨è¶…è¿‡5000ä¸ªGPUä¸Šè¿›è¡Œäº†å®éªŒ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;motivation&#34;&gt;Motivation&lt;/h2&gt;
&lt;h3 id=&#34;deep-learning-training&#34;&gt;deep learning Training&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;æ·±åº¦å­¦ä¹ è®­ç»ƒé€šå¸¸åŒ…æ‹¬æ•°ç™¾ä¸‡æ¬¡è¿­ä»£ï¼Œæ¯ä¸ªè¿­ä»£è¿‡ç¨‹éƒ½ç§°ä¸ºmini-batchã€‚
&lt;ul&gt;
&lt;li&gt;é€šå¸¸ï¼Œè®­ç»ƒmini-batchå¯ä»¥åˆ†ä¸ºä¸‰ä¸ªé˜¶æ®µã€‚
&lt;ul&gt;
&lt;li&gt;é¦–å…ˆï¼Œè®¡ç®—æ ·å“å’Œæ¨¡å‹æƒé‡ä»¥äº§ç”Ÿä¸€ç»„å¾—åˆ†ï¼Œç§°ä¸ºforward pass&lt;/li&gt;
&lt;li&gt;å…¶æ¬¡ï¼Œä½¿ç”¨ç›®æ ‡å‡½æ•°åœ¨äº§ç”Ÿçš„åˆ†æ•°å’Œæ‰€éœ€çš„åˆ†æ•°ä¹‹é—´è®¡ç®—loss errorã€‚ç„¶åï¼ŒæŸå¤±é€šè¿‡æ¨¡å‹å‘åæ‰©æ•£ï¼Œä»¥è®¡ç®—æ¢¯åº¦ï¼Œç§°ä¸ºbackward passã€‚&lt;/li&gt;
&lt;li&gt;æœ€åï¼Œé€šè¿‡ç”±ä¼˜åŒ–å™¨å®šä¹‰çš„å­¦ä¹ ç‡æ¥ç¼©æ”¾æ¢¯åº¦ï¼Œä»¥æ›´æ–°æ¨¡å‹å‚æ•°ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ­£å‘é€šè¡Œçš„è®¡ç®—è¾“å‡ºé€šå¸¸åŒ…æ‹¬è®¸å¤šæ•°æ®è¾“å‡ºï¼Œæ¯ä¸ªæ•°æ®è¾“å‡ºç§°ä¸ºå¼ é‡ã€‚è¿™äº›å¼ é‡åº”æš‚æ—¶ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œå¹¶è¢«å‘åé€šè¿‡ä»¥è®¡ç®—æ¢¯åº¦ã€‚é€šå¸¸ï¼Œä¸ºäº†ç›‘è§†åŸ¹è®­ä¸­çš„æ¨¡å‹è´¨é‡ï¼Œå®šæœŸè§¦å‘è¯„ä¼°.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ä¸ºäº†ä½¿ç”¨å¤§é‡æ•°æ®åŸ¹è®­æ¨¡å‹ï¼ŒDLé€šå¸¸åœ¨å¤šä¸ªGPUä¸­é‡‡ç”¨æ•°æ®å¹¶è¡Œæ€§ï¼Œå…¶ä¸­æ¯ä¸ªGPUè´Ÿè´£å¹¶è¡Œå¤„ç†æ•°æ®å­é›†ï¼ŒåŒæ—¶åœ¨æ¨¡å‹æ›´æ–°ä¹‹å‰æ‰§è¡Œæ¯ä¸ªè¿·ä½ æ‰¹æ¬¡æ¢¯åº¦åŒæ­¥ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨å¤§å‹å…¬å¸ä¸­ï¼Œå¤šç§Ÿæˆ·é›†ç¾¤é€šå¸¸ç”¨äºæ”¹å–„ç¡¬ä»¶åˆ©ç”¨ç‡ï¼Œç”¨æˆ·æœ‰æ—¶å¯ä»¥è¶…é¢è®¢é˜…GPUèµ„æºé…é¢ï¼Œå°¤å…¶æ˜¯å½“GPUè¦æ±‚çˆ†å‘æ—¶ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;characterizing-production-dl-cluster&#34;&gt;Characterizing Production DL Cluster&lt;/h3&gt;
&lt;p&gt;æˆ‘ä»¬ä»ä¸‰ä¸ªè§’åº¦ç ”ç©¶ç”Ÿäº§é›†ç¾¤ä¸­çš„èµ„æºä½¿ç”¨ç‡ï¼šç¡¬ä»¶ï¼Œé›†ç¾¤è°ƒåº¦å’Œjobè¡Œä¸ºã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;åœ¨ä½¿ç”¨ä¸­çš„GPUçš„ä½åˆ©ç”¨ç‡&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/20220831200958.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/20220831200958.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			alt=&#34;image-20220831200958715&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;image-20220831200958715&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;å†…å­˜å®¹é‡ã€‚å¦‚å›¾æ‰€ç¤ºï¼Œåªæœ‰20ï¼…çš„GPUæ­£åœ¨è¿è¡Œæ¶ˆè€—ä¸€åŠä»¥ä¸ŠGPUå­˜å‚¨å™¨çš„åº”ç”¨ç¨‹åºã€‚&lt;/li&gt;
&lt;li&gt;å…³äºè®¡ç®—å•å…ƒçš„ä½¿ç”¨ï¼Œåªæœ‰10ï¼…çš„GPUè·å¾—äº†é«˜äº80ï¼…çš„GPUåˆ©ç”¨ç‡ã€‚&lt;/li&gt;
&lt;li&gt;è¯¥ç»Ÿè®¡æ•°æ®è¡¨æ˜ï¼ŒGPUå†…å­˜å’Œè®¡ç®—å•å…ƒå‡æœªå¾—åˆ°å……åˆ†åˆ©ç”¨ï¼Œå› æ­¤æµªè´¹äº†æ˜‚è´µçš„ç¡¬ä»¶èµ„æºã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¯¹gang-scheduleçš„ç©ºé—²ç­‰å¾…&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Gang schedulingæ˜¯åœ¨å¹¶å‘ç³»ç»Ÿä¸­å°†å¤šä¸ªç›¸å…³è”çš„è¿›ç¨‹è°ƒåº¦åˆ°ä¸åŒå¤„ç†å™¨ä¸ŠåŒæ—¶è¿è¡Œçš„ç­–ç•¥ï¼Œå…¶æœ€ä¸»è¦çš„åŸåˆ™æ˜¯ä¿è¯æ‰€æœ‰ç›¸å…³è”çš„è¿›ç¨‹èƒ½å¤ŸåŒæ—¶å¯åŠ¨ï¼Œé˜²æ­¢éƒ¨åˆ†è¿›ç¨‹çš„å¼‚å¸¸ï¼Œå¯¼è‡´æ•´ä¸ªå…³è”è¿›ç¨‹ç»„çš„é˜»å¡ã€‚ä¾‹å¦‚ï¼Œæ‚¨æäº¤ä¸€ä¸ªæ‰¹é‡Jobï¼Œè¿™ä¸ªæ‰¹é‡JobåŒ…å«å¤šä¸ªä»»åŠ¡ï¼Œè¦ä¹ˆè¿™å¤šä¸ªä»»åŠ¡å…¨éƒ¨è°ƒåº¦æˆåŠŸï¼Œè¦ä¹ˆä¸€ä¸ªéƒ½è°ƒåº¦ä¸æˆåŠŸã€‚è¿™ç§All-or-Nothingè°ƒåº¦åœºæ™¯ï¼Œå°±è¢«ç§°ä½œGang schedulingã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/20220831201016.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/20220831201016.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			alt=&#34;image-20220831201015900&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;image-20220831201015900&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;å¤šGPUè®­ç»ƒå·¥ä½œéœ€è¦&lt;strong&gt;Gang scheduling&lt;/strong&gt;ï¼Œè¿™æ„å‘³ç€é™¤éåŒæ—¶æä¾›æ‰€æœ‰å¿…éœ€çš„GPUï¼Œå¦åˆ™jobå°†ä¸ä¼šå¼€å§‹è®­ç»ƒ&lt;/li&gt;
&lt;li&gt;ç”±äºGPUèµ„æºå¾€å¾€ä¸èƒ½åŒæ—¶å…¨éƒ¨è·å¾—ï¼Œ æ‰€ä»¥ä¼šå‡ºç°&lt;strong&gt;idle waiting&lt;/strong&gt;ã€‚ ä¸€ä¸ªjobéœ€è¦çš„GPUè¶Šå¤šï¼Œ å®ƒçš„å¹³å‡é—²ç½®æ—¶é—´å°±è¶Šé•¿&lt;/li&gt;
&lt;li&gt;**èµ„æºåˆ°è¾¾çš„ä¸å¯é¢„æµ‹å¯¼è‡´äº†é¢„ç•™èµ„æºçš„idle waitingã€‚**ä¸€ä¸ªå¹¼ç¨šçš„è§£å†³æ–¹æ¡ˆæ˜¯åœ¨GPU idle waitingçš„æ—¶å€™æ‰§è¡Œåˆ«çš„jobã€‚ä½†æ˜¯è¿™ä¼šå¯¼è‡´èµ„æºéœ€æ±‚å¤§jobçš„é¥¥é¥¿ï¼Œå½±å“åˆ†é…å…¬å¹³æ€§ã€‚å¦å¤–ä¸€æ—¦èµ„æºéœ€è¦è¢«æ»¡è¶³å¯¼è‡´çš„GPUéœ€æ±‚æ¿€å¢æˆ–è®¸å¯¼è‡´GPUä¹‹é—´çš„èµ„æºå†²çªï¼Œå¯¼è‡´å·¥ä½œfail&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åŠ¨æ€èµ„æºéœ€æ±‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/20220831201048.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/20220831201048.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			alt=&#34;image-20220831201047910&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;image-20220831201047910&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;åœ¨ä¸€ä¸ªDL jobç”Ÿå‘½å‘¨æœŸä¸­ï¼Œ GPUèµ„æºå¾€å¾€æœªè¢«å……åˆ†åˆ©ç”¨ã€‚&lt;/li&gt;
&lt;li&gt;å›¾3ï¼šåœ¨Criteoæ•°æ®é›†ä¸Šè¿è¡ŒDEEPFM [20]æ—¶çš„å‰10åˆ†é’Ÿã€‚ä¸€å¼€å§‹ï¼Œæ•°æ®é›†ä¸Šçš„é¢„å¤„ç†ä»…éœ€è¦CPUã€‚ä½†æ˜¯ï¼ŒGPUçš„SMåˆ©ç”¨ç‡å’Œå†…å­˜ä½¿ç”¨é‡åœ¨275ç§’æ—¶å¯åŠ¨ã€‚&lt;/li&gt;
&lt;li&gt;å›¾4ï¼šè®­ç»ƒå¯ä»¥åŒ…å«å‡ ä¸ªé˜¶æ®µï¼Œä¸åŒé˜¶æ®µçš„SMå’ŒMemoryçš„ä½¿ç”¨ç‡éƒ½æ˜¯ä¸ä¸€æ ·çš„&lt;/li&gt;
&lt;li&gt;èµ„æºéœ€æ±‚çš„åŠ¨æ€å˜åŒ–ä¸å›ºå®šçš„èµ„æºåˆ†é…å’Œæ¼«é•¿çš„è®­ç»ƒæ—¶é—´ç›¸çŸ›ç›¾ã€‚èµ„æºéœ€è¦æ»¡è¶³jobçš„å³°å€¼éœ€è¦ï¼Œå¯¼è‡´è¿™ä¸ªæ˜‚è´µçš„ç¡¬ä»¶è¢«ä½æ•ˆåˆ©ç”¨ã€‚æ˜¾å­˜çš„DLæ¡†æ¶çš„memory cachingè®¾è®¡éšè—äº†æ˜¾å­˜ä½¿ç”¨éšæ—¶é—´çš„å˜åŒ–ï¼Œä¸€å®šç¨‹åº¦ä¸Šé˜»æ­¢äº†GPUçš„æ½œåœ¨å…±äº«ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;opportunities-in-dl-uniqueness&#34;&gt;Opportunities in DL Uniqueness&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;è¶…å–æœ‰&lt;strong&gt;æœºä¼š&lt;/strong&gt;æé«˜é›†ç¾¤çš„åå&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸å¯é¢„æµ‹çš„jobå†…å’Œjobé—´çš„éœ€æ±‚æ¿€å¢ä¸ºå®‰å…¨çš„èµ„æºå…±äº«å¼•å…¥äº†æŒ‘æˆ˜
&lt;ul&gt;
&lt;li&gt;å› ä¸ºèµ„æºç«äº‰ï¼Œ jobså¯èƒ½ä¼šæŠŠæ˜¾å­˜ç”¨å…‰&lt;/li&gt;
&lt;li&gt;åœ¨å¤šç§Ÿæˆ·é›†ç¾¤ä¸­ï¼Œå½“jobsåœ¨å…±äº«ç¯å¢ƒæ‰§è¡Œæ—¶ï¼Œä¸ºæŒæœ‰å®šé¢èµ„æºçš„jobæä¾›æ€§èƒ½éš”ç¦»æ˜¯ååˆ†é‡è¦çš„&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;AntManåˆ©ç”¨DL trainingçš„ç‰¹æ€§æ¥åˆ©ç”¨è¿™ä¸ªæœºä¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æˆ‘ä»¬åœ¨ç”Ÿäº§ç¯å¢ƒé›†ç¾¤çš„10kä¸ªtaskä¸­å–æ ·å‘ç°&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/20220905143626.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/20220905143626.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			alt=&#34;image-20220905143619325&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;image-20220905143619325&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;åªæœ‰ä¸€å°éƒ¨åˆ†ç”¨æ¥å­˜å‚¨æ¨¡å‹ï¼Œ ä¸”90%çš„æ¨¡å‹å¤§å°ä¸è¶…è¿‡500M&lt;/li&gt;
&lt;li&gt;å¤§éƒ¨åˆ†æ˜¾å­˜åœ¨åŒä¸€ä¸ªmini-batchä¸­è¢«åˆ†é…å’Œé‡Šæ”¾&lt;/li&gt;
&lt;li&gt;é™¤æ­¤ä¹‹å¤–ï¼Œä¸€ä¸ªmini-batchçš„æ¶ˆè€—æ—¶é—´å¾ˆçŸ­ï¼Œ 80%çš„ä»»åŠ¡åœ¨600msä¹‹å†…æ¶ˆè€—ä¸€ä¸ªmini-batch&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æˆ‘ä»¬é€šè¿‡å¤šç§æ–¹å¼åˆ©ç”¨è¿™ç§ç‹¬ç‰¹çš„ç‰¹å¾æ¥å®‰æ’å…±äº«GPUä¸Šçš„ä½œä¸šã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é¦–å…ˆï¼Œæ ¹æ®é€šå¸¸çš„æ¨¡å‹å¤§å°ï¼Œå¤§éƒ¨åˆ†æ˜¾å­˜åœ¨å…±åŒæ‰§è¡Œçš„ä½œä¸šä¸­å¯ä»¥æ‹¿æ¥è°ƒåº¦&lt;/li&gt;
&lt;li&gt;å…¶æ¬¡ï¼Œmini-batchçš„å‘¨æœŸé€šå¸¸å¾ˆçŸ­ï¼Œå¯ä»¥åœ¨æ¯ä¸ªmini-batchè¾¹ç•Œå¤„è¿›è¡Œç»†ç²’åº¦çš„GPUå†…å­˜å’Œè®¡ç®—èµ„æºçš„è°ƒåº¦ã€‚è¿™å¯ä»¥è¿›ä¸€æ­¥å…è®¸jobé—´çš„å¿«é€Ÿèµ„æºåè°ƒã€‚&lt;/li&gt;
&lt;li&gt;ç¬¬ä¸‰ï¼Œmini-batché€šå¸¸è¿›è¡Œç›¸ä¼¼çš„è®¡ç®—ï¼Œè¿™å¯ä»¥è¢«åˆ©ç”¨å»æè¿°jobæ€§èƒ½ï¼Œå› æ­¤è¿›åº¦ç‡å¯ä»¥è¢«åˆ›å»ºä½œä¸ºæ€§èƒ½çŸ©é˜µæ¥é‡åŒ–å¹²æ‰°ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;design&#34;&gt;Design&lt;/h2&gt;
&lt;p&gt;AntManæ·±å…¥å…±åŒè®¾è®¡é›†ç¾¤è°ƒåº¦ç¨‹åºå’ŒDLæ¡†æ¶ï¼Œ æœ¬éƒ¨åˆ†å°†ä»‹ç»ä¸‰éƒ¨åˆ†ï¼šDL æ¡†æ¶çš„ä¿®æ”¹ï¼Œè°ƒåº¦å™¨ä¸è°ƒåº¦åŸåˆ™&lt;/p&gt;
&lt;h3 id=&#34;dynamic-scaling-in-dl-frameworks&#34;&gt;Dynamic Scaling in DL Frameworks&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;ä½ä½¿ç”¨æ•ˆç‡çš„GPUé›†ç¾¤æœ‰ç€æ‰§è¡Œæ›´å¤šä»»åŠ¡çš„æ½œåŠ›ï¼Œä½†éœ€è¦è§£å†³ä¸€ä¸‹æŒ‘æˆ˜
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨æœ€ä¸‹éœ€æ±‚æ‰§è¡Œjobçš„åŒæ—¶é˜²æ­¢GPUå†…å­˜ä½¿ç”¨çš„çˆ†å‘å¯¼è‡´çš„å¤±æ•ˆ&lt;/li&gt;
&lt;li&gt;é€‚åº”è®¡ç®—å•å…ƒçš„ä½¿ç”¨æ³¢åŠ¨çš„åŒæ—¶é™åˆ¶æ½œåœ¨çš„å¹²æ‰°&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;DLæ¡†æ¶æ˜¯ä¸“æ³¨äºGPUæ‰§è¡Œï¼Œ ç¼ºä¹jobåˆä½œçš„èƒ½åŠ›ã€‚è¿™æ¿€å‘äº†åŠ¨æ€ç¼©æ”¾æœºåˆ¶çš„è®¾è®¡ï¼Œæœºåˆ¶åŒ…å«å†…å­˜å’Œè®¡ç®—ä¸¤éƒ¨åˆ†&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;memory-management&#34;&gt;Memory Management&lt;/h4&gt;
&lt;p&gt;AntManä»¥tensorä¸ºå•ä½ï¼Œåœ¨GPUå’ŒCPUçš„å†…å­˜é—´è¿›è¡ŒåŠ¨æ€å†…å­˜ç®¡ç†ã€‚ç±»ä¼¼äºæ“ä½œç³»ç»Ÿçš„è™šæ‹Ÿå†…å­˜ï¼ŒAntManä»¥tensorä¸ºå•ä½è¿›è¡Œäº†æ˜¾å­˜è™šæ‹ŸåŒ–ï¼Œé€šè¿‡è¿™ç§æ–¹å¼ï¼ŒDLæ¡†æ¶å¯ä»¥æä¾›è¶…å‡ºä¸Šé™çš„æ˜¾å­˜ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æ˜¾å­˜åˆ†é…&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/20220905151151.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/20220905151151.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			alt=&#34;image-20220905151151692&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;image-20220905151151692&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;åœ¨å¼ é‡è¢«é”€æ¯åï¼ŒGPUå†…å­˜è¢«ç¼“å­˜åœ¨DLæ¡†æ¶å†…çš„ä¸€ä¸ªå…¨å±€å†…å­˜åˆ†é…å™¨ä¸­ï¼Œæ™®éæƒ…å†µä¸‹ï¼Œä¸€äº›å¼ é‡åªåœ¨DLè®­ç»ƒçš„æŸäº›é˜¶æ®µä½¿ç”¨ï¼ˆå¦‚æ•°æ®é¢„å¤„ç†ã€è¯„ä¼°ï¼‰ï¼Œä¸å†éœ€è¦äº†ã€‚ç„¶è€Œï¼Œè¿™éƒ¨åˆ†ç¼“å­˜çš„GPUå†…å­˜ä¸ä¼šè¢«é‡Šæ”¾ï¼ˆå›¾6cï¼‰ã€‚DLæ¡†æ¶ä¸­çš„è¿™ç§ç¼“å­˜å†…å­˜è®¾è®¡ä¼˜åŒ–äº†å•ä¸ªä½œä¸šçš„æ€§èƒ½ï¼Œä½†ä»£ä»·æ˜¯å¤±å»äº†å…±äº«æ½œåŠ›ã€‚&lt;/li&gt;
&lt;li&gt;AntManè½¬å‘äº†æ‰©å±•GPUå†…å­˜ä¸Šé™çš„æ–¹æ³•ã€‚å®ƒä¸»åŠ¨æ£€æµ‹ä½¿ç”¨ä¸­çš„å†…å­˜ï¼Œä»¥ç¼©å°ç¼“å­˜çš„å†…å­˜ï¼Œä»è€Œè‡ªçœåœ°å°†GPUå†…å­˜çš„ä½¿ç”¨è°ƒæ•´åˆé€‚ã€‚è¿™æ˜¯é€šè¿‡ç›‘æµ‹åº”ç”¨æ€§èƒ½å’Œå¤„ç†å°æ‰¹é‡æ—¶çš„å†…å­˜éœ€æ±‚æ¥å®ç°çš„ï¼ˆå›¾6dï¼‰ã€‚&lt;strong&gt;AntManä½¿ç”¨å…¶æœ€å¤§çš„åŠªåŠ›åœ¨GPUè®¾å¤‡ä¸Šåˆ†é…å¼ é‡ï¼Œç„¶è€Œï¼Œå¦‚æœGPUå†…å­˜ä»ç„¶ç¼ºä¹ï¼Œå¼ é‡å¯ä»¥åœ¨GPUä¹‹å¤–ç”¨ä¸»æœºå†…å­˜åˆ†é…&lt;/strong&gt;ï¼ˆå›¾6eï¼‰ã€‚å½“GPUå†…å­˜çš„ä¸Šé™å¢åŠ æ—¶ï¼ŒTensorså¯ä»¥è‡ªåŠ¨åˆ†é…å›GPUï¼ˆå›¾6fï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ˜¾å­˜ä¸Šé™åŠ¨æ€è°ƒæ•´&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/20220905151235.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/20220905151235.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			alt=&#34;image-20220905151235705&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;image-20220905151235705&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å›¾7aè¯´æ˜äº†å†…å­˜æ‰©å±•&lt;strong&gt;å¦‚ä½•è§£å†³çªå‘éœ€æ±‚&lt;/strong&gt;ã€‚åœ¨T0ï¼Œæ­£åœ¨è¿è¡Œçš„DLè®­ç»ƒä½œä¸šçš„å†…å­˜éœ€æ±‚å¢åŠ ï¼Œç”±äºGPUå†…å­˜çš„æœ‰é™ä¸Šé™ï¼Œä¸€äº›å¼ é‡ä¸èƒ½æ”¾åœ¨GPUå†…å­˜ä¸­ï¼Œè€Œæ˜¯ä½¿ç”¨ä¸»æœºå†…å­˜åˆ›å»ºã€‚AntManæ£€æµ‹åˆ°ä¸»æœºå†…å­˜çš„ä½¿ç”¨æƒ…å†µï¼Œåœ¨T1ï¼Œå®ƒæ ¹æ®ä¸»æœºå†…å­˜çš„ä½¿ç”¨&lt;strong&gt;æƒ…å†µæé«˜è¯¥ä½œä¸šçš„GPUå†…å­˜çš„ä¸Šé™&lt;/strong&gt;ï¼Œè™½ç„¶åœ¨è¿™ä¸€ä¸ªå°æ‰¹æ¬¡ä¸­ï¼Œè¿™ä¸ªè¿è¡Œä½œä¸šçš„æ€§èƒ½å¯èƒ½ä¼šå‡æ…¢ï¼Œå› ä¸ºå¼ é‡è¢«æ”¾ç½®åœ¨ä¸»æœºå†…å­˜ä¸­ï¼Œ&lt;strong&gt;ä½†æ˜¯åç»­çš„tensoréƒ½ä¼šç”³è¯·åˆ°æ˜¾å­˜ä¸Š&lt;/strong&gt;ã€‚è€ƒè™‘åˆ°ä¸€ä¸ªå…¸å‹çš„DLè®­ç»ƒå¾€å¾€éœ€è¦æ•°ç™¾ä¸‡ä¸ªå°æ‰¹æ¬¡ï¼Œè¿™ç§æ€§èƒ½å¼€é”€æ˜¯å¯ä»¥å¿½ç•¥ä¸è®¡çš„ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è¿è¡Œæ—¶æ˜¾å­˜ç»†ç²’åº¦è°ƒæ•´&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ­¤å¤–ï¼ŒAntManåœ¨&lt;strong&gt;è¿è¡Œæ—¶&lt;/strong&gt;æä¾›ç»†ç²’åº¦çš„GPUå†…å­˜è°ƒåº¦ã€‚å¦‚å›¾7bæ‰€ç¤ºï¼Œä¸€ä¸ªè®­ç»ƒä½œä¸šå¯èƒ½ä¼šæ”¶ç¼©ä»¥ç¡®ä¿å…¶ä»–ä½œä¸šçš„å†…å­˜èµ„æºï¼Œå¹¶åœ¨å…¶ä»–ä½œä¸šå®Œæˆåå†å¢é•¿ã€‚å®ƒè¯´æ˜äº†ä¸€ä¸ªDLä½œä¸šåœ¨T0æ—¶ç¼©å‡ï¼Œåœ¨T1æ—¶å¢åŠ ï¼Œä»£ä»·æ˜¯åœ¨ä¸»æœºå†…å­˜ä¸Šåˆ†é…äº†ä¸€äº›å¼ é‡ã€‚å› æ­¤ï¼Œåœ¨åŒä¸€å…±äº«GPUä¸­è¿è¡Œçš„ä½œä¸šåœ¨T0å’ŒT1ä¹‹é—´å¯¹å‰©ä½™GPUå†…å­˜çš„ä½¿ç”¨æ˜¯æœ‰ä¿éšœçš„ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;computation-management&#34;&gt;Computation Management&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;åŠ¨æ€è®¡ç®—å•å…ƒç®¡ç†ï¼Œç”¨äºæ§åˆ¶DLè®­ç»ƒä½œä¸šçš„GPUåˆ©ç”¨ç‡ã€‚
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ç±»ä¼¼cgroupï¼Œå¯ä»¥åœ¨è¿è¡Œæ—¶åŠ¨æ€åœ°éš”ç¦»DLç‰¹å®šè¿›ç¨‹çš„GPUè®¡ç®—èµ„æºè®¿é—®ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å½“å¤šä¸ªDLä½œä¸šåœ¨åŒä¸€ä¸ªGPUä¸Šå¯åŠ¨æ—¶ï¼Œå¹²æ‰°ä¸»è¦æ˜¯ç”±&lt;strong&gt;æ½œåœ¨çš„GPUå†…æ ¸æ’é˜Ÿå»¶è¿Ÿ&lt;/strong&gt;å’Œ&lt;strong&gt;PCIeæ€»çº¿äº‰ç”¨&lt;/strong&gt;å¼•èµ·çš„ï¼Œè¿™ä¼šå¯¼è‡´æ‰€æœ‰ä½œä¸šçš„æ€§èƒ½ä¸€è‡´ä¸‹é™ï¼Œå¦‚æœpacking jobæ˜¯åœ¨ç›¸åŒçš„æ¨¡å‹å’Œé…ç½®ä¸Šè¿è¡Œçš„è¯ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;**å¦‚æœä¸åŒçš„ä½œä¸šè¢«æ‰“åŒ…åœ¨ä¸€èµ·ï¼Œä½œä¸šä¼šä»¥ä¸åŒçš„æ–¹å¼å˜æ…¢ã€‚**è¿™æ˜¯å› ä¸ºä½œä¸šåœ¨è·å–GPUè®¡ç®—å•å…ƒæ–¹é¢æœ‰ä¸åŒçš„èƒ½åŠ›ã€‚å› æ­¤ï¼Œä½œä¸šæ€§èƒ½åœ¨GPUå…±äº«ä¸­å‡ ä¹æ— æ³•ä¿è¯æˆ–é¢„æµ‹ï¼Œå¯¼è‡´å¤šç§Ÿæˆ·é›†ç¾¤çš„GPUå…±äº«éƒ¨ç½²å›°éš¾ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;AntManä¸­ï¼ŒGPUè¿ç®—å™¨çš„æ‰§è¡Œæ˜¯ç”±ä¸€ä¸ªæ–°å¼•å…¥çš„æ¨¡å—è´Ÿè´£çš„ï¼Œç§°ä¸ºGpuOpManagerã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å½“GPUè¿ç®—å™¨å‡†å¤‡æ‰§è¡Œæ—¶ï¼Œå®ƒè¢«æ·»åŠ åˆ°GpuOpManagerï¼Œè€Œä¸æ˜¯ç›´æ¥å¯åŠ¨ã€‚&lt;/li&gt;
&lt;li&gt;GpuOpManagerçš„ä¸»è¦æ€æƒ³æ˜¯é€šè¿‡&lt;strong&gt;å»¶è¿Ÿæ‰§è¡ŒGPUè¿ç®—ç¬¦æ¥æ§åˆ¶å¯åŠ¨é¢‘ç‡&lt;/strong&gt;ã€‚GpuOpManageré€šè¿‡è¿™ç§æ–¹å¼æ¥é™åˆ¶DLè®­ç»ƒä½œä¸šçš„GPUåˆ©ç”¨ç‡ã€‚GpuOpManagerä¸æ–­å¯¹GPUè¿ç®—å™¨çš„æ‰§è¡Œæ—¶é—´è¿›è¡Œåˆ†æï¼Œå¹¶åœ¨å¯åŠ¨GPUè¿ç®—å™¨ä¹‹å‰ç®€å•åœ°åˆ†é…ç©ºé—²çš„æ—¶é—´æ®µã€‚&lt;/li&gt;
&lt;li&gt;è¯·æ³¨æ„ï¼ŒGpuOpManageråªæ˜¯å»¶è¿Ÿäº†GPUå†…æ ¸çš„æ‰§è¡Œã€‚å› æ­¤ï¼Œè¿ç®—ç¬¦ï¼ˆåŒ…æ‹¬GPUè¿ç®—ç¬¦å’ŒCPUè¿ç®—ç¬¦ï¼‰ä¹‹é—´çš„æ½œåœ¨ä¾èµ–å…³ç³»è¢«ä¿ç•™ä¸‹æ¥ï¼Œè¿™æ„å‘³ç€å¦‚æœå¯èƒ½çš„è¯ï¼ŒCPUè¿ç®—ç¬¦å¯ä»¥ç»§ç»­ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/20220905151223.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/20220905151223.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			alt=&#34;image-20220905151222951&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;image-20220905151222951&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å›¾8è¯´æ˜äº†åœ¨åŒä¸€GPUä¸Šæ‰§è¡Œçš„ä¸¤ä¸ªä½œä¸šçš„GPUè®¡ç®—å•å…ƒå¹²æ‰°çš„ä¾‹å­ã€‚å›¾8aè¯´æ˜äº†Job-Aæ˜¯å¦‚ä½•ä»¥ç»†ç²’åº¦çš„æ–¹å¼åœ¨GPUä¸Šæ‰§è¡Œçš„ã€‚ç®€è€Œè¨€ä¹‹ï¼ŒGPUå†…æ ¸å°†è¢«æŒ‰é¡ºåºæ”¾ç½®ï¼Œå¹¶ç”±GPUè®¡ç®—å•å…ƒé€ä¸€å¤„ç†ã€‚è¯·æ³¨æ„ï¼Œåœ¨å›¾8ä¸­ï¼ŒJob-Aå¯èƒ½æ— æ³•ä½¿GPUå®Œå…¨é¥±å’Œï¼Œå¯¼è‡´GPUå‘¨æœŸé—²ç½®ï¼ŒGPUåˆ©ç”¨ç‡ä½ï¼Œæœ‰å¯èƒ½è¢«å…¶ä»–ä½œä¸šä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;å› æ­¤ï¼Œä½œä¸š-Bè¢«å®‰æ’åœ¨è¿™ä¸ªGPUä¸Šï¼ˆå›¾8bï¼‰ã€‚Job-Bçš„GPUæ“ä½œè€…å¯åŠ¨åœ¨GPUä¸­æ‰§è¡Œçš„å†…æ ¸ï¼ˆç»¿è‰²å—ï¼‰ï¼Œè¿™å¯ä»¥å¡«æ»¡å®ƒï¼Œä»è€Œå»¶è¿Ÿå…¶ä»–GPUå†…æ ¸ï¼ˆè“è‰²å—ï¼‰çš„æ‰§è¡Œï¼Œå¯¼è‡´Job-Açš„æ€§èƒ½ä¸ä½³ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ç§å¹²æ‰°ä¸»è¦æ¥è‡ªäºç¼ºä¹æ§åˆ¶GPUå†…æ ¸æ‰§è¡Œé¢‘ç‡çš„èƒ½åŠ›ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬åœ¨DLæ¡†æ¶ä¸­å¼•å…¥äº†ä¸€ä¸ªGPUè¿ç®—å™¨ç®¡ç†å™¨ï¼ˆå›¾8cï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;ç°æœ‰çš„DLæ¡†æ¶ä¸€æ—¦æ»¡è¶³äº†GPUè¿ç®—å™¨çš„æ§åˆ¶ä¾èµ–æ€§ï¼Œå°±ä¼šåœ¨GPUè¿ç®—å™¨ä¸­å‘å¸ƒGPUå†…æ ¸ã€‚åœ¨å¦‚å›¾8cæ‰€ç¤ºï¼Œç¬¬ä¸‰ä¸ªCPUæ“ä½œç¬¦æ²¡æœ‰è¢«é˜»æ­¢ï¼Œç„¶è€Œï¼Œç¬¬å››ä¸ªæ“ä½œç¬¦è¢«å»¶è¿Ÿäº†ï¼Œå› ä¸ºå®ƒä¾èµ–äºç¬¬äºŒä¸ªGPUæ“ä½œç¬¦ï¼Œå®ƒçš„æ‰§è¡Œè¢«GpuOpManagerå»¶è¿Ÿäº†ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;collaborative-scheduler&#34;&gt;Collaborative Scheduler&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;AntMançš„æ•´ä½“æ¶æ„&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/20220905152947.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/20220905152947.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			alt=&#34;image-20220905152947633&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;image-20220905152947633&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;AntMané‡‡ç”¨äº†ä¸€ä¸ªåˆ†å±‚ç»“æ„
&lt;ul&gt;
&lt;li&gt;ä¸€ä¸ªå…¨å±€è°ƒåº¦å™¨è´Ÿè´£job è°ƒåº¦&lt;/li&gt;
&lt;li&gt;æ¯ä¸ªå·¥ä½œæœåŠ¡å™¨éƒ½åŒ…å«ä¸€ä¸ªæœ¬åœ°åè°ƒå™¨ï¼Œè´Ÿè´£é€šè¿‡è€ƒè™‘DLæ¡†æ¶æŠ¥å‘Šçš„ç»Ÿè®¡æ•°æ®ï¼Œä½¿ç”¨åŠ¨æ€èµ„æºæ‰©å±•çš„åŸºå…ƒç®¡ç†ä½œä¸šçš„æ‰§è¡Œ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;AntManæ˜¯ä¸ºå¤šç§Ÿæˆ·GPUé›†ç¾¤è®¾è®¡çš„ã€‚
&lt;ul&gt;
&lt;li&gt;åœ¨å¤šç§Ÿæˆ·é›†ç¾¤ä¸­ï¼Œæ¯ä¸ªç§Ÿæˆ·é€šå¸¸æ‹¥æœ‰ä¸€å®šçš„èµ„æºï¼Œè¢«æ³¨é‡Šä¸ºèµ„æºé…é¢ï¼ˆå³GPUçš„æ•°é‡ï¼‰ï¼Œè¿™æ˜¯å¯ä»¥åˆ†é…ç»™è¯¥ç§Ÿæˆ·çš„ä½œä¸šçš„å¹¶å‘æ€§èƒ½ä¿è¯èµ„æºã€‚&lt;/li&gt;
&lt;li&gt;æ¯ä¸ªç§Ÿæˆ·çš„GPUèµ„æºé…é¢ä¹‹å’Œå°äºç­‰äºä¸€ä¸ªGPUé›†ç¾¤çš„æ€»å®¹é‡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;åœ¨AntManä¸­ï¼Œå·¥ä½œè¢«åˆ†ä¸ºä¸¤ç§ï¼Œç”±å…¨å±€è°ƒåº¦å™¨åº”ç”¨ä¸åŒçš„è°ƒåº¦ç­–ç•¥
&lt;ul&gt;
&lt;li&gt;èµ„æºä¿è¯å‹å·¥ä½œï¼šèµ„æºä¿éšœå‹ä½œä¸šä¼šæ¶ˆè€—å…¶ç›¸åº”ç§Ÿæˆ·çš„ä¸€å®šæ•°é‡çš„GPUèµ„æºé…é¢ã€‚AntManç¡®ä¿èµ„æºä¿è¯ä½œä¸šçš„æ€§èƒ½åº”è¯¥ä¸ç‹¬å æ‰§è¡Œçš„æ€§èƒ½ä¸€è‡´ã€‚&lt;/li&gt;
&lt;li&gt;æœºä¼šå‹å·¥ä½œï¼šæœºä¼šå‹ä½œä¸šåˆ™ä¸ä¼šã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;AntManå„æ¨¡å—çš„è¿ä½œæ–¹å¼&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è°ƒåº¦å†³ç­–å¯ä»¥è¢«è§†ä¸ºä¸€ä¸ª&lt;strong&gt;è‡ªä¸Šè€Œä¸‹&lt;/strong&gt;çš„æ§åˆ¶æµ
&lt;ul&gt;
&lt;li&gt;åœ¨AntManä¸­ï¼Œä¸ä¼ ç»Ÿçš„é›†ç¾¤è°ƒåº¦å™¨ç±»ä¼¼ï¼Œè°ƒåº¦å†³ç­–ç”±å…¨å±€è°ƒåº¦å™¨æ´¾å‘ç»™æœ¬åœ°åè°ƒå™¨&lt;/li&gt;
&lt;li&gt;æœ¬åœ°åè°ƒå™¨ä½¿ç”¨åŠ¨æ€ç¼©æ”¾æœºåˆ¶å¯¹GPUèµ„æºè¿›è¡Œå†…çœå¼è°ƒåº¦ï¼Œä»¥è¾¾åˆ°DLè®­ç»ƒä½œä¸šçš„ç›®çš„&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ•°æ®ç»Ÿè®¡æµä¿¡æ¯ç”±&lt;strong&gt;æœ¬åœ°åè°ƒå™¨çš„ç»Ÿè®¡æ¨¡å—æ”¶é›†&lt;/strong&gt;ï¼Œå¹¶ä»¥&lt;strong&gt;è‡ªä¸‹è€Œä¸Š&lt;/strong&gt;çš„æ–¹å¼æ±‡æ€»åˆ°&lt;strong&gt;é›†ç¾¤ç»Ÿè®¡æ¨¡å—&lt;/strong&gt;ä¸Š
&lt;ul&gt;
&lt;li&gt;ä¿¡æ¯
&lt;ul&gt;
&lt;li&gt;ç¡¬ä»¶ä¿¡æ¯
&lt;ul&gt;
&lt;li&gt;GPUåˆ©ç”¨ç‡&lt;/li&gt;
&lt;li&gt;GPUå†…å­˜ä½¿ç”¨ç‡&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;DLæ¡†æ¶æŠ¥å‘Šçš„è¯¦ç»†ä½œä¸šä¿¡æ¯
&lt;ul&gt;
&lt;li&gt;å°å‹æ‰¹æ¬¡æŒç»­æ—¶é—´&lt;/li&gt;
&lt;li&gt;å³°å€¼å†…å­˜ä½¿ç”¨ç‡&lt;/li&gt;
&lt;li&gt;æœ€å°å†…å­˜ä½¿ç”¨ç‡&lt;/li&gt;
&lt;li&gt;ä¸»æœºå†…å­˜æ¶ˆè€—ç­‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;è¿™äº›ä¿¡æ¯å¯ä»¥å¸®åŠ©å…¨å±€è°ƒåº¦å™¨åšå‡ºä½œä¸šè°ƒåº¦å†³ç­–
&lt;ul&gt;
&lt;li&gt;å³°å€¼å†…å­˜å’Œæœ€å°å†…å­˜ä½¿ç”¨é‡æ˜¯ç”¨æ¥æŒ‡ç¤ºå¯ä»¥å¿«é€Ÿæä¾›çš„GPUå†…å­˜å¤§å°&lt;/li&gt;
&lt;li&gt;æ‰¹å¤„ç†æ—¶é—´æ˜¾ç¤ºGPUå†…å­˜å¤šä¹…å¯ä»¥ç”¨äºå¦ä¸€ä¸ªDLè®­ç»ƒä½œä¸š&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å½“ä½œä¸šåœ¨GPUæœåŠ¡å™¨ä¸Šå¯åŠ¨ï¼Œæœ¬åœ°è°ƒåº¦å™¨ç®¡ç†å…¶ç«¯åˆ°ç«¯æ‰§è¡Œ
&lt;ul&gt;
&lt;li&gt;ç”±äºDLè®­ç»ƒä½œä¸šçš„è´Ÿè½½æ³¢åŠ¨ï¼Œæœ¬åœ°åè°ƒå™¨ä»¥&lt;strong&gt;è‡ªçœ&lt;/strong&gt;(introspective)çš„æ–¹å¼è¡Œäº‹ï¼Œå¯¹DLæ¡†æ¶è¿›è¡ŒæŒç»­çš„ä½œä¸šæ§åˆ¶&lt;/li&gt;
&lt;li&gt;å®ƒä»ç¡¬ä»¶å’ŒDLæ¡†æ¶ä¸­æ”¶é›†æ‰€æœ‰ä½œä¸šçš„ç»Ÿè®¡æ•°æ® -&amp;gt; ä½¿ç”¨æˆ‘ä»¬åœ¨ç¬¬3.1èŠ‚ä¸­ä»‹ç»çš„æ–°åŸè¯­ &amp;ndash;&amp;gt; é€šè¿‡èµ„æºä½¿ç”¨è°ƒæ•´ï¼ˆä¾‹å¦‚ï¼Œæ”¶ç¼©GPUå†…å­˜ï¼‰&amp;ndash;&amp;gt; æ¥æ§åˆ¶ä½œä¸šæ€§èƒ½&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;scheduling-policy&#34;&gt;Scheduling Policy&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ç›®æ ‡&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;ç”±äºé›†ç¾¤ä¸Šçš„è´Ÿè½½å’Œä½œä¸šçš„èµ„æºéœ€æ±‚ä¸æ–­æ³¢åŠ¨ï¼Œåœ¨&lt;strong&gt;æä¾›å…¬å¹³æ€§&lt;/strong&gt;ï¼ˆå¦‚ç¡®ä¿DLä½œä¸šçš„SLAï¼Œä¿è¯èµ„æºï¼‰å’Œ&lt;strong&gt;å®ç°é«˜èµ„æºåˆ©ç”¨ç‡&lt;/strong&gt;ï¼ˆå¦‚GPUåˆ©ç”¨ç‡ï¼‰ä¹‹é—´å­˜åœ¨ç€å›ºæœ‰çš„çŸ›ç›¾ã€‚&lt;/li&gt;
&lt;li&gt;æ™®éçš„ç”Ÿäº§å‹DLé›†ç¾¤è°ƒåº¦å™¨ç»å¸¸ä»¥æŸäº›æ–¹å¼&lt;strong&gt;ç”¨å…¬å¹³æ€§æ¢å–æ•ˆç‡&lt;/strong&gt;ã€‚
&lt;ul&gt;
&lt;li&gt;ä¾‹å¦‚ï¼Œç©ºé—²èµ„æºè¢«åˆ†é…ç»™è¶…é¢é…ç½®çš„ç§Ÿæˆ·ã€‚&lt;/li&gt;
&lt;li&gt;ç„¶è€Œï¼Œè¿™æ ·çš„GPUèµ„æºåœ¨æ²¡æœ‰æŠ¢å çš„æƒ…å†µä¸‹å¾ˆéš¾æ‹¿å›æ¥ã€‚ä¸€èˆ¬æ¥è¯´ï¼ŒæŠ¢å å¾ˆå°‘è¢«ä½¿ç”¨ï¼Œå› ä¸ºå®ƒä½¿æ­£åœ¨è¿è¡Œçš„ä½œä¸šå¤±è´¥ï¼ŒåŒæ—¶æµªè´¹äº†æ˜‚è´µçš„GPUå‘¨æœŸã€‚&lt;/li&gt;
&lt;li&gt;æ­¤å¤–ï¼Œè¿˜æŠ¥å‘Šäº†æ­§è§†å¤§å‹ä½œä¸šçš„å¤±åºè¡Œä¸ºï¼ˆå³åˆ†é…æ›´å¤šçš„GPUï¼‰ï¼Œå¯¼è‡´å€¾å‘äºå°å‹ä½œä¸šçš„ä¸å…¬å¹³ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;é¦–è¦ç›®æ ‡ï¼šå¤šç§Ÿæˆ·&lt;strong&gt;å…¬å¹³æ€§&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;AntMané€šè¿‡åœ¨å…¨å±€è°ƒåº¦å™¨å’Œæœ¬åœ°åè°ƒå™¨ä¸­å®æ–½çš„æ”¿ç­–å®ç°äº†å…¬å¹³æ€§&lt;/li&gt;
&lt;li&gt;è¿™äº›æ”¿ç­–ç”±åŠ¨æ€æ‰©å±•æœºåˆ¶æä¾›æ”¯æŒã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ç¬¬äºŒä¼˜å…ˆï¼š&lt;strong&gt;æé«˜é›†ç¾¤æ•ˆç‡&lt;/strong&gt;ï¼Œä»è€Œå®ç°æ›´é«˜çš„ååé‡
&lt;ul&gt;
&lt;li&gt;AntManä¸­è¿˜å¼•å…¥äº†GPUæœºä¼šä¸»ä¹‰å·¥ä½œï¼Œä»¥çªƒå–GPUä¸­çš„ç©ºé—²å‘¨æœŸï¼Œä»è€Œæœ€å¤§é™åº¦åœ°æé«˜é›†ç¾¤çš„åˆ©ç”¨ç‡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å…¨å±€è°ƒåº¦å™¨ï¼šç»´æŠ¤ç€å·¥ä½œåˆ°è¾¾çš„å¤šä¸ªç§Ÿæˆ·é˜Ÿåˆ—ï¼Œå†³å®šä¸ºå·¥ä½œåˆ†é…çš„GPUçš„ä½ç½®&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;è°ƒåº¦ç­–ç•¥&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¯¹äºèµ„æºä¿è¯å‹å·¥ä½œå’Œæœºä¼šå‹å·¥ä½œï¼ŒAntManåº”ç”¨ä¸åŒçš„è°ƒåº¦ç­–ç•¥ï¼Œå¦‚ç®—æ³•1æ‰€ç¤ºã€‚&lt;/li&gt;
&lt;li&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/20220905153001.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/20220905153001.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			alt=&#34;image-20220905153001724&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;image-20220905153001724&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;findNodesæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒè¿”å›æ»¡è¶³å·¥ä½œè¯·æ±‚çš„èŠ‚ç‚¹å’ŒGPUå€™é€‰è€…ï¼Œå¹¶æœ‰ä¸€ä¸ªå¯é€‰çš„å‚æ•°æ¥æŒ‡å®šçº¦æŸã€‚&lt;/li&gt;
&lt;li&gt;å…¨å±€è°ƒåº¦å™¨åœ¨&lt;strong&gt;æœ‰è¶³å¤Ÿçš„GPUèµ„æºçš„æƒ…å†µä¸‹&lt;/strong&gt;å…¬å¹³åœ°åˆ†é…èµ„æºä¿è¯ä½œä¸šã€‚&lt;/li&gt;
&lt;li&gt;é™¤æ­¤ä¹‹å¤–ï¼Œèµ„æºä¿è¯ä½œä¸šè¿˜å¯ä»¥&lt;strong&gt;ä½¿ç”¨ç©ºé—²çš„GPUèµ„æº&lt;/strong&gt;æ¥æœ€å¤§åŒ–ä½œä¸šæ€§èƒ½ ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœä¸€ä¸ªä½œä¸šçš„èµ„æºè¯·æ±‚åªèƒ½éƒ¨åˆ†æ»¡è¶³ï¼Œå…¨å±€è°ƒåº¦å™¨å°±ä¼šä¸ºè¿™ä¸ªä½œä¸š&lt;strong&gt;ä¿ç•™èµ„æº&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;ä¿ç•™çš„èµ„æºå°†æ°¸è¿œä¸ä¼šè¢«å…¶ä»–èµ„æºä¿è¯çš„ä½œä¸šå ç”¨ï¼Œä½†æ˜¯å®ƒä»¬å¯ä»¥è¢«&lt;strong&gt;æœºä¼šä¸»ä¹‰ä½œä¸š&lt;/strong&gt;æ‰€åˆ©ç”¨ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æœºä¼šä¸»ä¹‰ä½œä¸š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é»˜è®¤æƒ…å†µä¸‹ï¼Œå…¨å±€è°ƒåº¦å™¨å°†ä¼°è®¡æ²¡æœ‰è®¾ç½®GPUé…é¢çš„ä½œä¸šçš„&lt;strong&gt;æ’é˜Ÿæ—¶é—´&lt;/strong&gt;ã€‚æ’é˜Ÿæ—¶é—´é•¿çš„ä½œä¸šå°†è¢«&lt;strong&gt;è‡ªåŠ¨&lt;/strong&gt;ä½œä¸ºæœºä¼šä¸»ä¹‰ä½œä¸šæ‰§è¡Œã€‚&lt;/li&gt;
&lt;li&gt;ç›®çš„ï¼šä¸ºäº†æœ€å¤§é™åº¦åœ°åˆ©ç”¨è‡ªç”±èµ„æºã€‚&lt;/li&gt;
&lt;li&gt;å®ƒé€šè¿‡è€ƒè™‘&lt;strong&gt;å®é™…çš„GPUåˆ©ç”¨ç‡&lt;/strong&gt;åœ¨GPUä¸Šåˆ†é…æœºä¼šä¸»ä¹‰ä½œä¸šã€‚åªæœ‰åœ¨è¿‡å»10ç§’å†…åˆ©ç”¨ç‡**ä½äºMï¼ˆç›®å‰è®¾å®šä¸º80%ï¼‰**çš„GPUå¯ä»¥è¢«é€‰ä¸ºå€™é€‰ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨&lt;strong&gt;æœ€ç©ºé—²çš„å€™é€‰äººä¸Šåˆ†é…æœºä¼šä¸»ä¹‰ä½œä¸š&lt;/strong&gt;ï¼ˆå³minLoadNodesï¼Œç¬¬9-10è¡Œï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;åˆ†é…åœ¨åŒä¸€ä¸ªGPUä¸Šçš„ä½œä¸šç”±&lt;strong&gt;æœ¬åœ°åè°ƒè€…&lt;/strong&gt;ç®¡ç†&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;AntMan&lt;strong&gt;é»˜è®¤&lt;/strong&gt;ä¼šè‡ªåŠ¨é€‰æ‹©æœºä¼šä¸»ä¹‰ä½œä¸šï¼Œä½†å®ƒä¹Ÿå…è®¸ç”¨æˆ·åœ¨æäº¤æ—¶&lt;strong&gt;æ‰‹åŠ¨&lt;/strong&gt;ç¡®å®šä½œä¸šç±»å‹&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ˜ç¡®æŒ‡å®šä¸ºèµ„æºä¿è¯ä½œä¸šï¼Œä»¥ç¡®ä¿SLA&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ªä½œä¸šä¹Ÿå¯ä»¥è¢«æŒ‡å®šä¸ºæœºä¼šä¸»ä¹‰ä½œä¸šï¼Œæ°¸è¿œä¸ä¼šå ç”¨ç§Ÿæˆ·çš„èµ„æºé…é¢&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;åœ¨å®è·µä¸­ï¼Œç”¨æˆ·é€šå¸¸ä»¥æœºä¼šä¸»ä¹‰æ¨¡å¼æäº¤ä½œä¸šï¼Œä»¥é¿å…æ½œåœ¨çš„æ’é˜Ÿå»¶è¿Ÿï¼Œç›®çš„æ˜¯è¿›è¡Œè°ƒè¯•å’Œè¶…å‚æ•°è°ƒæ•´ï¼Œè¿™éƒ½æ˜¯ç”±æ—©æœŸåé¦ˆé©±åŠ¨çš„ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æœ¬åœ°è°ƒåº¦å™¨ï¼šåä½œæ‰§è¡Œå…±äº«GPUä¸Šçš„ä½œä¸š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å¦‚ä½•åœ¨å…±äº«æ‰§è¡Œä¸­ç¡®ä¿èµ„æºä¿è¯ä½œä¸šçš„æ€§èƒ½&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä¸€ä¸ªGPUåªä¼šåˆ†é…ç»™ä¸€ä¸ªèµ„æºä¿è¯ä½œä¸š&lt;/strong&gt;ï¼Œå› ä¸ºå®ƒæ¶ˆè€—GPUé…é¢&lt;/li&gt;
&lt;li&gt;æœ¬åœ°åè°ƒè€…é¦–å…ˆé™åˆ¶æœºä¼šä¸»ä¹‰å·¥ä½œä½¿ç”¨GPUï¼Œ&lt;strong&gt;é˜²æ­¢èµ„æºä¿è¯å·¥ä½œå—åˆ°å¹²æ‰°&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;åœ¨å¯åŠ¨DLè®­ç»ƒä½œä¸šæ—¶ï¼Œéœ€è¦ç”±DLæ¡†æ¶åˆå§‹åŒ–GPUè®¾å¤‡
&lt;ul&gt;
&lt;li&gt;å¦‚æœGPUå¤„äºé«˜è´Ÿè·çŠ¶æ€ï¼Œåˆ™éœ€è¦æ›´å¤šæ—¶é—´ã€‚ï¼ˆåˆå§‹åŒ–æ—¶å ç”¨æ›´å¤šèµ„æºï¼‰&lt;/li&gt;
&lt;li&gt;ä¸€æ—¦èµ„æºä¿è¯ä½œä¸šç¨³å®šæ‰§è¡Œï¼Œæœ¬åœ°åè°ƒå™¨å°†æŠŠå‰©ä½™çš„GPUå†…å­˜åˆ†é…ç»™æœºä¼šä¸»ä¹‰ä½œä¸šã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;é€šè¿‡ç›‘æµ‹ä½œä¸šæ€§èƒ½ï¼ˆå³å°æ‰¹é‡æ—¶é—´ï¼‰ï¼Œåœ¨ä¸å¹²æ‰°èµ„æºä¿è¯ä½œä¸šçš„æƒ…å†µä¸‹ï¼Œé€æ­¥å¢åŠ æœºä¼šä¸»ä¹‰ä½œä¸šçš„GPUè®¡ç®—å•å…ƒä½¿ç”¨é‡&lt;/li&gt;
&lt;li&gt;åŒæ ·ï¼Œå½“ä¸€ä¸ªæœºä¼šä¸»ä¹‰ä½œä¸šåˆ°è¾¾å…±äº«GPUæ—¶ï¼Œæœ¬åœ°åè°ƒå™¨åœ¨ä¸å½±å“èµ„æºä¿è¯ä½œä¸šçš„æƒ…å†µä¸‹ï¼Œä»¥é˜¶æ¢¯å¼çš„æ–¹å¼æé«˜å…¶GPUèµ„æºä½¿ç”¨ç‡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¦‚ä½•å¤„ç†èµ„æºä¿è¯ä½œä¸šçš„èµ„æºéœ€æ±‚æ¿€å¢&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸ºäº†æ„è¯†åˆ°åŠ¨æ€çš„èµ„æºéœ€æ±‚ï¼Œæœ¬åœ°åè°ƒå™¨ç›‘æµ‹DLæ¡†æ¶æŠ¥å‘Šçš„æŒ‡æ ‡&lt;/li&gt;
&lt;li&gt;å½“ä¸€ä¸ªèµ„æºä¿è¯ä½œä¸šå¢åŠ äº†GPUå†…å­˜éœ€æ±‚æ—¶ï¼Œç”±äºæœ‰äº†é€šç”¨å†…å­˜ï¼Œå¼ é‡è¢«æš‚æ—¶ä½¿ç”¨ä¸»æœºå†…å­˜å­˜å‚¨ã€‚&lt;/li&gt;
&lt;li&gt;æœ¬åœ°åè°ƒè€…ç¼©å‡å…¶ä»–æœºä¼šä¸»ä¹‰ä½œä¸šçš„GPUå†…å­˜ä½¿ç”¨é‡ï¼Œå¹¶æé«˜èµ„æºä¿è¯ä½œä¸šçš„GPUå†…å­˜é™åˆ¶ï¼Œä»¥æ¢å¤å…¶æ€§èƒ½ã€‚&lt;/li&gt;
&lt;li&gt;è¿™å¯¹GPUè®¡ç®—å•å…ƒçš„ä½¿ç”¨åè°ƒæ˜¯ç±»ä¼¼çš„ã€‚&lt;/li&gt;
&lt;li&gt;ğŸš¨AntManä¾é åº”ç”¨å±‚é¢çš„æŒ‡æ ‡ï¼ˆå³è¿·ä½ æ‰¹å¤„ç†æ—¶é—´ï¼‰æ¥è¡¨æ˜èµ„æºä¿è¯ä½œä¸šçš„æ€§èƒ½ã€‚å¦‚æœå®ƒè§‚å¯Ÿåˆ°èµ„æºä¿è¯ä½œä¸šçš„æ€§èƒ½ä¸ç¨³å®šï¼Œå®ƒå°±ä¼šé‡‡å–æ‚²è§‚çš„ç­–ç•¥æ¥é™åˆ¶å…¶ä»–æœºä¼šä¸»ä¹‰ä½œä¸šå¯¹GPUèµ„æºçš„ä½¿ç”¨ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å½“ä¸€ä¸ªGPUåªè¢«æœºä¼šä¸»ä¹‰å·¥ä½œæ‰€å…±äº«æ—¶ï¼Œæœ€å¤§é™åº¦åœ°æé«˜èšåˆå·¥ä½œçš„æ€§èƒ½ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å¦‚æœåªæœ‰ä¸€ä¸ªæœºä¼šä¸»ä¹‰ä½œä¸šï¼Œé‚£ä¹ˆGPUèµ„æºå°±å¯ä»¥è¢«è¿™ä¸ªä½œä¸šå……åˆ†åˆ©ç”¨ï¼Œè€Œæ²¡æœ‰ä»»ä½•çº¦æŸã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æœ‰æ—¶ï¼Œä¸€ä¸ªGPUæœ‰å¯èƒ½è¢«å¤šä¸ªæœºä¼šä¸»ä¹‰å·¥ä½œå ç”¨ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;AntMané€šè¿‡&lt;strong&gt;æœ€å¤§é™åº¦åœ°æé«˜GPUå†…å­˜æ•ˆç‡&lt;/strong&gt;æ¥ä¼˜åŒ–èšåˆä½œä¸šçš„æ€§èƒ½ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨å¯ç”¨&lt;strong&gt;åŠ¨æ€ç¼©æ”¾æœºåˆ¶&lt;/strong&gt;åï¼Œæˆ‘ä»¬å‘ç°ä¸åŒçš„å·¥ä½œè´Ÿè½½åœ¨å†…å­˜é™åˆ¶å¸¦æ¥çš„æ€§èƒ½ä¸‹é™æ–¹é¢è¡¨ç°å‡º&lt;strong&gt;ä¸åŒçš„æ•æ„Ÿæ€§&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/20220905153042.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/20220905153042.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			alt=&#34;image-20220905153042457&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;image-20220905153042457&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¦‚å›¾10æ‰€ç¤ºï¼Œ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;SRæ¨¡å‹å³ä½¿åœ¨å…¶è®¾å¤‡å†…å­˜å‡å°‘90%çš„æƒ…å†µä¸‹ï¼Œä¹Ÿåªé­å—äº†å¤§çº¦25%çš„æ€§èƒ½ä¸‹é™&lt;/li&gt;
&lt;li&gt;Cifar10æ•°æ®é›†ä¸Šçš„VGG16[43]æ¨¡å‹ï¼ˆVGGï¼‰å³ä½¿åœ¨è®¾å¤‡å†…å­˜å‡å°‘ä¸€åŠåï¼Œä¹Ÿèƒ½ä¿æŒå…¶å¤§éƒ¨åˆ†çš„åŸå§‹æ€§èƒ½ã€‚&lt;/li&gt;
&lt;li&gt;ImageNetæ•°æ®é›†ï¼ˆResNetï¼‰ä¸Šçš„ResNet50[22]å¯¹å†…å­˜ç¼©å‡å¾ˆæ•æ„Ÿï¼›10%çš„å†…å­˜ç¼©å‡ä¼šå¸¦æ¥60%ä»¥ä¸Šçš„é€Ÿåº¦ä¸‹é™ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å½“æœºä¼šä¸»ä¹‰ä½œä¸šçš„æ€»çš„GPUå†…å­˜éœ€æ±‚è¶…è¿‡äº†GPUçš„å†…å­˜å®¹é‡æ—¶&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å°†GPUå†…å­˜åˆ†é…ç»™æœ€èƒ½æé«˜ä½œä¸šæ€§èƒ½ï¼ˆNormalized Performanceï¼‰çš„ä½œä¸š&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Job å‡çº§&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æœºä¼šä¸»ä¹‰å·¥ä½œè™½ç„¶ä»¥best effortæ‰§è¡Œï¼Œ ä½†è¿™æ˜¯åœ¨æ²¡æœ‰SLAä¿è¯çš„æƒ…å†µä¸‹ã€‚&lt;/li&gt;
&lt;li&gt;å…¨å±€è°ƒåº¦å™¨ä¼šåœ¨æœ‰è¶³å¤Ÿèµ„æºçš„æƒ…å†µä¸‹&lt;strong&gt;å‡çº§&lt;/strong&gt;è¿™äº›ä½œä¸šï¼Œä»¥å¿«é€Ÿå®Œæˆå®ƒä»¬ã€‚&lt;/li&gt;
&lt;li&gt;å…¨å±€è°ƒåº¦å™¨é€šçŸ¥æœ¬åœ°åè°ƒå™¨ï¼Œå°†å…¶&lt;strong&gt;æ ‡è®°&lt;/strong&gt;ä¸ºèµ„æºä¿è¯ä½œä¸šï¼Œå¹¶æ¶ˆè€—ç§Ÿæˆ·çš„GPUé…é¢æ¥å®Œæˆä½œä¸šå‡çº§ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;å¯¹äºåˆ†å¸ƒå¼åŒæ­¥DLè®­ç»ƒæ¥è¯´ï¼Œéƒ¨åˆ†å‡çº§æ²¡æœ‰å¸®åŠ©ï¼Œå› ä¸ºä¸€ä¸ªå·¥ä½œè€…çš„æ€§èƒ½ä¸‹é™å¯èƒ½ä¼šå¹¿æ’­åˆ°æ•´ä¸ªä½œä¸šã€‚&lt;/li&gt;
&lt;li&gt;å› æ­¤ï¼Œå…¨å±€è°ƒåº¦å™¨æ£€æŸ¥æ‰€æœ‰GPUæ˜¯å¦éƒ½è¢«æœºä¼šä¸»ä¹‰å·¥ä½œå¡«æ»¡ã€‚&lt;/li&gt;
&lt;li&gt;ä¸€æ—¦æ‰€æœ‰çš„ä»»åŠ¡å®ä¾‹éƒ½å‡†å¤‡å¥½å‡çº§ï¼Œå¹¶ä¸”èµ„æºé…é¢è¶³å¤Ÿï¼ŒAntManæ›´æ„¿æ„å°†æœºä¼šä¸»ä¹‰å·¥ä½œå‡çº§ï¼Œè€Œä¸æ˜¯æ–°å¯ä¸€ä¸ªå·¥ä½œã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;implementation&#34;&gt;Implementation&lt;/h2&gt;
&lt;h3 id=&#34;deep-learning-framework&#34;&gt;Deep Learning Framework&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;åŠ¨æ€ç¼©æ”¾æœºåˆ¶åœ¨ä¸¤ä¸ªæµè¡Œçš„æ·±åº¦å­¦ä¹ æ¡†æ¶ä¸­å®ç°
&lt;ul&gt;
&lt;li&gt;Pytorch&lt;/li&gt;
&lt;li&gt;Tensorflow&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;DLæ¡†æ¶çš„ä¿®æ”¹ä¸»è¦ä½“ç°åœ¨ä¸‰ä¸ªéƒ¨åˆ†ï¼š
&lt;ul&gt;
&lt;li&gt;å†…å­˜åˆ†é…å™¨
&lt;ul&gt;
&lt;li&gt;ä¸ºäº†å®ç°åŠ¨æ€çš„é€šç”¨å†…å­˜ï¼Œ(tensorflow ::&lt;strong&gt;BFCAllocator&lt;/strong&gt;, PyTorch::&lt;strong&gt;CUDACachingAllocator&lt;/strong&gt;ï¼‰è¢«ä¿®æ”¹ä»¥å¼•å…¥å¯è°ƒæ•´çš„å†…å­˜ä¸Šé™ã€‚å†…å­˜åˆ†é…å™¨ä¼šè·Ÿè¸ªå†…å­˜åˆ†é…çš„æ€»å­—èŠ‚æ•°ï¼Œå¹¶åœ¨æ€»å­—èŠ‚æ•°è¶…è¿‡ä¸Šé™æ—¶è§¦å‘å†…å­˜ä¸è¶³ã€‚&lt;/li&gt;
&lt;li&gt;æ­¤å¤–ï¼Œè¿˜ä¸ºå†…å­˜åˆ†é…å™¨å¼•å…¥äº†ä¸€ä¸ªæ–°çš„æ¥å£ï¼Œå…è®¸åœ¨ä»»ä½•æ—¶å€™æ¸…ç©ºç¼“å­˜å†…å­˜ã€‚&lt;/li&gt;
&lt;li&gt;è¿˜å¢åŠ äº†ä¸€ä¸ªæ–°çš„é€šç”¨å†…å­˜åˆ†é…å™¨&lt;strong&gt;UniversalAllocator&lt;/strong&gt;ï¼Œä»¥åŒ…è£¹GPUå†…å­˜åˆ†é…å™¨å’Œä¸»æœºå†…å­˜åˆ†é…å™¨ï¼ˆå³ä½¿ç”¨cudaHostMallocè¿›è¡Œå†…å­˜åˆ†é…ï¼‰ã€‚
&lt;ul&gt;
&lt;li&gt;å½“å¼ é‡çš„è¯·æ±‚è§¦å‘äº†å†…å­˜åˆ†é…æ—¶ï¼ŒUniversalAllocatorè¯•å›¾ä½¿ç”¨GPUå†…å­˜åˆ†é…å™¨æ¥åˆ†é…å†…å­˜ï¼Œ&lt;/li&gt;
&lt;li&gt;å¦‚æœGPUå†…å­˜å‰©ä½™ä¸è¶³ï¼Œåˆ™å°†CPUå†…å­˜åˆ†é…å™¨ä½œä¸ºå¤‡ä»½ã€‚&lt;/li&gt;
&lt;li&gt;ğŸš¨UniversalAllocatorç»´æŠ¤äº†ä¸€ä¸ªé›†åˆæ•°æ®ç»“æ„ï¼Œè®°å½•äº†ç”±GPUåˆ†é…çš„å†…å­˜åŒºåŸŸçš„æŒ‡é’ˆï¼Œç”¨æ¥å¯¹å†…å­˜æŒ‡é’ˆè¿›è¡Œåˆ†ç±»ï¼Œä»¥ä¾¿äºå›æ”¶ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ‰§è¡Œå™¨
&lt;ul&gt;
&lt;li&gt;ä¸ºäº†å®ç°åŠ¨æ€è®¡ç®—å•å…ƒçš„æ‰©å±•ï¼Œåœ¨DLæ¡†æ¶ä¸­å¼•å…¥äº†ä¸€ä¸ªå¸¦æœ‰è¿ç®—å™¨å¤„ç†é˜Ÿåˆ—çš„&lt;strong&gt;GpuOpManager&lt;/strong&gt;ï¼Œå®ƒåœ¨ä¸€ä¸ªç‹¬ç«‹çš„çº¿ç¨‹ä¸­è¿è¡Œã€‚&lt;/li&gt;
&lt;li&gt;TensorFlowçš„è¿ç®—å™¨è¢«ç›¸åº”åœ°ä¿®æ”¹ï¼Œä»¥æ’å…¥GPU Opåˆ°GpuOpManageré˜Ÿåˆ—ä¸­ï¼Œä»è€Œå°†GPUè¿ç®—å™¨çš„æ‰§è¡Œä¸“é—¨äº¤ç»™å®ƒã€‚&lt;/li&gt;
&lt;li&gt;GpuOpManagerå¯èƒ½ä¼š&lt;strong&gt;æ ¹æ®è®¡ç®—èƒ½åŠ›çš„æœ‰é™ç™¾åˆ†æ¯”&lt;/strong&gt;æ¥å»¶è¿ŸGPUè¿ç®—ç¬¦çš„å®é™…æ‰§è¡Œã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ¥å£&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å†…å­˜ä½¿ç”¨æ¨¡å¼çš„ç»Ÿè®¡æ•°æ®å’Œæ‰§è¡Œä¿¡æ¯è¢«æ±‡æ€»åˆ°æœ¬åœ°åè°ƒå™¨ä¸Š
&lt;ul&gt;
&lt;li&gt;DLæ¡†æ¶å’Œæœ¬åœ°åè°ƒå™¨&lt;strong&gt;é€šè¿‡æ–‡ä»¶ç³»ç»Ÿè¿›è¡Œé€šä¿¡&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;ä»–ä»¬éƒ½æœ‰ä¸€ä¸ªç›‘æ§çº¿ç¨‹æ¥æ£€æŸ¥æ–‡ä»¶ï¼Œä»¥æ¥æ”¶å·¥ä½œç»Ÿè®¡æ•°æ®æˆ–æ§åˆ¶ä¿¡å·&lt;/li&gt;
&lt;li&gt;ä¸ºäº†æœ€å¤§é™åº¦åœ°å‡å°‘å†…å­˜ç®¡ç†çš„å¼€é”€ï¼Œå†…å­˜çš„åŠ¨æ€ç¼©æ”¾æ˜¯åœ¨mini-batchçš„è¾¹ç•Œï¼ˆsession.run()çš„ç»“æŸï¼‰è§¦å‘çš„&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;cluster-scheduler&#34;&gt;Cluster Scheduler&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨Kubernetesä¸Šå®ç°äº†ä¸€ä¸ªè‡ªå®šä¹‰è°ƒåº¦å™¨ï¼Œä½œä¸ºè¯„ä¼°AntMançš„åŸå‹ã€‚
&lt;ul&gt;
&lt;li&gt;Kubernetesè´Ÿè´£é›†ç¾¤ç®¡ç†å’Œæ‰§è¡ŒDockerå®¹å™¨ä¸­çš„ä½œä¸šã€‚&lt;/li&gt;
&lt;li&gt;æˆ‘ä»¬çš„&lt;strong&gt;å…¨å±€è°ƒåº¦å™¨ä½¿ç”¨Python APIsæ¥ç›‘æ§&lt;/strong&gt;Kubernetesçš„APIæœåŠ¡å™¨ä¸­çš„äº‹ä»¶ï¼Œä»¥ä¾¿è¿›è¡Œè°ƒåº¦ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æœ¬åœ°åè°ƒå™¨ä½œä¸ºDaemonSetéƒ¨ç½²&lt;/strong&gt;åœ¨Kubernetesä¸­ã€‚æ¯ä¸ªåè°ƒå™¨ç›‘æ§æ–‡ä»¶ç³»ç»Ÿçš„æŸäº›è·¯å¾„ï¼Œä»¥æ”¶é›†æ¯ä¸ªä½œä¸šçš„æŠ¥å‘Šä¿¡æ¯ã€‚&lt;/li&gt;
&lt;li&gt;æ±‡æ€»çš„ä½œä¸šå’Œè®¾å¤‡&lt;strong&gt;ä¿¡æ¯å­˜å‚¨åœ¨ETCDä¸­&lt;/strong&gt;ï¼Œè¿™æ˜¯Kubernetesä¸­å†…ç½®çš„åˆ†å¸ƒå¼é”®å€¼å­˜å‚¨ã€‚å› æ­¤ï¼Œå…¨å±€è°ƒåº¦å™¨åœ¨åšè°ƒåº¦å†³ç­–æ—¶ç›´æ¥è¯»å–ETCDä¸­çš„çŠ¶æ€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;evaluation&#34;&gt;Evaluation&lt;/h2&gt;
&lt;h3 id=&#34;benchmark&#34;&gt;Benchmark&lt;/h3&gt;
&lt;h3 id=&#34;trace-experiment&#34;&gt;Trace Experiment&lt;/h3&gt;
&lt;h3 id=&#34;cluster-experiment&#34;&gt;Cluster Experiment&lt;/h3&gt;
&lt;h2 id=&#34;ralated-work&#34;&gt;Ralated Work&lt;/h2&gt;
&lt;h2 id=&#34;conclusion&#34;&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;å‚è€ƒèµ„æ–™&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è®ºæ–‡åœ°å€ï¼š&lt;a class=&#34;link&#34; href=&#34;https://www.usenix.org/conference/osdi20/presentation/xiao&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;AntMan: Dynamic Scaling on GPU Clusters for Deep Learning | USENIX&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä»£ç åœ°å€ï¼šhttps://github.com/alibaba/GPU-scheduler-for-deep-learning&lt;/li&gt;
&lt;li&gt;å‚è€ƒï¼š&lt;a class=&#34;link&#34; href=&#34;http://gaocegege.com/Blog/kubernetes/antman&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;OSDI&#39;20 è®ºæ–‡èµï¼šANTMAN: DYNAMIC SCALING ON GPU CLUSTERS FOR DEEP LEARNING | é«˜ç­– (gaocegege.com)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>GaiaGPU è®ºæ–‡é˜…è¯»ç¬”è®°</title>
        <link>https://tweakzx.github.io/p/gaiagpu-%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/</link>
        <pubDate>Fri, 26 Aug 2022 17:20:32 +0800</pubDate>
        
        <guid>https://tweakzx.github.io/p/gaiagpu-%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/</guid>
        <description>&lt;img src="https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/20220826142857.png" alt="Featured image of post GaiaGPU è®ºæ–‡é˜…è¯»ç¬”è®°" /&gt;&lt;h2 id=&#34;gaiagpusharing-gpus-in-container-cloudsè®ºæ–‡ç¬”è®°&#34;&gt;ã€ŠGaiaGPUï¼šSharing GPUs in Container Cloudsã€‹è®ºæ–‡ç¬”è®°&lt;/h2&gt;
&lt;h3 id=&#34;abstract&#34;&gt;Abstract&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;å¯¹äºäº‘æœåŠ¡çš„æä¾›å•†ï¼Œ å¦‚ä½•åœ¨å®¹å™¨é—´å…±äº«GPUï¼Œ æ˜¯ä¸€ä¸ªæœ‰å¸å¼•åŠ›çš„é—®é¢˜
&lt;ul&gt;
&lt;li&gt;å®¹å™¨çš„è½»é‡ä¸ä¼¸ç¼©æ€§&lt;/li&gt;
&lt;li&gt;GPUå¼ºå¤§çš„å¹¶è¡Œè®¡ç®—èƒ½åŠ›&lt;/li&gt;
&lt;li&gt;åœ¨äº‘ç¯å¢ƒï¼Œå®¹å™¨éœ€è¦ä½¿ç”¨ä¸€ä¸ªæˆ–å¤šä¸ªGPUæ¥æ»¡è¶³èµ„æºéœ€è¦çš„åŒæ—¶ï¼Œ å®¹å™¨ç‹¬å å¼çš„GPUå¾€å¾€ä½¿ç”¨ç‡å¾ˆä½&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æˆ‘ä»¬æå‡ºGaiaGPUï¼Œèƒ½å¤Ÿåœ¨å®¹å™¨é—´å…±äº«æ˜¾å­˜å’Œç®—åŠ›
&lt;ul&gt;
&lt;li&gt;å°†ç‰©ç†GPUåˆ’åˆ†ä¸ºå¤šä¸ªè™šæ‹ŸGPU&lt;/li&gt;
&lt;li&gt;é‡‡ç”¨&lt;strong&gt;å¼¹æ€§èµ„æºåˆ†é…&lt;/strong&gt;å’Œ&lt;strong&gt;åŠ¨æ€èµ„æºåˆ†é…&lt;/strong&gt;æ¥æé«˜èµ„æºåˆ©ç”¨ç‡&lt;/li&gt;
&lt;li&gt;å®éªŒç»“æœæ˜¾ç¤ºï¼Œ æœ‰æ•ˆçš„å®ç°äº†å®¹å™¨é—´èµ„æºçš„åˆ†é…å’Œéš”ç¦»çš„åŒæ—¶ï¼Œå¹³å‡åªå¢åŠ äº†1.015%çš„å¼€é”€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;introduction&#34;&gt;Introduction&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;å®¹å™¨åŒ–æ˜¯ä¸€ç§è™šæ‹ŸåŒ–æŠ€æœ¯
&lt;ul&gt;
&lt;li&gt;æ¶‰åŠåˆ°é‡èº«å®šåˆ¶ä¸€ä¸ªæ ‡å‡†æ“ä½œç³»ç»Ÿï¼Œæ–¹ä¾¿å®ƒåœ¨ä¸€ä¸ªç‰©ç†æœºä¸Šè¿è¡Œç”±å¤šä¸ªç”¨æˆ·å¤„ç†çš„ä¸åŒåº”ç”¨ç¨‹åº&lt;/li&gt;
&lt;li&gt;ä¸VMæ¨¡æ‹Ÿåº•å±‚ç¡¬ä»¶ä¸åŒ
&lt;ul&gt;
&lt;li&gt;å®¹å™¨æ¨¡æ‹Ÿçš„æ˜¯æ“ä½œç³»ç»Ÿ&lt;/li&gt;
&lt;li&gt;è½»é‡ï¼Œå¯ä¼¸ç¼©ï¼Œæ˜“éƒ¨ç½²&lt;/li&gt;
&lt;li&gt;å¾®æœåŠ¡æ‰“åŒ…ä¸å‘å¸ƒåº”ç”¨çš„äº‹å®æ ‡å‡†&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;äº‘æœåŠ¡æä¾›å•†æ•´åˆå®¹å™¨ç¼–æ’æ¡†æ¶ï¼ˆå¦‚k8sï¼‰åˆ°åŸºç¡€æ¶æ„ä¸­æ¥æä¾›å®¹å™¨äº‘&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;GPU å›¾åƒå¤„ç†å•å…ƒ
&lt;ul&gt;
&lt;li&gt;æœ‰å¾ˆå¼ºçš„å¹¶è¡Œå¤„ç†èƒ½åŠ›
&lt;ul&gt;
&lt;li&gt;å› ä¸ºä¸€ä¸ªèŠ¯ç‰‡ä¸Šé›†æˆäº†æ•°ä»¥åƒè®¡çš„è®¡ç®—æ ¸&lt;/li&gt;
&lt;li&gt;GPUè¢«å¹¿æ³›ç”¨äºè®¡ç®—å¯†é›†å‹ä»»åŠ¡ï¼Œä»¥åŠ å¿«è®¡ç®—&lt;/li&gt;
&lt;li&gt;éšç€æŠ€æœ¯çš„å‘å±•è¶‹åŠ¿ï¼Œç°ä»£GPUå†…å°†é›†æˆå…¥è¶Šæ¥è¶Šå¤šçš„è®¡ç®—èµ„æº&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;CUDAæ˜¯å¤šåŠŸèƒ½GPUæœ€æµè¡Œçš„å¹³å°ï¼Œæä¾›äº†APIæ–¹ä¾¿GPUçš„ä½¿ç”¨&lt;/li&gt;
&lt;li&gt;å“è¶Šçš„æ€§èƒ½å¸å¼•äº†å¾ˆå¤šäº‘æä¾›å•†å°†GPUå¼•å…¥äº‘ç¯å¢ƒ
&lt;ul&gt;
&lt;li&gt;åœ¨äº‘ç¯å¢ƒä¸­ï¼Œéƒ¨ç½²åœ¨å®¹å™¨ä¸­çš„ä¸€ä¸ªåº”ç”¨ç¨‹åºå¯èƒ½éœ€è¦ä¸€ä¸ªæˆ–å¤šä¸ªGPUæ‰èƒ½æ‰§è¡Œï¼Œ&lt;/li&gt;
&lt;li&gt;è€Œå¦ä¸€æ–¹é¢ï¼Œåº”ç”¨ç¨‹åºçš„ä¸“ç”¨GPUèµ„æºå¯¼è‡´èµ„æºä¸è¶³ã€‚&lt;/li&gt;
&lt;li&gt;å› æ­¤ï¼Œå¦‚ä½•åœ¨ä¸åŒçš„å®¹å™¨ä¸­å…±äº«GPUå¯¹å¤§å¤šæ•°äº‘æä¾›å•†éƒ½éå¸¸æ„Ÿå…´è¶£&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;GPUè™šæ‹ŸåŒ–æŠ€æœ¯æ˜¯åœ¨éš”ç¦»çš„è™šæ‹Ÿç¯å¢ƒï¼ˆä¾‹å¦‚VMï¼Œ å®¹å™¨ï¼‰ä¹‹é—´å…±äº«GPUçš„æŠ€æœ¯
&lt;ul&gt;
&lt;li&gt;å¤šæ•°çš„GPUè™šæ‹ŸåŒ–æŠ€æœ¯åº”ç”¨äºVMï¼Œ å®¹å™¨é—´çš„è™šæ‹ŸåŒ–æŠ€æœ¯è¿˜åœ¨èµ·å§‹é˜¶æ®µ&lt;/li&gt;
&lt;li&gt;ç°é˜¶æ®µçš„åŸºäºå®¹å™¨çš„GPUè™šæ‹ŸåŒ–æŠ€æœ¯æœ‰ä»¥ä¸‹&lt;strong&gt;å±€é™æ€§&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;éœ€è¦ç‰¹å®šçš„ç¡¬ä»¶è®¾å¤‡ï¼ˆNVIDIA GRIDï¼‰&lt;/li&gt;
&lt;li&gt;å°†ä¸€æ•´ä¸ªGPUåˆ†é…ç»™å•ä¸ªå®¹å™¨ï¼Œ ä¸èƒ½å…±äº« ï¼ˆNVIDIA Dockerï¼‰&lt;/li&gt;
&lt;li&gt;å®¹å™¨é—´åªèƒ½å…±äº«GPUæ˜¾å­˜ ï¼ˆConvGPUï¼‰&lt;/li&gt;
&lt;li&gt;åªæ”¯æŒå•ä¸ªGPU ï¼ˆConvGPUï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æˆ‘ä»¬æå‡ºGaiaGPUï¼Œèƒ½å¤Ÿåœ¨å®¹å™¨é—´é€æ˜åœ°å…±äº«æ˜¾å­˜å’Œç®—åŠ›
&lt;ul&gt;
&lt;li&gt;ç”¨æˆ·ä¸ç”¨ä¿®æ”¹å®¹å™¨é•œåƒæ¥å…±äº«åº•å±‚GPU
&lt;ul&gt;
&lt;li&gt;æˆ‘ä»¬ä½¿ç”¨k8sçš„device plugin æ¡†æ¶å°†ç‰©ç†GPUåˆ’åˆ†ä¸ºå¤šä¸ªè™šæ‹ŸGPU&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ¯ä¸ªé•œåƒå¯ä»¥æŒ‰éœ€åˆ†é…ä¸€ä¸ªæˆ–è€…å¤šä¸ªvGPU&lt;/li&gt;
&lt;li&gt;æä¾›äº†ä¸¤è€…æ–¹å¼åœ¨è¿è¡Œæ—¶æ›´æ”¹é•œåƒèµ„æº
&lt;ul&gt;
&lt;li&gt;å¼¹æ€§èµ„æºåˆ†é…ï¼šæš‚æ—¶æ”¹å˜èµ„æº&lt;/li&gt;
&lt;li&gt;åŠ¨æ€èµ„æºåˆ†é…ï¼šæ°¸ä¹…æ”¹å˜èµ„æº&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;vGPUåŒ…æ‹¬GPUæ˜¾å­˜å’Œè®¡ç®—èµ„æº
&lt;ul&gt;
&lt;li&gt;å…±äº«æ˜¾å­˜
&lt;ul&gt;
&lt;li&gt;å®¹å™¨åŒ…å«GPUæ˜¾å­˜çš„ä¸€å°éƒ¨åˆ†&lt;/li&gt;
&lt;li&gt;vGPUåˆ†é…çš„æ˜¯GPUçš„ç‰©ç†å†…å­˜&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å…±äº«è®¡ç®—èµ„æº
&lt;ul&gt;
&lt;li&gt;å…±äº«è®¡ç®—èµ„æºæ„å‘³ç€æ¯ä¸ªå®¹å™¨éƒ½æ‹¥æœ‰GPUçº¿ç¨‹çš„ä¸€éƒ¨åˆ†ä»¥å¹¶è¡Œæ‰§è¡Œè®¡ç®—ã€‚&lt;/li&gt;
&lt;li&gt;VGPUçš„è®¡ç®—èµ„æºç”±GPUçš„åˆ©ç”¨ç‡è¡¡é‡ï¼ˆé‡‡æ ·æ—¶æ®µå†…ï¼Œ å®¹å™¨ä½¿ç”¨GPUçš„æ—¶é—´æ¯”ä¾‹ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ€»ç»“ï¼šæœ¬æ–‡åšäº†å¦‚ä¸‹è´¡çŒ®
&lt;ul&gt;
&lt;li&gt;æå‡ºäº†GaiaGPUï¼šä¸€ç§åœ¨å®¹å™¨é—´é€æ˜å…±äº«æ˜¾å­˜ä¸ç®—åŠ›çš„æ–¹æ³•&lt;/li&gt;
&lt;li&gt;é‡‡ç”¨å¼¹æ€§åˆ†é…å’ŒåŠ¨æ€åˆ†é…çš„æ–¹å¼æé«˜äº†èµ„æºçš„åˆ©ç”¨ç‡&lt;/li&gt;
&lt;li&gt;è¿›è¡Œäº†å››ä¸ªå®éªŒæ¥éªŒè¯GaiaGPUçš„æ€§èƒ½ã€‚ç»“æœï¼šå®ç°äº†å®¹å™¨é—´èµ„æºçš„åˆ†é…å’Œéš”ç¦»çš„åŒæ—¶ï¼Œå¹³å‡åªå¢åŠ äº†1.015%çš„å¼€é”€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;related-work&#34;&gt;Related Work&lt;/h3&gt;
&lt;h4 id=&#34;gpuè™šæ‹ŸåŒ–&#34;&gt;GPUè™šæ‹ŸåŒ–&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;è¢«åº”ç”¨äºåœ¨å¤šä¸ªè™šæ‹Ÿç¯å¢ƒä¹‹é—´åˆ†äº«GPUï¼Œ æå¤§åœ°æé«˜äº†åº”ç”¨æ€§èƒ½&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç°å­˜çš„å¤šæ•°GPUè™šæ‹ŸåŒ–æŠ€æœ¯åŸºäºVMï¼Œä¸»è¦æœ‰ä¸‰ç§è™šæ‹ŸåŒ–GPU&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;API remoting
&lt;ul&gt;
&lt;li&gt;vCUDA å’Œ rCUDA&lt;/li&gt;
&lt;li&gt;åˆ›å»ºGPUçš„å°è£…åº“-&amp;gt;åŠ«æŒGPUè°ƒç”¨-&amp;gt;å°†é‡å®šå‘åˆ°host&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.geeksforgeeks.org/difference-between-full-virtualization-and-paravirtualization/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;para and full  virtualization&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;GPUvm&lt;/li&gt;
&lt;li&gt;GPUvmå°†GPUæ˜¾å­˜å’ŒMMIOï¼ˆå­˜å‚¨å™¨æ˜ å°„è¾“å…¥è¾“å‡ºï¼‰åˆ†æˆå‡ ç‰‡ï¼Œå°†ç‰‡åˆ†ç»™VM&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ç¡¬ä»¶æ”¯æŒçš„è™šæ‹ŸåŒ–
&lt;ul&gt;
&lt;li&gt;NVIDIA GRID&lt;/li&gt;
&lt;li&gt;ç¡¬ä»¶è™šæ‹ŸåŒ–ï¼Œåˆ›å»ºè™šæ‹ŸGPUï¼ŒæŒ‚åœ¨å®¹å™¨&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¸VMç›¸æ¯”ï¼Œ å®¹å™¨ä½¿ç”¨ä¸»æœºçš„æ“ä½œç³»ç»Ÿ-&amp;gt;å®¹å™¨å¯ä»¥ç›´æ¥ä½¿ç”¨å®¿ä¸»æœºçš„GPUé©±åŠ¨-&amp;gt;æ€§èƒ½æ¥è¿‘åŸç”Ÿç¯å¢ƒ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;NVIDIA GRID
&lt;ul&gt;
&lt;li&gt;éœ€è¦ç‰¹å®šçš„ç¡¬ä»¶å’Œä¸è™šæ‹ŸGPUè¦æœ‰ç›¸åŒçš„èµ„æºé…ç½®&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ªå®¹å™¨åªèƒ½åˆ†é…ä¸€ä¸ªè™šæ‹ŸGPU&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;NVIDIA Docker
&lt;ul&gt;
&lt;li&gt;ä½¿å¾—Dockeré•œåƒå¯ä»¥ä½¿ç”¨GPU&lt;/li&gt;
&lt;li&gt;å…è®¸GPUé©±åŠ¨å¯¹CUDAé•œåƒä¸æ„ŸçŸ¥&lt;/li&gt;
&lt;li&gt;æä¾›äº†ä¸€ä¸ªå‘½ä»¤è¡Œçš„å°è£…-&amp;gt;å½“å®¹å™¨å¯åŠ¨æ—¶å¯ä»¥æŒ‚è½½driverçš„ç”¨æˆ·æ€ç»„ä»¶å’ŒGPUè®¾å¤‡æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;ä¸èƒ½å…±äº«ï¼šåªèƒ½æŠŠä¸€æ•´ä¸ªGPUåˆ†é…ç»™ä¸€ä¸ªå®¹å™¨&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ConvGPU
&lt;ul&gt;
&lt;li&gt;å®¹å™¨é—´å…±äº«GPUæ˜¾å­˜&lt;/li&gt;
&lt;li&gt;å®ƒæ‹¦æˆªäº†CUDAåº“æ¥ç®¡ç†æ¯ä¸ªé•œåƒæ˜¾å­˜çš„åˆ†é…å’Œå›æ”¶&lt;/li&gt;
&lt;li&gt;ä»…æ”¯æŒåˆ†äº«æ˜¾å­˜&lt;/li&gt;
&lt;li&gt;è€Œä¸”åªèƒ½è™šæ‹ŸåŒ–å•ä¸ªç‰©ç†GPU&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;GaiaGPU&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;è½¯ä»¶å±‚è™šæ‹ŸåŒ–ï¼Œæ²¡æœ‰ç¡¬ä»¶é™åˆ¶&lt;/li&gt;
&lt;li&gt;æ¯ä¸ªè™šæ‹ŸGPUçš„èµ„æºå¯ä»¥æ˜¯ä¸ä¸€æ ·çš„&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ªå®¹å™¨å¯ä»¥åˆ†é…å¤šä¸ªè™šæ‹ŸGPU&lt;/li&gt;
&lt;li&gt;å¯ä»¥åŒæ—¶å…±äº«æ˜¾å­˜å’Œè®¡ç®—èµ„æº&lt;/li&gt;
&lt;li&gt;å¯ä»¥è™šæ‹ŸåŒ–å¤šä¸ªç‰©ç†GPU&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;device-plugin&#34;&gt;Device Plugin&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;è‡´åŠ›äºå¾è˜å„ç§è®¡ç®—èµ„æºï¼ˆGPUsï¼Œ NICsï¼Œ FPGAsï¼‰ä¾›é›†ç¾¤ä½¿ç”¨&lt;/li&gt;
&lt;li&gt;æ— éœ€æ”¹å˜k8sçš„æ ¸å¿ƒä»£ç &lt;/li&gt;
&lt;li&gt;å·¥ä½œæµ
&lt;ul&gt;
&lt;li&gt;èµ„æºå‘ç°
&lt;ul&gt;
&lt;li&gt;å®ç°Device Plugin&lt;/li&gt;
&lt;li&gt;é€šè¿‡gRPCå°†deviceæ³¨å†Œåˆ°Kubelet&lt;/li&gt;
&lt;li&gt;æˆåŠŸæ³¨å†Œåï¼Œdevice pluginå‘é€è®¾å¤‡åˆ—è¡¨&lt;/li&gt;
&lt;li&gt;Kubeletè´Ÿè´£å°†è¿™ä¸ªæ‰©å±•èµ„æºæ¨å¹¿ç»™Master&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;èµ„æºåˆ†é…
&lt;ul&gt;
&lt;li&gt;ç”¨æˆ·åœ¨å®¹å™¨çš„specificationä¸­è¯·æ±‚è®¾å¤‡&lt;/li&gt;
&lt;li&gt;masterçš„scheduleré€‰æ‹©ä¸€ä¸ªk8sèŠ‚ç‚¹çš„device pluginå‘é€deviceè¯·æ±‚&lt;/li&gt;
&lt;li&gt;device pluginåˆ†é…å¯¹åº”çš„è®¾å¤‡ç»™å®¹å™¨&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/20220828115537.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/20220828115537.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			alt=&#34;img&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;img&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Vaucher&lt;/strong&gt;é€šè¿‡åˆ©ç”¨è®¾å¤‡æ’ä»¶æ¡†æ¶æ¥å®ç°SGXï¼ˆSoftware Guard Extensionsï¼‰è®¾å¤‡è™šæ‹ŸåŒ–ï¼Œ
&lt;ul&gt;
&lt;li&gt;è¯¥æ’ä»¶æ¡†æ¶ä¿®æ”¹äº†Kubeletå’ŒSGXä»£ç ä»¥é™åˆ¶è™šæ‹ŸSGXè®¾å¤‡çš„è®¾å¤‡å†…å­˜çš„ä½¿ç”¨&lt;/li&gt;
&lt;li&gt;ä»…å¤„ç†å†…å­˜èµ„æº&lt;/li&gt;
&lt;li&gt;å¯¹å†…å­˜æ–½åŠ ä¸¥é‡é™åˆ¶&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;GaiaGPU&lt;/strong&gt;ä¹Ÿé‡‡ç”¨äº†device pluginæ¡†æ¶ä»¥åœ¨å®¹å™¨ä¹‹é—´å…±äº«èµ„æº
&lt;ul&gt;
&lt;li&gt;å¯¹èµ„æºé‡‡ç”¨å¼¹æ€§é™åˆ¶è€Œä¸æ˜¯ç¡¬é™åˆ¶-&amp;gt;æ¥æ”¹å–„åˆ©ç”¨ç‡&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;design-and-implementation&#34;&gt;Design And Implementation&lt;/h3&gt;
&lt;h4 id=&#34;è®¾è®¡ä¸å®ç°&#34;&gt;è®¾è®¡ä¸å®ç°&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;ç›®æ ‡ï¼šåœ¨å®¹å™¨é—´å…±äº«æ˜¾å­˜ä¸è®¡ç®—èµ„æºï¼Œä½¿ç”¨æœ€å°çš„æˆæœ¬è·å¾—æœ€å¤§çš„æå‡&lt;/li&gt;
&lt;li&gt;æŒ‘æˆ˜ï¼š
&lt;ul&gt;
&lt;li&gt;é€æ˜æ€§ï¼š
&lt;ul&gt;
&lt;li&gt;GaiaGPUä¸åº”è¯¥ä¿®æ”¹k8sçš„ä»£ç æˆ–è€…å®¹å™¨é•œåƒ&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨å…±äº«GPUå°±å¦‚åŒä½¿ç”¨ç‰©ç†GPUä¸€æ ·&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ä½å¼€é”€
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨å…±äº«GPUçš„æ€§èƒ½å°½å¯èƒ½æ¥è¿‘ä½¿ç”¨ç‰©ç†GPU&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;éš”ç¦»
&lt;ul&gt;
&lt;li&gt;GaiaGPUåº”è¯¥ç®¡ç†GPUèµ„æºåœ¨æ¯ä¸ªå®¹å™¨çš„åˆ†é…ä¸å›æ”¶&lt;/li&gt;
&lt;li&gt;å…±äº«GPUæ—¶å®¹å™¨ä¹‹é—´å®Œå…¨éš”ç¦»&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ç»“æ„ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/20220828143547.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/20220828143547.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			alt=&#34;image-20220828143547571&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;image-20220828143547571&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;ä¸¤å±‚èµ„æºç®¡ç†
&lt;ul&gt;
&lt;li&gt;hostå±‚ï¼š
&lt;ul&gt;
&lt;li&gt;GPU Managerè´Ÿè´£åˆ›å»ºvGPUs&lt;/li&gt;
&lt;li&gt;GPU Scheduler è´Ÿè´£åˆ†é…ç‰©ç†GPUèµ„æºåˆ°vGPUs&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å®¹å™¨å±‚
&lt;ul&gt;
&lt;li&gt;vGPU Libraryè´Ÿè´£ç®¡ç†å…·ä½“å®¹å™¨çš„GPUèµ„æº&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ç»„ä»¶
&lt;ul&gt;
&lt;li&gt;GPU Manager
&lt;ul&gt;
&lt;li&gt;device pluginï¼šè¿è¡Œåœ¨hostä¸Šè´Ÿè´£åˆ›å»ºvGPUsï¼Œä½¿ç”¨gRPCä¸Kubeleté€šä¿¡&lt;/li&gt;
&lt;li&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/20220828171002.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/20220828171002.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			alt=&#34;image-20220828171002587&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;image-20220828171002587&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;Registerï¼šGPU Managerå°†è‡ªèº«æ³¨å†Œåˆ°Kubeletä»¥é€šçŸ¥å…¶å­˜åœ¨&lt;/li&gt;
&lt;li&gt;ListAndWatchï¼šæˆåŠŸæ³¨å†Œåï¼ŒKubeletè°ƒç”¨ListAndWatchè·å–è®¾å¤‡ä¿¡æ¯List
&lt;ul&gt;
&lt;li&gt;æ˜¾å­˜ï¼š256M ä½œä¸ºä¸€ä¸ªå•å…ƒï¼Œ æ¯ä¸ªå•å…ƒéƒ½è¢«ç§°ä½œä¸€ä¸ªvmemoryè®¾å¤‡&lt;/li&gt;
&lt;li&gt;è®¡ç®—èµ„æºï¼šä¸€ä¸ªGPUè¢«åˆ†ä½œ100ä»½vprocessorè®¾å¤‡ï¼Œ æ¯ä¸ªvprocessoréƒ½æœ‰ç™¾åˆ†ä¹‹ä¸€çš„åˆ©ç”¨ç‡&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Allocateï¼š
&lt;ul&gt;
&lt;li&gt;æ˜ å°„è¿‡ç¨‹
&lt;ul&gt;
&lt;li&gt;Kubeletå‘é€éšæœºé€‰æ‹©çš„è®¾å¤‡IDsåˆ°GPU Manager&lt;/li&gt;
&lt;li&gt;GPU Manageræ ¹æ®å¾—åˆ°çš„è®¾å¤‡IDsè®¡ç®—æ‰€éœ€çš„ç‰©ç†GPUèµ„æº&lt;/li&gt;
&lt;li&gt;GPU Manage å‘é€ä¸€ä¸ªè¯·æ±‚åˆ° GPU Scheduler&lt;/li&gt;
&lt;li&gt;GPU Scheduler è¿”å›è¦åˆ†é…ç»™å®¹å™¨çš„ç‰©ç†GPU&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ˜ å°„å®Œæˆåï¼ŒGPU managerè¿”å›ä¸€ä¸ªallocateResponseï¼Œ åŒ…å«è·å–åˆ†é…åˆ°çš„è®¾å¤‡çš„Configurations
&lt;ul&gt;
&lt;li&gt;å®¹å™¨çš„ç¯å¢ƒå˜é‡&lt;/li&gt;
&lt;li&gt;æŒ‚è½½åˆ°å®¹å™¨çš„ç›®å½•å’Œæ–‡ä»¶&lt;/li&gt;
&lt;li&gt;åˆ†é…çš„è®¾å¤‡&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Kubeletå°†è¿™äº›é…ç½®å‘é€åˆ°å®¹å™¨è¿è¡Œæ—¶&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;GPU Scheduler
&lt;ul&gt;
&lt;li&gt;è´Ÿè´£å¤„ç†GPU Managerå‘æ¥çš„è°ƒåº¦è¯·æ±‚&lt;/li&gt;
&lt;li&gt;åŸºäºæ‹“æ‰‘æ ‘åˆ†é…GPUï¼Œæ ‘çš„æ ¹èŠ‚ç‚¹æ˜¯hostï¼Œ æ ‘çš„å¶èŠ‚ç‚¹æ˜¯ç‰©ç†GPU&lt;/li&gt;
&lt;li&gt;å½“æ‰€éœ€è¦çš„èµ„æºå°‘äºä¸€ä¸ªç‰©ç†GPUï¼Œåˆ†é…ç­–ç•¥ä¼šæœ€å¤§ç¨‹åº¦å‡å°‘èµ„æºç¢ç‰‡&lt;/li&gt;
&lt;li&gt;å½“æ‰€éœ€çš„èµ„æºç­‰äºä¸€ä¸ªç‰©ç†GPUæ—¶ï¼Œé‡‡ç”¨äº†æœ€å°åŒ–å•å¶èŠ‚ç‚¹ï¼ˆå³æ²¡æœ‰å…„å¼Ÿå§å¦¹èŠ‚ç‚¹çš„å¶å­èŠ‚ç‚¹ï¼‰çš„åˆ†é…ç­–ç•¥ã€‚&lt;/li&gt;
&lt;li&gt;å½“æ‰€éœ€çš„èµ„æºä¸æ­¢ä¸€ä¸ªç‰©ç†GPUæ—¶ï¼Œåˆ†é…ç­–ç•¥çš„ç›®æ ‡æ˜¯æœ€å¤§ç¨‹åº¦åœ°é™ä½GPUçš„é€šä¿¡æˆæœ¬ã€‚é€šä¿¡æˆæœ¬å–å†³äºä¸¤ä¸ªGPUçš„è¿æ¥æ¨¡å¼ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;vGPU Manager
&lt;ul&gt;
&lt;li&gt;è¿è¡Œåœ¨hostï¼Œä¼ é€’å®¹å™¨é…ç½®å¹¶ä¸”ç›‘ç®¡åˆ†é…äº†vGPUsçš„å®¹å™¨&lt;/li&gt;
&lt;li&gt;å½“å®¹å™¨ç”³è¯·GPUèµ„æºæ—¶ï¼ŒGPU Managerå°†é…ç½®å‘é€ç»™vGPU Managerï¼Œä¾‹å¦‚
&lt;ul&gt;
&lt;li&gt;éœ€è¦çš„GPUèµ„æº&lt;/li&gt;
&lt;li&gt;è¯¥å®¹å™¨çš„name&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ¥æ”¶åˆ°é…ç½®åï¼Œåœ¨ä¸»æœºä¸Šä¸ºå®¹å™¨å‘½åˆ›å»ºä¸€ä¸ªå”¯ä¸€çš„è·¯å¾„
&lt;ul&gt;
&lt;li&gt;è·¯å¾„åä¸ºå®¹å™¨å&lt;/li&gt;
&lt;li&gt;è¿™ä¸ªè·¯å¾„åŒ…å«åœ¨allocateResponseé‡Œ&lt;/li&gt;
&lt;li&gt;å®¹å™¨çš„é…ç½®ä¹ŸåŒ…å«åœ¨è¿™ä¸ªè·¯å¾„é‡Œï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡Kubeletä¼ é€’åˆ°å®¹å™¨&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;vGPU Manager å’Œ vGPU Libraryæ˜¯ æœåŠ¡å™¨-å®¢æˆ·ç«¯æ¨¡å¼
&lt;ul&gt;
&lt;li&gt;vGPU Manager ç»´æŠ¤ä¸€ä¸ªæ´»ç€çš„ä¸”åˆ†é…äº†GPUèµ„æºçš„å®¹å™¨çš„list&lt;/li&gt;
&lt;li&gt;ä¼šå®šæœŸæ£€æŸ¥è¿™äº›å®¹å™¨æ˜¯å¦å­˜æ´»&lt;/li&gt;
&lt;li&gt;å¦‚æœå®¹å™¨æ­»äº†ï¼Œä»listä¸­ç§»é™¤è¿™ä¸ªå®¹å™¨çš„ä¿¡æ¯ï¼Œå¹¶ä¸”åˆ é™¤ç›®å½•&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;vGPU Library
&lt;ul&gt;
&lt;li&gt;è¿è¡Œåœ¨å®¹å™¨ä¸­ï¼Œç®¡ç†å®¹å™¨çš„GPUèµ„æº&lt;/li&gt;
&lt;li&gt;åœ¨å®¹å™¨ç¬¬ä¸€æ¬¡æ‰§è¡ŒGPUç¨‹åºæ—¶è¢«åŠ è½½&lt;/li&gt;
&lt;li&gt;å¯åŠ¨åvGPU Libraray å‘ vGPU Manageræ³¨å†Œè‡ªèº«&lt;/li&gt;
&lt;li&gt;åˆ©ç”¨&lt;strong&gt;LD_LIBRARY_PATH&lt;/strong&gt;æœºåˆ¶æ‹¦æˆªCUDAåº“ä¸­å†…å­˜ä¸è®¡ç®—ç›¸å…³çš„API
&lt;ul&gt;
&lt;li&gt;LD_LIBRARY_PATHæ˜¯ä¸€ä¸ªlinuxç³»ç»Ÿçš„ç¯å¢ƒå˜é‡&lt;/li&gt;
&lt;li&gt;å¯ä»¥å½±å“ç¨‹åºçš„runtime link&lt;/li&gt;
&lt;li&gt;å…è®¸æŸäº›è·¯å¾„å…ˆäºstandard set of directoriesï¼ˆï¼Ÿæ ‡å‡†åº“ç›®å½•ï¼Ÿï¼‰åŠ è½½&lt;/li&gt;
&lt;li&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/20220828222019.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/20220828222019.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			alt=&#34;image-20220828222012346&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;image-20220828222012346&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å½“å®¹å™¨éœ€è¦çš„GPUèµ„æºè¶…å‡ºå®ƒç”³è¯·çš„èµ„æºæ—¶ï¼Œä¸ºäº†é¿å…è€—å°½æ•´ä¸ªGPUï¼Œæœ‰ä¸¤ç§èµ„æºé™åˆ¶ç­–ç•¥
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ç¡¬é™åˆ¶ï¼ˆhard limiitï¼‰&lt;/strong&gt;ï¼šå¦‚æœå®¹å™¨èµ„æºæ¶ˆè€—é‡è¶…è¿‡é…é¢ï¼Œå°±ä¸å†ç»™è¯¥å®¹å™¨åˆ†é…èµ„æº&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¼¹æ€§é™åˆ¶ï¼ˆelastic limitï¼‰&lt;/strong&gt;ï¼šå¦‚æœå®¹å™¨èµ„æºæ¶ˆè€—é‡è¶…è¿‡é…é¢ï¼Œä½†æ˜¯ç³»ç»Ÿä¸­è¿˜æœ‰ç©ºé—²èµ„æºï¼Œé‚£ä¹ˆè¯¥å®¹å™¨ä»ç„¶èƒ½å¤Ÿå¾—åˆ°æ›´å¤šçš„èµ„æº&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å†…å­˜èµ„æºçš„é™åˆ¶é‡‡ç”¨ç¡¬é™åˆ¶ç­–ç•¥ï¼Œ å› ä¸º
&lt;ul&gt;
&lt;li&gt;å†…å­˜èµ„æºå¤§å°èƒ½å†³å®šä¸€ä¸ªç¨‹åºèƒ½å¦è¿è¡Œï¼Œä½†å¯¹è¿è¡Œçš„æ•ˆç‡å½±å“è¾ƒå°&lt;/li&gt;
&lt;li&gt;GPUæ˜¯è®¡ç®—è®¾å¤‡ï¼Œå®ƒä»¬é‡‡ç”¨ä¸€æ¬¡æ€§èµ„æºåˆ†é…ç­–ç•¥ã€‚ä»…åœ¨è·å–æ‰€æœ‰å†…å­˜èµ„æºåæ‰å¯ä»¥æ‰§è¡Œåº”ç”¨ç¨‹åºï¼Œå¹¶ä¸”åœ¨å®Œæˆå†…å­˜ä¹‹å‰ä¸ä¼šé‡Šæ”¾ã€‚å¦‚æœä½¿ç”¨å¼¹æ€§å†…å­˜åˆ†é…ï¼Œåˆ™å…·æœ‰è¾ƒå¤§å†…å­˜éœ€æ±‚çš„åº”ç”¨ç¨‹åºå°†é¥¿æ­»&lt;/li&gt;
&lt;li&gt;æ’¤å›è¿‡åº¦åˆ†é…çš„å†…å­˜èµ„æºçš„å”¯ä¸€æ–¹æ³•æ˜¯é€šè¿‡æŠ›å‡ºout-of-memory exceptionæ¥æ€æ­»è¯¥è¿‡ç¨‹&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;è®¡ç®—èµ„æºé‡‡ç”¨å¼¹æ€§é™åˆ¶ç­–ç•¥ï¼Œå› ä¸º
&lt;ul&gt;
&lt;li&gt;è®¡ç®—èµ„æºå¯¹ç¨‹åºè¿è¡Œçš„å½±å“å¾ˆå¤§&lt;/li&gt;
&lt;li&gt;è®¡ç®—èµ„æºï¼ˆGPU çº¿ç¨‹ï¼‰åœ¨æ‰§è¡Œä¹‹åä¼šç«‹åˆ»é‡Šæ”¾æ‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ€»ç»“ï¼š
&lt;ul&gt;
&lt;li&gt;Step 1ï¼šGPU Managerå‘Kubeletæ³¨å†Œè‡ªèº«ï¼Œå¹¶æŠ¥å‘ŠvGPUçš„ä¿¡æ¯ï¼ˆListAndWatchï¼‰&lt;/li&gt;
&lt;li&gt;Step 2ï¼šKubeletæ¥æ”¶åˆ°æ¥è‡ªMasterçš„åˆ›å»ºä¸€ä¸ªGPUå®¹å™¨çš„è¯·æ±‚&lt;/li&gt;
&lt;li&gt;Step 3ï¼šKubeletå‘é€ä¸€ä¸ªallocateRequeståˆ°GPU Manager&lt;/li&gt;
&lt;li&gt;Step 4ï¼šGPU Managerå‘é€ä¸€ä¸ªvGPUè°ƒåº¦è¯·æ±‚åˆ°GPU Schedulerï¼ŒGPU Scheduleræ ¹æ®è°ƒåº¦ç­–ç•¥é€‰æ‹©å®é™…æä¾›èµ„æºçš„ç‰©ç†GPUã€‚å¦‚æœè°ƒåº¦æˆåŠŸè¿”å›ä¸€ä¸ªåŒ…å«è¯¥ç‰©ç†GPUçš„ä¿¡æ¯çš„reponse&lt;/li&gt;
&lt;li&gt;Step 5ï¼šGPU Managerå°†å®¹å™¨é…ç½®ä¿¡æ¯å‘é€åˆ°vGPU Manager&lt;/li&gt;
&lt;li&gt;Step 6ï¼šGPU Managerå°†å®¹å™¨ç¯å¢ƒå˜é‡ï¼ŒæŒ‚è½½ä¿¡æ¯å’Œè®¾å¤‡ä¿¡æ¯é€šè¿‡allocateResponseè¿”å›ç»™Kubelet&lt;/li&gt;
&lt;li&gt;Step 7ï¼šKubeletæ ¹æ®allocateResponseåˆ›å»ºå¹¶ä¸”åˆå§‹åŒ–ä¸€ä¸ªå®¹å™¨&lt;/li&gt;
&lt;li&gt;Step 8ï¼švGPU Libraryå‘vGPU Manageræ³¨å†Œè‡ªèº«å¹¶ä¸”ç®¡ç†å…¶æ‰€åœ¨å®¹å™¨çš„GPUèµ„æº&lt;/li&gt;
&lt;li&gt;Step 9ï¼švGPU ManageræŒç»­ç›‘æ§GPUå®¹å™¨çŠ¶æ€&lt;/li&gt;
&lt;li&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/20220828143547.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/20220828143547.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			alt=&#34;image-20220828143547571&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;image-20220828143547571&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;ä¼˜åŒ–&#34;&gt;ä¼˜åŒ–&lt;/h4&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;å®¹å™¨çš„èµ„æºä¸ä»…ä¼šå½±å“åº”ç”¨ç¨‹åºçš„æ€§èƒ½ï¼Œè€Œä¸”è¿˜ä¼šç¡®å®šåº”ç”¨ç¨‹åºçš„çŠ¶æ€&lt;/li&gt;
&lt;li&gt;ç”¨æˆ·åœ¨åˆ›å»ºå®¹å™¨æ—¶æ— æ³•å‡†ç¡®ä¼°ç®—æ‰€éœ€çš„èµ„æº&lt;/li&gt;
&lt;li&gt;å› æ­¤ï¼Œæˆ‘ä»¬æä¾›ä¸¤ç§æ–¹æ³•æ¥æ›´æ”¹è¿è¡Œæ—¶å®¹å™¨çš„èµ„æºã€‚å¼¹æ€§èµ„æºåˆ†é…ä¼šæš‚æ—¶ä¿®æ”¹å®¹å™¨çš„è®¡ç®—èµ„æºé™åˆ¶ï¼Œè€ŒåŠ¨æ€èµ„æºåˆ†é…æ°¸ä¹…æ”¹å˜äº†å®¹å™¨çš„èµ„æºã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å¼¹æ€§åˆ†é…ç­–ç•¥&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç›®çš„æ˜¯ä½¿ç”¨é—²ç½®çš„è®¡ç®—èµ„æºä»¥æé«˜èµ„æºåˆ©ç”¨ç‡&lt;/li&gt;
&lt;li&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/20220828224059.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/20220828224059.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			alt=&#34;image-20220828224059056&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;image-20220828224059056&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;nanosleep()æ˜¯Linuxå†…æ ¸å‡½æ•°ï¼Œä¼šæŒ‚èµ·å½“å‰çº¿ç¨‹ç­‰å¾…ä¸€æ®µæ—¶é—´æˆ–è€…ç›´åˆ°æ¥æ”¶åˆ°è°ƒç”¨å½“å‰çº¿ç¨‹çš„ä¿¡å·ï¼ˆLine 2ï¼‰&lt;/li&gt;
&lt;li&gt;ä¸ºäº†é˜²æ­¢è¿‡è½½ï¼Œ $GU_{max}$ é»˜è®¤çš„æœ€å¤§å€¼æ˜¯90% ï¼ˆLine 3ï¼‰&lt;/li&gt;
&lt;li&gt;å¦‚æœç‰©ç†GPUè®¡ç®—å¡ä»ç„¶æœ‰ç©ºé—²èµ„æºï¼Œä¹Ÿå°±æ˜¯è¯´&lt;em&gt;GU free &amp;gt; 0&lt;/em&gt;ï¼Œå³ä½¿å®¹å™¨çš„èµ„æºè¯·æ±‚å·²ç»è¶…å‡ºå…¶é…é¢ï¼ŒvGPU Libraryä¹Ÿä¼šç»§ç»­ç»™å®¹å™¨åˆ†é…è®¡ç®—èµ„æºï¼ˆLine 4-5ï¼‰ã€‚&lt;strong&gt;å¦‚æœç³»ç»Ÿæ²¡æœ‰å‰©ä½™çš„ç©ºé—²èµ„æºï¼ˆ*GU free &amp;lt;= 0*ï¼‰å¹¶ä¸”å®¹å™¨çš„æ¶ˆè€—çš„èµ„æºå¤§äºå…¶é…é¢ï¼ŒvGPU Libraryä¼šé€æ¸æ”¶å›è¶…é¢ï¼ˆover-allocatedï¼‰èµ„æº&lt;/strong&gt;ï¼ˆLine 6-7ï¼‰&lt;/li&gt;
&lt;li&gt;è¶…é¢èµ„æºçš„å›æ”¶é‡‡ç”¨éæŠ¢å å¼ç­–ç•¥ï¼ˆnon-preemptive strategyï¼‰ï¼Œå°±æ˜¯è¯´ä¼šç­‰åˆ°å®¹å™¨ä¸­å ç”¨çº¿ç¨‹çš„æ ¸å‡½æ•°æ‰§è¡Œå®Œåå†å›æ”¶çº¿ç¨‹èµ„æºã€‚&lt;em&gt;&lt;strong&gt;CU cores*å¯ä»¥è¢«ç†è§£ä¸ºä¸€ç§tokenï¼Œå®¹å™¨æ‰§è¡Œæ ¸å‡½æ•°æ—¶éœ€è¦æ¶ˆè€—è¯¥tokenï¼Œå½“æ ¸å‡½æ•°æ‰§è¡Œå®Œæˆé‡Šæ”¾çº¿ç¨‹èµ„æºæ—¶å®¹å™¨åˆå›é‡æ–°æ‹¥æœ‰è¯¥token&lt;/strong&gt;ã€‚&lt;em&gt;CU cores&lt;/em&gt;çš„åˆå§‹å€¼ç­‰äºå®¹å™¨çš„è®¡ç®—èµ„æºé…é¢ï¼Œ&lt;em&gt;CU cores&lt;/em&gt;ä¸ºé›¶æ—¶ï¼ˆç³»ç»Ÿæ²¡æœ‰ç©ºé—²çš„èµ„æºï¼Œå¹¶ä¸”è¯¥å®¹å™¨çš„è®¡ç®—èµ„æºé…é¢éƒ½æ­£åœ¨è¢«ç”¨äºæ‰§è¡Œæ ¸å‡½æ•°ï¼‰ï¼ŒvGPU Libraryä¸ä¼šå†ç»™å®¹å™¨åˆ†é…ä»»ä½•è®¡ç®—èµ„æºï¼Œç›´åˆ°å®¹å™¨çš„&lt;/em&gt;CU cores&lt;em&gt;å¤§äºé›¶ï¼ˆå…¶ä»–å®¹å™¨é‡Šæ”¾äº†ç©ºé—²èµ„æºï¼Œæˆ–è€…è¯¥å®¹å™¨æœ‰æ ¸å‡½æ•°å®Œæˆé‡Šæ”¾äº†èµ„æºï¼Œå®¹å™¨é‡æ–°è·å¾—&lt;/em&gt;CU cores*ï¼‰&lt;/li&gt;
&lt;li&gt;å¼¹æ€§åˆ†é…çš„æ ·ä¾‹
&lt;ul&gt;
&lt;li&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/20220828233026.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/20220828233026.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			alt=&#34;image-20220828233026263&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;image-20220828233026263&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;é¦–å…ˆï¼Œå®¹å™¨Aç”³è¯·äº†0.3ä¸ªGPUï¼Œå¹¶ä¸”è¢«GPU Schedulerè°ƒåº¦åˆ°äº†ä¸€ä¸ªå®Œå…¨ç©ºé—²çš„GPUä¸Š&lt;/li&gt;
&lt;li&gt;ç”±äºGPUå®Œå…¨ç©ºé—²ï¼Œæ‰€ä»¥å®¹å™¨Aä¼šé€æ¸å ç”¨æ‰€æœ‰çš„ç©ºé—²èµ„æºï¼Œé»˜è®¤æœ€å¤§å¯å ç”¨90%&lt;/li&gt;
&lt;li&gt;æ­¤æ—¶å®¹å™¨Bç”³è¯·äº†0.7ä¸ªGPUï¼Œä¹Ÿè¢«è°ƒåº¦åˆ°äº†æ­¤GPUä¸Šï¼Œä½†æ˜¯ç”±äºå®¹å™¨Aå ç”¨äº†æ‰€æœ‰çš„ç©ºé—²èµ„æºï¼Œæ‰€ä»¥éœ€è¦ä»å®¹å™¨Aå›æ”¶è¶…é¢çº¿ç¨‹èµ„æºå¹¶åˆ†é…ç»™å®¹å™¨B&lt;/li&gt;
&lt;li&gt;é‡å¤ç»è¿‡å‡ æ¬¡èµ„æºçš„é‡æ–°åˆ†é…ï¼Œå®¹å™¨Aå’Œå®¹å™¨Bæ‰€å ç”¨çš„èµ„æºä¸å…¶èµ„æºé…é¢ç›¸åŒ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åŠ¨æ€åˆ†é…ç­–ç•¥&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åŠ¨æ€èµ„æºåˆ†é…ä¼šä¿®æ”¹å®¹å™¨èµ„æºï¼ŒåŒ…æ‹¬å†…å­˜å’Œè®¡ç®—èµ„æºï¼Œè€Œæ— éœ€åœæ­¢å®¹å™¨ã€‚&lt;/li&gt;
&lt;li&gt;åŠ¨æ€èµ„æºåˆ†é…æ—¨åœ¨è§£å†³ä¸¤ä¸ªé—®é¢˜
&lt;ul&gt;
&lt;li&gt;åœ¨ç¡¬é™åˆ¶ä¸‹æ›´æ–°å®¹å™¨çš„å†…å­˜å’Œè®¡ç®—èµ„æº&lt;/li&gt;
&lt;li&gt;åœ¨å¼¹æ€§é™åˆ¶ä¸‹å°†å†…å­˜èµ„æºæ·»åŠ åˆ°å®¹å™¨ä¸­&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;vGPU Library é€šè¿‡å°†å®¹å™¨çš„èµ„æºé…ç½®ä¸å®¹å™¨çš„å®é™…ä½¿ç”¨è¿›è¡Œæ¯”è¾ƒæ¥é™åˆ¶å®¹å™¨èµ„æº&lt;/li&gt;
&lt;li&gt;è¦æ°¸ä¹…æ›´æ”¹å®¹å™¨çš„èµ„æºï¼šä¿®æ”¹å®¹å™¨çš„èµ„æºé…ç½®â€”&amp;gt;é€šçŸ¥GPU Scheduler-&amp;gt;æ›´æ–°ç›¸åº”çš„ç‰©ç†GPUåˆ†é…&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;experiments&#34;&gt;Experiments&lt;/h3&gt;
&lt;p&gt;&amp;hellip;&lt;/p&gt;
&lt;h3 id=&#34;conclusion&#34;&gt;Conclusion&lt;/h3&gt;
&lt;p&gt;&amp;hellip;&lt;/p&gt;
&lt;h2 id=&#34;å‚è€ƒèµ„æ–™&#34;&gt;å‚è€ƒèµ„æ–™&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;è®ºæ–‡åœ°å€ &lt;a href=&#34;https://ieeexplore.ieee.org/abstract/document/8672318&#34;&gt;https://ieeexplore.ieee.org/abstract/document/8672318&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Githubå¼€æºä»£ç  &lt;a href=&#34;https://github.com/tkestack/gpu-manager&#34;&gt;https://github.com/tkestack/gpu-manager&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>Ubuntuå®‰è£…k8sé›†ç¾¤</title>
        <link>https://tweakzx.github.io/p/ubuntu%E5%AE%89%E8%A3%85k8s%E9%9B%86%E7%BE%A4/</link>
        <pubDate>Mon, 13 Jun 2022 14:57:42 +0800</pubDate>
        
        <guid>https://tweakzx.github.io/p/ubuntu%E5%AE%89%E8%A3%85k8s%E9%9B%86%E7%BE%A4/</guid>
        <description>&lt;img src="https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/20220823230439.png" alt="Featured image of post Ubuntuå®‰è£…k8sé›†ç¾¤" /&gt;&lt;h1 id=&#34;åœ¨ubuntuä¸Šk8sé›†ç¾¤éƒ¨ç½²å®è·µ&#34;&gt;åœ¨ubuntuä¸Šk8sé›†ç¾¤éƒ¨ç½²å®è·µ&lt;/h1&gt;
&lt;h2 id=&#34;ä¸€æœºå™¨é…ç½®&#34;&gt;ä¸€ã€æœºå™¨é…ç½®&lt;/h2&gt;
&lt;h3 id=&#34;é…ç½®ä¸»æœºå&#34;&gt;é…ç½®ä¸»æœºå&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;sudo hostnamectl set-hostname &lt;span class=&#34;s2&#34;&gt;&amp;#34;k8s-master&amp;#34;&lt;/span&gt;    // Run this &lt;span class=&#34;nb&#34;&gt;command&lt;/span&gt; on masternode
cat /etc/hostname
sudo hostnamectl set-hostname &lt;span class=&#34;s2&#34;&gt;&amp;#34;k8s-node1&amp;#34;&lt;/span&gt;Â Â Â Â  // Run this &lt;span class=&#34;nb&#34;&gt;command&lt;/span&gt; on node-0
sudo hostnamectl set-hostname &lt;span class=&#34;s2&#34;&gt;&amp;#34;k8s-node2&amp;#34;&lt;/span&gt;Â Â Â Â  // Run this &lt;span class=&#34;nb&#34;&gt;command&lt;/span&gt; on node-1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;é…ç½®etchosts&#34;&gt;é…ç½®/etc/hosts&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;sudo vi /etc/hosts 

10.1.13.106    k8s-master

&lt;span class=&#34;c1&#34;&gt;#10.1.13.107    k8s-node1&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;#10.1.13.108    k8s-node1&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;é…ç½®å…å¯†ç™»å½•&#34;&gt;é…ç½®å…å¯†ç™»å½•&lt;/h3&gt;
&lt;p&gt;æƒ³è®©æœºå™¨ A è®¿é—®æœºå™¨ Bï¼Œå°±æŠŠæœºå™¨ A çš„å…¬é’¥æ”¾åˆ°æœºå™¨ B çš„&lt;code&gt;~/.ssh/authorized_keys&lt;/code&gt; æ–‡ä»¶é‡Œå°±è¡Œäº†ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆæˆ‘ä»¬åœ¨&lt;code&gt;worker&lt;/code&gt;ä¸Šç”Ÿæˆä¸€ä¸ªå¯†é’¥ï¼Œè¾“å…¥ä¸‹è¿°å‘½ä»¤å&lt;strong&gt;ä¸€è·¯å›è½¦&lt;/strong&gt;å³å¯ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;ssh-keygen
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åç™»å½•&lt;code&gt;master&lt;/code&gt;ï¼Œå¹¶ä¾æ¬¡è¾“å…¥ä¸‹è¿°ä¸¤æ¡å‘½ä»¤å°†å…¶å¤åˆ¶å¹¶å†™å…¥åˆ°&lt;code&gt;master&lt;/code&gt;çš„&lt;code&gt;authorized_keys&lt;/code&gt;ä¸­ï¼Œæ³¨æ„æˆ‘ä¸‹é¢çš„&lt;code&gt;scp&lt;/code&gt;å‘½ä»¤ä¸­ä½¿ç”¨äº†&lt;code&gt;worker&lt;/code&gt;åˆ«åï¼Œè¦æå‰è¿›è¡Œé…ç½®ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# å¤åˆ¶åˆ° master ä¸»æœº&lt;/span&gt;
scp root@worker:~/.ssh/id_rsa.pub /home
&lt;span class=&#34;c1&#34;&gt;# å†™å…¥åˆ° authorized_keys ä¸­&lt;/span&gt;
cat /home/id_rsa.pub &amp;gt;&amp;gt; ~/.ssh/authorized_keys
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åå†æ¬¡ä½¿ç”¨&lt;code&gt;ssh worker&lt;/code&gt;ç™»å½•å°±å¯ä»¥å‘ç°ç›´æ¥è¿æ¥ä¸Šè€Œä¸éœ€è¦å¯†ç äº†ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å…³é—­é˜²ç«å¢™&#34;&gt;å…³é—­é˜²ç«å¢™&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;sudo systemctl stop firewalld
sudo systemctl disable firewalld
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;ç¦ç”¨swap&#34;&gt;ç¦ç”¨swap&lt;/h3&gt;
&lt;p&gt;è¿™ä¸ªswapå…¶å®å¯ä»¥ç±»æ¯”æˆ windows ä¸Šçš„è™šæ‹Ÿå†…å­˜ï¼Œå®ƒå¯ä»¥è®©æœåŠ¡å™¨åœ¨å†…å­˜åƒæ»¡çš„æƒ…å†µä¸‹å¯ä»¥ä¿æŒä½æ•ˆè¿è¡Œï¼Œè€Œä¸æ˜¯ç›´æ¥å¡æ­»ã€‚ä½†æ˜¯ k8s çš„è¾ƒæ–°ç‰ˆæœ¬éƒ½è¦æ±‚å…³é—­swapã€‚æ‰€ä»¥å’±ä»¬ç›´æ¥åŠ¨æ‰‹ï¼Œä¿®æ”¹/etc/fstabæ–‡ä»¶ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;sudo vi /etc/fstab
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä½ åº”è¯¥å¯ä»¥çœ‹åˆ°å¦‚ä¸‹å†…å®¹ï¼ŒæŠŠç¬¬äºŒæ¡ç”¨#æ³¨é‡Šæ‰å°±å¥½äº†ï¼Œæ³¨æ„ç¬¬ä¸€æ¡åˆ«æ³¨é‡Šäº†ï¼Œä¸ç„¶é‡å¯ä¹‹åç³»ç»Ÿæœ‰å¯èƒ½ä¼šæŠ¥file system read-onlyé”™è¯¯ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;nv&#34;&gt;UUID&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;e2048966-750b-4795-a9a2-7b477d6681bf /   ext4    &lt;span class=&#34;nv&#34;&gt;errors&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;remount-ro &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;    &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# /dev/fd0        /media/floppy0  auto    rw,user,noauto,exec,utf8 0       0&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åè¾“å…¥rebooté‡å¯å³å¯ï¼Œé‡å¯åä½¿ç”¨topå‘½ä»¤æŸ¥çœ‹ä»»åŠ¡ç®¡ç†å™¨ï¼Œå¦‚æœçœ‹åˆ°å¦‚ä¸‹KiB Swapåå‡ä¸º 0 å°±è¯´æ˜å…³é—­æˆåŠŸäº†ã€‚&lt;/p&gt;
&lt;p&gt;å…³é—­swapä¹‹åä½¿ç”¨topå‘½ä»¤çœ‹åˆ° KiB Swap å…¨éƒ¨ä¸º0&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/image-20220613000133107.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/image-20220613000133107.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			alt=&#34;image-20220613000133107&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;image-20220613000133107&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šé¢è¯´çš„æ˜¯æ°¸ä¹…å…³é—­swapå†…å­˜ï¼Œå…¶å®ä¹Ÿå¯ä»¥æš‚æ—¶å…³é—­ï¼Œä½¿ç”¨swapoff -aå‘½ä»¤å³å¯ï¼Œæ•ˆæœä¼šåœ¨é‡å¯åæ¶ˆå¤±ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ç¦ç”¨selinux&#34;&gt;ç¦ç”¨Selinux&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;sudo apt install selinux-utils
setenforce &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;ç¡®ä¿æ—¶åŒºå’Œæ—¶é—´æ­£ç¡®&#34;&gt;ç¡®ä¿æ—¶åŒºå’Œæ—¶é—´æ­£ç¡®&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;sudo timedatectl set-timezone Asia/Shanghai
sudo systemctl restart rsyslog
sudo apt-get install ntpdate â€“y
sudo ntpdate time.windows.com
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;é…ç½®netbridgebridge-nf-call-iptables&#34;&gt;é…ç½®net.bridge.bridge-nf-call-iptables&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;cat &lt;span class=&#34;s&#34;&gt;&amp;lt;&amp;lt;EOF | sudo tee /etc/modules-load.d/k8s.conf
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;br_netfilter
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;EOF&lt;/span&gt;

cat &lt;span class=&#34;s&#34;&gt;&amp;lt;&amp;lt;EOF | sudo tee /etc/sysctl.d/k8s.conf
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;net.bridge.bridge-nf-call-ip6tables = 1
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;net.bridge.bridge-nf-call-iptables = 1
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;EOF&lt;/span&gt;

sudo sysctl --system
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;è®¾ç½®rp_filterçš„å€¼&#34;&gt;è®¾ç½®rp_filterçš„å€¼&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;sudo vi /etc/sysctl.d/10-network-security.conf

&lt;span class=&#34;c1&#34;&gt;# å°†ä¸‹é¢ä¸¤ä¸ªå‚æ•°çš„å€¼ä»2ä¿®æ”¹ä¸º1&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# net.ipv4.conf.default.rp_filter=1&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# net.ipv4.conf.all.rp_filter=1&lt;/span&gt;

sudo sysctl --system
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;äºŒå®‰è£…docker&#34;&gt;äºŒã€å®‰è£…docker&lt;/h2&gt;
&lt;p&gt;docker æ˜¯ k8s çš„åŸºç¡€ï¼Œåœ¨å®‰è£…å®Œæˆä¹‹åä¹Ÿéœ€è¦ä¿®æ”¹ä¸€äº›é…ç½®æ¥é€‚é… k8s ï¼Œæ‰€ä»¥æœ¬ç« åˆ†ä¸º &lt;strong&gt;docker çš„å®‰è£…&lt;/strong&gt; ä¸ &lt;strong&gt;docker çš„é…ç½®&lt;/strong&gt; ä¸¤éƒ¨åˆ†ã€‚å¦‚æœä½ å·²ç»å®‰è£…å¹¶ä½¿ç”¨äº†ä¸€æ®µæ—¶é—´çš„ docker äº†è¯ï¼Œå»ºè®®ä½¿ç”¨&lt;code&gt;docker -v&lt;/code&gt;æŸ¥çœ‹å·²å®‰è£…çš„ docker ç‰ˆæœ¬ï¼Œå¹¶åœ¨ k8s å®˜ç½‘ä¸ŠæŸ¥è¯¢é€‚åˆè¯¥ç‰ˆæœ¬çš„ k8s è¿›è¡Œå®‰è£…ã€‚è¿™ä¸€æ­¥ä¸¤å°ä¸»æœºéƒ½éœ€è¦è¿›è¡Œå®‰è£…ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å®‰è£…docker&#34;&gt;å®‰è£…docker&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;sudo apt install docker.io

sudo apt install docker.io&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;18.09.1-0ubuntu1 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;å¯åŠ¨docker&#34;&gt;å¯åŠ¨docker&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;sudo systemctl start docker
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;é…ç½®docker&#34;&gt;é…ç½®docker&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;sudo mkdir -p /etc/docker

sudo tee /etc/docker/daemon.json &lt;span class=&#34;s&#34;&gt;&amp;lt;&amp;lt;-&amp;#39;EOF&amp;#39;
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;{
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;  &amp;#34;registry-mirrors&amp;#34;: [&amp;#34;https://n73pm3wf.mirror.aliyuncs.com&amp;#34;],
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;  &amp;#34;exec-opts&amp;#34;: [ &amp;#34;native.cgroupdriver=systemd&amp;#34; ]
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;}
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;EOF&lt;/span&gt;

sudo systemctl daemon-reload
sudo systemctl restart docker
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;è®¾ç½®å¼€æœºè‡ªå¯åŠ¨&#34;&gt;è®¾ç½®å¼€æœºè‡ªå¯åŠ¨&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ sudo systemctl &lt;span class=&#34;nb&#34;&gt;enable&lt;/span&gt; docker
æˆ–
$ sudo systemctl &lt;span class=&#34;nb&#34;&gt;enable&lt;/span&gt; docker.service --now
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;éªŒè¯docker&#34;&gt;éªŒè¯docker&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;systemctl status docker
docker --version
docker info &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; grep Cgroup
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¿®æ”¹åçš„ docker cgroup çŠ¶æ€ï¼Œå‘ç°å˜ä¸º&lt;code&gt;systemd&lt;/code&gt;å³ä¸ºä¿®æ”¹æˆåŠŸã€‚&lt;/p&gt;
&lt;h3 id=&#34;é‡å¯dockerå½“æœ‰é…ç½®æ”¹åŠ¨åæ‰§è¡Œ&#34;&gt;é‡å¯dockerï¼ˆå½“æœ‰é…ç½®æ”¹åŠ¨åæ‰§è¡Œï¼‰&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;sudo pkill -SIGHUP dockerd
sudo systemctl restart docker
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;å¸è½½docker&#34;&gt;å¸è½½docker&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;sudo apt-get remove docker.io
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;ä¸‰å®‰è£…k8s&#34;&gt;ä¸‰ã€å®‰è£…k8s&lt;/h2&gt;
&lt;h3 id=&#34;å®‰è£…k8s&#34;&gt;å®‰è£…k8s&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# ä½¿å¾— apt æ”¯æŒ ssl ä¼ è¾“&lt;/span&gt;
apt-get update &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; apt-get install -y apt-transport-https
&lt;span class=&#34;c1&#34;&gt;# ä¸‹è½½ gpg å¯†é’¥   è¿™ä¸ªéœ€è¦rootç”¨æˆ·å¦åˆ™ä¼šæŠ¥é”™&lt;/span&gt;
curl https://mirrors.aliyun.com/kubernetes/apt/doc/apt-key.gpg &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; apt-key add - 
&lt;span class=&#34;c1&#34;&gt;# æ·»åŠ  k8s é•œåƒæº è¿™ä¸ªéœ€è¦rootç”¨æˆ·å¦åˆ™ä¼šæŠ¥é”™&lt;/span&gt;
cat &lt;span class=&#34;s&#34;&gt;&amp;lt;&amp;lt;EOF &amp;gt;/etc/apt/sources.list.d/kubernetes.list
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;deb https://mirrors.aliyun.com/kubernetes/apt/ kubernetes-xenial main
&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;EOF&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# æ›´æ–°æºåˆ—è¡¨&lt;/span&gt;
apt-get update

&lt;span class=&#34;c1&#34;&gt;# ä¸‹è½½ kubectlï¼Œkubeadmä»¥åŠ kubelet&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# å®‰è£…æœ€æ–°ç‰ˆæœ¬&lt;/span&gt;
apt-get install -y kubelet kubeadm kubectl
&lt;span class=&#34;c1&#34;&gt;# å®‰è£…æŒ‡å®šç‰ˆæœ¬&lt;/span&gt;
apt-get install -y &lt;span class=&#34;nv&#34;&gt;kubelet&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;1.15.1-00 &lt;span class=&#34;nv&#34;&gt;kubeadm&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;1.15.1-00 &lt;span class=&#34;nv&#34;&gt;kubectl&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;1.15.1-00
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;åˆ é™¤å·²å®‰è£…çš„k8s&#34;&gt;åˆ é™¤å·²å®‰è£…çš„k8s&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;sudo apt-get remove -y --allow-change-held-packages kubeadm kubectl kubelet
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;æŸ¥è¯¢å¯å®‰è£…ç‰ˆæœ¬&#34;&gt;æŸ¥è¯¢å¯å®‰è£…ç‰ˆæœ¬&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;apt-cache madison kubeadm
apt-cache madison kubelet
apt-cache madison kubectl
apt-cache madison kubernetes-cni
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;è®¾ç½®ä¸éšç³»ç»Ÿæ›´æ–°è€Œæ›´æ–°&#34;&gt;è®¾ç½®ä¸éšç³»ç»Ÿæ›´æ–°è€Œæ›´æ–°&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;sudo apt-mark hold kubelet kubeadm kubectl
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;å››åˆå§‹åŒ–master&#34;&gt;å››ã€åˆå§‹åŒ–master&lt;/h2&gt;
&lt;h3 id=&#34;kubeadm-init&#34;&gt;kubeadm init&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;kubeadm init &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--apiserver-advertise-address&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;10.10.0.2 &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--kubernetes-version&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;1.15.1 &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--image-repository registry.cn-hangzhou.aliyuncs.com/google_containers &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--service-cidr&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;10.96.0.0/16 &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--pod-network-cidr&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;10.244.0.0/16
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å‚æ•°è§£é‡Šï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&amp;ndash;kubernetes-versionï¼šæŒ‡å®škubernetesçš„ç‰ˆæœ¬ï¼Œä¸ä¸Šé¢kubeletï¼Œkubeadmï¼Œkubectlå·¥å…·ç‰ˆæœ¬ä¿æŒä¸€è‡´ã€‚&lt;/li&gt;
&lt;li&gt;&amp;ndash;apiserver-advertise-addressï¼šapiserveræ‰€åœ¨çš„èŠ‚ç‚¹(master)çš„ipã€‚&lt;/li&gt;
&lt;li&gt;&amp;ndash;image-repository=registry.aliyuncs.com/google_containersï¼šç”±äºå›½å¤–åœ°å€æ— æ³•è®¿é—®ï¼Œæ‰€ä»¥ä½¿ç”¨é˜¿é‡Œäº‘ä»“åº“åœ°å€&lt;/li&gt;
&lt;li&gt;&amp;ndash;server-cidrï¼šserviceä¹‹é—´è®¿é—®ä½¿ç”¨çš„ç½‘ç»œipæ®µ&lt;/li&gt;
&lt;li&gt;&amp;ndash;pod-network-cidrï¼špodä¹‹é—´ç½‘ç»œè®¿é—®ä½¿ç”¨çš„ç½‘ç»œip,ä¸ä¸‹æ–‡éƒ¨ç½²çš„CNIç½‘ç»œç»„ä»¶ymlä¸­ä¿æŒä¸€è‡´&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åˆå§‹åŒ–æˆåŠŸä¹‹åä½ å°†çœ‹åˆ°&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;Your Kubernetes control-plane has initialized successfully!

To start using your cluster, you need to run the following as a regular user:

  mkdir -p &lt;span class=&#34;nv&#34;&gt;$HOME&lt;/span&gt;/.kube
  sudo cp -i /etc/kubernetes/admin.conf &lt;span class=&#34;nv&#34;&gt;$HOME&lt;/span&gt;/.kube/config
  sudo chown &lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;id -u&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;:&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;id -g&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$HOME&lt;/span&gt;/.kube/config

Alternatively, &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; you are the root user, you can run:

  &lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;KUBECONFIG&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/etc/kubernetes/admin.conf

You should now deploy a pod network to the cluster.
Run &lt;span class=&#34;s2&#34;&gt;&amp;#34;kubectl apply -f [podnetwork].yaml&amp;#34;&lt;/span&gt; with one of the options listed at:
  https://kubernetes.io/docs/concepts/cluster-administration/addons/

Then you can join any number of worker nodes by running the following on each as root:

kubeadm join 10.10.0.2:6443 --token juojiv.q4gwfmkj4cwgscnt &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;        --discovery-token-ca-cert-hash sha256:381b61262d3b174cfce0e5cfbd0b4b171e270c506d82c4d82334d0a4e2c2ac47
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;åˆå§‹åŒ–å¤±è´¥&#34;&gt;åˆå§‹åŒ–å¤±è´¥&lt;/h3&gt;
&lt;p&gt;é‡ç½®ä¹‹åé‡æ–°åˆå§‹åŒ–&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;kubeadm reset
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;è®°å¾—ä¿å­˜kubeadm-join-å‘½ä»¤&#34;&gt;è®°å¾—ä¿å­˜kubeadm join å‘½ä»¤&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;kubeadm join 10.10.0.2:6443 --token qc7drh.47mloh5ierij84xi &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;        --discovery-token-ca-cert-hash sha256:90f147ef85ae06d9a46bed91d64109abbd697b6878ab9ca16a376e11816f9a0d 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¦‚æœå¿˜è®°å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤é‡æ–°ç”Ÿæˆ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;kubeadm token create --print-join-command
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;é…ç½®kubectl&#34;&gt;é…ç½®kubectl&lt;/h3&gt;
&lt;p&gt;æŒ‰ç…§ä¸Šå›¾ä¸­çš„å‘½ä»¤é…ç½®ï¼Œå¯ä»¥ç›´æ¥ä»å‘½ä»¤è¡Œä¸­å¤åˆ¶&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;érootç”¨æˆ·&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt; mkdir -p &lt;span class=&#34;nv&#34;&gt;$HOME&lt;/span&gt;/.kube
 sudo cp -i /etc/kubernetes/admin.conf &lt;span class=&#34;nv&#34;&gt;$HOME&lt;/span&gt;/.kube/config
 sudo chown &lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;id -u&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;:&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;id -g&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$HOME&lt;/span&gt;/.kube/config

&lt;span class=&#34;c1&#34;&gt;# æŸ¥çœ‹å·²åŠ å…¥çš„èŠ‚ç‚¹&lt;/span&gt;
kubectl get nodes
&lt;span class=&#34;c1&#34;&gt;# æŸ¥çœ‹é›†ç¾¤çŠ¶æ€&lt;/span&gt;
kubectl get cs
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;rootç”¨æˆ·&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;KUBECONFIG&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/etc/kubernetes/admin.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;éƒ¨ç½²ç½‘ç»œ&#34;&gt;éƒ¨ç½²ç½‘ç»œ&lt;/h3&gt;
&lt;p&gt;ç½‘ç»œæ’ä»¶å¯ä»¥é€‰æ‹©calicoæˆ–flannelã€‚è¿™é‡Œä½¿ç”¨Flannelä½œä¸ºKuberneteså®¹å™¨ç½‘ç»œæ–¹æ¡ˆï¼Œè§£å†³å®¹å™¨è·¨ä¸»æœºç½‘ç»œé€šä¿¡ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;éƒ¨ç½²flannelç½‘ç»œ&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;kubectl apply -f https://raw.githubusercontent.com/coreos/flannel/master/Documentation/kube-flannel.yml
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¹Ÿå¯ä»¥æŠŠè¿™ä¸ªæ–‡ä»¶ä¸‹è½½åˆ°æœ¬åœ°ï¼Œæ³¨æ„ä¿®æ”¹ä¸‹å›¾ä¸­çš„Networkï¼Œä¸kubeadm intiä¸­çš„&amp;ndash;pod-network-cidr 10.244.0.0/16å‚æ•°ä¿æŒä¸€è‡´ï¼Œç„¶å&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;kubectl apply -f kube-flannel.yml
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/image-20220613013117789.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/image-20220613013117789.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			alt=&#34;image-20220613013117789&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;image-20220613013117789&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;å°†ä¼šçœ‹åˆ°&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;podsecuritypolicy.policy/psp.flannel.unprivileged created
clusterrole.rbac.authorization.k8s.io/flannel created
clusterrolebinding.rbac.authorization.k8s.io/flannel created
serviceaccount/flannel created
configmap/kube-flannel-cfg created
daemonset.apps/kube-flannel-ds created
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æŸ¥çœ‹podçŠ¶æ€ï¼Œåº”è¯¥å…¨éƒ¨ä¸ºrunningã€‚å¯èƒ½éœ€è¦ç­‰å¾…ä¸€æ®µæ—¶é—´&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;kubectl get pod --all-namespaces -o wide
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/image-20220613012658569.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/image-20220613012658569.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			alt=&#34;image-20220613012658569&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;image-20220613012658569&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;éƒ¨ç½²calicoç½‘ç»œ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸‹è½½ymlæ–‡ä»¶&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;wget  https://docs.projectcalico.org/v3.11/manifests/calico.yaml

vi calico.yaml
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;#ä¿®æ”¹CALICO_IPV4POOL_CIDRï¼Œä¸º10.244.0.0/16ï¼ˆè¦ä¸kubeadm intiä¸­çš„&amp;ndash;pod-network-cidr 10.244.0.0/16å‚æ•°ä¿æŒä¸€è‡´ï¼Œé»˜è®¤ä¸º192.168.0.0/16&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;kubectl apply -f calico.yaml
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;äº”æ·»åŠ workerèŠ‚ç‚¹&#34;&gt;äº”ã€æ·»åŠ workerèŠ‚ç‚¹&lt;/h2&gt;
&lt;p&gt;ä½¿ç”¨ä¹‹å‰ä¿å­˜çš„kubeadm joinå‘½ä»¤&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;kubeadm join 10.10.0.2:6443 --token ryyy8k.pr8u7cjm4btqdx4v --discovery-token-ca-cert-hash sha256:6b596c66745b162190475b63686ca46c60cc4f39473
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶ååœ¨masterèŠ‚ç‚¹ä¸Šï¼ŒæŸ¥çœ‹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;kubectl get nodes
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¯ä»¥çœ‹åˆ°&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/image-20220613010009663.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/image-20220613010009663.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			alt=&#34;image-20220613010009663&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;image-20220613010009663&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;å…­éªŒè¯&#34;&gt;å…­ã€éªŒè¯&lt;/h2&gt;
&lt;h3 id=&#34;åˆ›å»ºnginx&#34;&gt;åˆ›å»ºnginx&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;kubectl create deployment nginx-web --image&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;nginx
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;è·å–podä¿¡æ¯&#34;&gt;è·å–podä¿¡æ¯&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;kubectl get pod -o wide
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/image-20220613013920336.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/image-20220613013920336.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			alt=&#34;image-20220613013920336&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;image-20220613013920336&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°è¯¥èŠ‚ç‚¹çš„ipä¸º10.244.1.2&lt;/p&gt;
&lt;h3 id=&#34;æµ‹è¯•nginx&#34;&gt;æµ‹è¯•nginx&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;root@k8s-master:/home# curl http://10.244.1.2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¯ä»¥çœ‹åˆ°&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&amp;lt;!DOCTYPE html&amp;gt;
&amp;lt;html&amp;gt;
&amp;lt;head&amp;gt;
&amp;lt;title&amp;gt;Welcome to nginx!&amp;lt;/title&amp;gt;
&amp;lt;style&amp;gt;
html &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt; color-scheme: light dark&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
body &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt; width: 35em&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; margin: &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; auto&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
font-family: Tahoma, Verdana, Arial, sans-serif&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&amp;lt;/style&amp;gt;
&amp;lt;/head&amp;gt;
&amp;lt;body&amp;gt;
&amp;lt;h1&amp;gt;Welcome to nginx!&amp;lt;/h1&amp;gt;
&amp;lt;p&amp;gt;If you see this page, the nginx web server is successfully installed and
working. Further configuration is required.&amp;lt;/p&amp;gt;

&amp;lt;p&amp;gt;For online documentation and support please refer to
&amp;lt;a &lt;span class=&#34;nv&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;http://nginx.org/&amp;#34;&lt;/span&gt;&amp;gt;nginx.org&amp;lt;/a&amp;gt;.&amp;lt;br/&amp;gt;
Commercial support is available at
&amp;lt;a &lt;span class=&#34;nv&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;http://nginx.com/&amp;#34;&lt;/span&gt;&amp;gt;nginx.com&amp;lt;/a&amp;gt;.&amp;lt;/p&amp;gt;

&amp;lt;p&amp;gt;&amp;lt;em&amp;gt;Thank you &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; using nginx.&amp;lt;/em&amp;gt;&amp;lt;/p&amp;gt;
&amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;åˆ é™¤pod&#34;&gt;åˆ é™¤pod&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;kubectl delete pod nginx-web-xxxxxx -n nginx-web
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;ä¸ƒåˆ é™¤èŠ‚ç‚¹&#34;&gt;ä¸ƒã€åˆ é™¤èŠ‚ç‚¹&lt;/h2&gt;
&lt;p&gt;é¦–å…ˆï¼Œç¡®å®šæƒ³è¦æ¸…ç©ºçš„èŠ‚ç‚¹çš„åç§°ã€‚å¯ä»¥ç”¨ä»¥ä¸‹å‘½ä»¤åˆ—å‡ºé›†ç¾¤ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;kubectl get nodes
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ¥ä¸‹æ¥ï¼Œå‘Šè¯‰ Kubernetes æ¸…ç©ºèŠ‚ç‚¹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;kubectl drain &amp;lt;node name&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸€æ—¦å®ƒè¿”å›ï¼ˆæ²¡æœ‰æŠ¥é”™ï¼‰ï¼Œ ä½ å°±å¯ä»¥ä¸‹çº¿æ­¤èŠ‚ç‚¹ï¼ˆæˆ–è€…ç­‰ä»·åœ°ï¼Œå¦‚æœåœ¨äº‘å¹³å°ä¸Šï¼Œåˆ é™¤æ”¯æŒè¯¥èŠ‚ç‚¹çš„è™šæ‹Ÿæœºï¼‰ã€‚ å¦‚æœè¦åœ¨ç»´æŠ¤æ“ä½œæœŸé—´å°†èŠ‚ç‚¹ç•™åœ¨é›†ç¾¤ä¸­ï¼Œåˆ™éœ€è¦è¿è¡Œï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;kubectl uncordon &amp;lt;node name&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åå‘Šè¯‰ Kubernetesï¼Œå®ƒå¯ä»¥ç»§ç»­åœ¨æ­¤èŠ‚ç‚¹ä¸Šè°ƒåº¦æ–°çš„ Podsã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>è‡ªåŠ¨æœºçš„å®ç°</title>
        <link>https://tweakzx.github.io/p/%E8%87%AA%E5%8A%A8%E6%9C%BA%E7%9A%84%E5%AE%9E%E7%8E%B0/</link>
        <pubDate>Sat, 12 Mar 2022 16:59:39 +0800</pubDate>
        
        <guid>https://tweakzx.github.io/p/%E8%87%AA%E5%8A%A8%E6%9C%BA%E7%9A%84%E5%AE%9E%E7%8E%B0/</guid>
        <description>&lt;h2 id=&#34;é¢˜ç›®æè¿°&#34;&gt;é¢˜ç›®æè¿°&lt;/h2&gt;
&lt;p&gt;è¯·ä½ æ¥å®ç°ä¸€ä¸ª myAtoi(string s) å‡½æ•°ï¼Œä½¿å…¶èƒ½å°†å­—ç¬¦ä¸²è½¬æ¢æˆä¸€ä¸ª 32 ä½æœ‰ç¬¦å·æ•´æ•°ï¼ˆç±»ä¼¼ C/C++ ä¸­çš„ atoi å‡½æ•°ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;å‡½æ•° myAtoi(string s) çš„ç®—æ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è¯»å…¥å­—ç¬¦ä¸²å¹¶ä¸¢å¼ƒæ— ç”¨çš„å‰å¯¼ç©ºæ ¼&lt;/li&gt;
&lt;li&gt;æ£€æŸ¥ä¸‹ä¸€ä¸ªå­—ç¬¦ï¼ˆå‡è®¾è¿˜æœªåˆ°å­—ç¬¦æœ«å°¾ï¼‰ä¸ºæ­£è¿˜æ˜¯è´Ÿå·ï¼Œè¯»å–è¯¥å­—ç¬¦ï¼ˆå¦‚æœæœ‰ï¼‰ã€‚ ç¡®å®šæœ€ç»ˆç»“æœæ˜¯è´Ÿæ•°è¿˜æ˜¯æ­£æ•°ã€‚ å¦‚æœä¸¤è€…éƒ½ä¸å­˜åœ¨ï¼Œåˆ™å‡å®šç»“æœä¸ºæ­£ã€‚&lt;/li&gt;
&lt;li&gt;è¯»å…¥ä¸‹ä¸€ä¸ªå­—ç¬¦ï¼Œç›´åˆ°åˆ°è¾¾ä¸‹ä¸€ä¸ªéæ•°å­—å­—ç¬¦æˆ–åˆ°è¾¾è¾“å…¥çš„ç»“å°¾ã€‚å­—ç¬¦ä¸²çš„å…¶ä½™éƒ¨åˆ†å°†è¢«å¿½ç•¥ã€‚&lt;/li&gt;
&lt;li&gt;å°†å‰é¢æ­¥éª¤è¯»å…¥çš„è¿™äº›æ•°å­—è½¬æ¢ä¸ºæ•´æ•°ï¼ˆå³ï¼Œ&amp;ldquo;123&amp;rdquo; -&amp;gt; 123ï¼Œ &amp;ldquo;0032&amp;rdquo; -&amp;gt; 32ï¼‰ã€‚å¦‚æœæ²¡æœ‰è¯»å…¥æ•°å­—ï¼Œåˆ™æ•´æ•°ä¸º 0 ã€‚å¿…è¦æ—¶æ›´æ”¹ç¬¦å·ï¼ˆä»æ­¥éª¤ 2 å¼€å§‹ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœæ•´æ•°æ•°è¶…è¿‡ 32 ä½æœ‰ç¬¦å·æ•´æ•°èŒƒå›´ [âˆ’231,  231 âˆ’ 1] ï¼Œéœ€è¦æˆªæ–­è¿™ä¸ªæ•´æ•°ï¼Œä½¿å…¶ä¿æŒåœ¨è¿™ä¸ªèŒƒå›´å†…ã€‚å…·ä½“æ¥è¯´ï¼Œå°äº âˆ’231 çš„æ•´æ•°åº”è¯¥è¢«å›ºå®šä¸º âˆ’231 ï¼Œå¤§äº 231 âˆ’ 1 çš„æ•´æ•°åº”è¯¥è¢«å›ºå®šä¸º 231 âˆ’ 1 ã€‚&lt;/li&gt;
&lt;li&gt;è¿”å›æ•´æ•°ä½œä¸ºæœ€ç»ˆç»“æœã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ³¨æ„ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æœ¬é¢˜ä¸­çš„ç©ºç™½å­—ç¬¦åªåŒ…æ‹¬ç©ºæ ¼å­—ç¬¦ &#39; &#39; ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é™¤å‰å¯¼ç©ºæ ¼æˆ–æ•°å­—åçš„å…¶ä½™å­—ç¬¦ä¸²å¤–ï¼Œè¯·å‹¿å¿½ç•¥ ä»»ä½•å…¶ä»–å­—ç¬¦ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç¤ºä¾‹ 1ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;è¾“å…¥ï¼šs = &amp;ldquo;42&amp;rdquo;
è¾“å‡ºï¼š42
è§£é‡Šï¼šåŠ ç²—çš„å­—ç¬¦ä¸²ä¸ºå·²ç»è¯»å…¥çš„å­—ç¬¦ï¼Œæ’å…¥ç¬¦å·æ˜¯å½“å‰è¯»å–çš„å­—ç¬¦ã€‚
ç¬¬ 1 æ­¥ï¼š&amp;ldquo;42&amp;rdquo;ï¼ˆå½“å‰æ²¡æœ‰è¯»å…¥å­—ç¬¦ï¼Œå› ä¸ºæ²¡æœ‰å‰å¯¼ç©ºæ ¼ï¼‰
^
ç¬¬ 2 æ­¥ï¼š&amp;ldquo;42&amp;rdquo;ï¼ˆå½“å‰æ²¡æœ‰è¯»å…¥å­—ç¬¦ï¼Œå› ä¸ºè¿™é‡Œä¸å­˜åœ¨ &amp;lsquo;-&amp;rsquo; æˆ–è€… &amp;lsquo;+&#39;ï¼‰
^
ç¬¬ 3 æ­¥ï¼š&amp;ldquo;42&amp;rdquo;ï¼ˆè¯»å…¥ &amp;ldquo;42&amp;rdquo;ï¼‰
^
è§£æå¾—åˆ°æ•´æ•° 42 ã€‚
ç”±äº &amp;ldquo;42&amp;rdquo; åœ¨èŒƒå›´ [-231, 231 - 1] å†…ï¼Œæœ€ç»ˆç»“æœä¸º 42 ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç¤ºä¾‹ 2ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;è¾“å…¥ï¼šs = &amp;quot;   -42&amp;quot;
è¾“å‡ºï¼š-42
è§£é‡Šï¼š
ç¬¬ 1 æ­¥ï¼š&amp;quot;   -42&amp;quot;ï¼ˆè¯»å…¥å‰å¯¼ç©ºæ ¼ï¼Œä½†å¿½è§†æ‰ï¼‰
^
ç¬¬ 2 æ­¥ï¼š&amp;quot;   -42&amp;quot;ï¼ˆè¯»å…¥ &amp;lsquo;-&amp;rsquo; å­—ç¬¦ï¼Œæ‰€ä»¥ç»“æœåº”è¯¥æ˜¯è´Ÿæ•°ï¼‰
^
ç¬¬ 3 æ­¥ï¼š&amp;quot;   -42&amp;quot;ï¼ˆè¯»å…¥ &amp;ldquo;42&amp;rdquo;ï¼‰
^
è§£æå¾—åˆ°æ•´æ•° -42 ã€‚
ç”±äº &amp;ldquo;-42&amp;rdquo; åœ¨èŒƒå›´ [-231, 231 - 1] å†…ï¼Œæœ€ç»ˆç»“æœä¸º -42 ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç¤ºä¾‹ 3ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;è¾“å…¥ï¼šs = &amp;ldquo;4193 with words&amp;rdquo;
è¾“å‡ºï¼š4193
è§£é‡Šï¼š
ç¬¬ 1 æ­¥ï¼š&amp;ldquo;4193 with words&amp;rdquo;ï¼ˆå½“å‰æ²¡æœ‰è¯»å…¥å­—ç¬¦ï¼Œå› ä¸ºæ²¡æœ‰å‰å¯¼ç©ºæ ¼ï¼‰
^
ç¬¬ 2 æ­¥ï¼š&amp;ldquo;4193 with words&amp;rdquo;ï¼ˆå½“å‰æ²¡æœ‰è¯»å…¥å­—ç¬¦ï¼Œå› ä¸ºè¿™é‡Œä¸å­˜åœ¨ &amp;lsquo;-&amp;rsquo; æˆ–è€… &amp;lsquo;+&#39;ï¼‰
^
ç¬¬ 3 æ­¥ï¼š&amp;ldquo;4193 with words&amp;rdquo;ï¼ˆè¯»å…¥ &amp;ldquo;4193&amp;rdquo;ï¼›ç”±äºä¸‹ä¸€ä¸ªå­—ç¬¦ä¸æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œæ‰€ä»¥è¯»å…¥åœæ­¢ï¼‰
^
è§£æå¾—åˆ°æ•´æ•° 4193 ã€‚
ç”±äº &amp;ldquo;4193&amp;rdquo; åœ¨èŒƒå›´ [-231, 231 - 1] å†…ï¼Œæœ€ç»ˆç»“æœä¸º 4193 ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æç¤ºï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;0 &amp;lt;= s.length &amp;lt;= 200&lt;/li&gt;
&lt;li&gt;s ç”±è‹±æ–‡å­—æ¯ï¼ˆå¤§å†™å’Œå°å†™ï¼‰ã€æ•°å­—ï¼ˆ0-9ï¼‰ã€&amp;rsquo; &amp;lsquo;ã€&#39;+&#39;ã€&#39;-&amp;rsquo; å’Œ &amp;lsquo;.&amp;rsquo; ç»„æˆ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/string-to-integer-atoi&lt;/p&gt;
&lt;h2 id=&#34;é¢˜è§£&#34;&gt;é¢˜è§£&lt;/h2&gt;
&lt;p&gt;å¤§å®¶å¯ä»¥è‡ªè¡Œå»çœ‹leetcodeçš„å®˜æ–¹é¢˜è§£ï¼Œå°±æ˜¯ç”¨ä¸€ä¸ªè‡ªåŠ¨æœºæ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚æˆ‘ç¬¬ä¸€æ¬¡ç”¨Goæ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæ‰€ä»¥å†³å®šè®°å½•ä¸‹æ¥&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;kd&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Automaton&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;struct&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;state&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;sign&lt;/span&gt;  &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; 
    &lt;span class=&#34;nx&#34;&gt;ans&lt;/span&gt;   &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; 
    &lt;span class=&#34;nx&#34;&gt;table&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;map&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;][]&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt; 
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Automaton&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;init&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(){&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;//å› ä¸ºGoä¸èƒ½è®¾ç½®ç±»å‹å˜é‡çš„åˆå§‹å€¼ï¼ˆæˆ‘æ²¡æ‰¾åˆ°ç›¸å…³ä»£ç ï¼‰ï¼Œæ‰€ä»¥æˆ‘ç”¨äº†åˆå§‹åŒ–å‡½æ•°æ¥ä»£æ›¿
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;state&lt;/span&gt;  &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt;  &lt;span class=&#34;s&#34;&gt;&amp;#34;start&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;sign&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ans&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;table&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;map&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;][]&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;s&#34;&gt;&amp;#34;start&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[]&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;start&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;signed&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;in_number&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;end&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;
        &lt;span class=&#34;s&#34;&gt;&amp;#34;signed&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[]&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;end&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;end&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;in_number&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;end&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;
        &lt;span class=&#34;s&#34;&gt;&amp;#34;in_number&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[]&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;end&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;end&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;in_number&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;end&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;
        &lt;span class=&#34;s&#34;&gt;&amp;#34;end&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[]&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;end&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;end&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;end&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;end&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Automaton&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;c&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;byte&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;){&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;//å®ç°çŠ¶æ€è½¬ç§»çš„æ–¹æ³•
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nx&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;state&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;table&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;state&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;get_col&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)]&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;switch&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;state&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;in_number&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; 
            &lt;span class=&#34;nx&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ans&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ans&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;10&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;sc&#34;&gt;&amp;#39;0&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;sign&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
                &lt;span class=&#34;nx&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ans&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;min&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ans&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;math&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;MaxInt32&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
                &lt;span class=&#34;nx&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ans&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;min&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ans&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;math&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;MinInt32&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;signed&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;c&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;sc&#34;&gt;&amp;#39;-&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
                &lt;span class=&#34;nx&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;sign&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Automaton&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;get_col&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;c&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;byte&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;//è·å¾—è¾“å…¥å­—ç¬¦çš„ç±»å‹
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;k&#34;&gt;switch&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;sc&#34;&gt;&amp;#39; &amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;sc&#34;&gt;&amp;#39;+&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;||&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;sc&#34;&gt;&amp;#39;-&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;sc&#34;&gt;&amp;#39;0&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;=&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;=&lt;/span&gt;&lt;span class=&#34;sc&#34;&gt;&amp;#39;9&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;default&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Automaton&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;get_ans&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;//è·å¾—ç»“æœ
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;sign&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ans&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;myAtoi&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Automaton&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{}&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;init&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;

    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;len&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;get_ans&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;min&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;b&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;a&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;b&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
        </item>
        <item>
        <title>Goè¯­è¨€ä¹‹æ—…</title>
        <link>https://tweakzx.github.io/p/go%E8%AF%AD%E8%A8%80%E4%B9%8B%E6%97%85/</link>
        <pubDate>Tue, 22 Feb 2022 17:20:32 +0800</pubDate>
        
        <guid>https://tweakzx.github.io/p/go%E8%AF%AD%E8%A8%80%E4%B9%8B%E6%97%85/</guid>
        <description>&lt;img src="https://go.dev/images/gophers/biplane.svg" alt="Featured image of post Goè¯­è¨€ä¹‹æ—…" /&gt;&lt;h1 id=&#34;æ—…è¡Œèµ·ç‚¹&#34;&gt;æ—…è¡Œèµ·ç‚¹&lt;/h1&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://tour.go-zh.org/welcome/1&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Go è¯­è¨€ä¹‹æ—… (go-zh.org)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šæ–¹é“¾æ¥æ˜¯ä¸€ä¸ªGoè¯­è¨€å­¦ä¹ çš„Playgroundï¼Œå¿«ç‚¹å‡»å®ƒï¼Œå¼€å¯ä¸€åœºGoè¯­è¨€ä¹‹æ—…å§&lt;/p&gt;
&lt;h1 id=&#34;æ—…è¡Œå¼€å§‹&#34;&gt;æ—…è¡Œå¼€å§‹&lt;/h1&gt;
&lt;h2 id=&#34;ç»ƒä¹ å¾ªç¯ä¸å‡½æ•°&#34;&gt;ç»ƒä¹ ï¼šå¾ªç¯ä¸å‡½æ•°&lt;/h2&gt;
&lt;p&gt;ä¸ºäº†ç»ƒä¹ å‡½æ•°ä¸å¾ªç¯ï¼Œæˆ‘ä»¬æ¥å®ç°ä¸€ä¸ªå¹³æ–¹æ ¹å‡½æ•°ï¼šç”¨ç‰›é¡¿æ³•å®ç°å¹³æ–¹æ ¹å‡½æ•°ã€‚&lt;/p&gt;
&lt;p&gt;è®¡ç®—æœºé€šå¸¸ä½¿ç”¨å¾ªç¯æ¥è®¡ç®— x çš„å¹³æ–¹æ ¹ã€‚ä»æŸä¸ªçŒœæµ‹çš„å€¼ z å¼€å§‹ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ® zÂ² ä¸ x çš„è¿‘ä¼¼åº¦æ¥è°ƒæ•´ zï¼Œäº§ç”Ÿä¸€ä¸ªæ›´å¥½çš„çŒœæµ‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;z -= (z*z - x) / (2*z)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;é‡å¤è°ƒæ•´çš„è¿‡ç¨‹ï¼ŒçŒœæµ‹çš„ç»“æœä¼šè¶Šæ¥è¶Šç²¾ç¡®ï¼Œå¾—åˆ°çš„ç­”æ¡ˆä¹Ÿä¼šå°½å¯èƒ½æ¥è¿‘å®é™…çš„å¹³æ–¹æ ¹ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨æä¾›çš„ &lt;code&gt;func Sqrt&lt;/code&gt; ä¸­å®ç°å®ƒã€‚æ— è®ºè¾“å…¥æ˜¯ä»€ä¹ˆï¼Œå¯¹ z çš„ä¸€ä¸ªæ°å½“çš„çŒœæµ‹ä¸º 1ã€‚ è¦å¼€å§‹ï¼Œè¯·é‡å¤è®¡ç®— 10 æ¬¡å¹¶éšä¹‹æ‰“å°æ¯æ¬¡çš„ z å€¼ã€‚è§‚å¯Ÿå¯¹äºä¸åŒçš„å€¼ xï¼ˆ1ã€2ã€3 &amp;hellip;ï¼‰ï¼Œ ä½ å¾—åˆ°çš„ç­”æ¡ˆæ˜¯å¦‚ä½•é€¼è¿‘ç»“æœçš„ï¼ŒçŒœæµ‹æå‡çš„é€Ÿåº¦æœ‰å¤šå¿«ã€‚&lt;/p&gt;
&lt;p&gt;æç¤ºï¼šç”¨ç±»å‹è½¬æ¢æˆ–æµ®ç‚¹æ•°è¯­æ³•æ¥å£°æ˜å¹¶åˆå§‹åŒ–ä¸€ä¸ªæµ®ç‚¹æ•°å€¼ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;z := 1.0
z := float64(1)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç„¶åï¼Œä¿®æ”¹å¾ªç¯æ¡ä»¶ï¼Œä½¿å¾—å½“å€¼åœæ­¢æ”¹å˜ï¼ˆæˆ–æ”¹å˜éå¸¸å°ï¼‰çš„æ—¶å€™é€€å‡ºå¾ªç¯ã€‚è§‚å¯Ÿè¿­ä»£æ¬¡æ•°å¤§äºè¿˜æ˜¯å°äº 10ã€‚ å°è¯•æ”¹å˜ z çš„åˆå§‹çŒœæµ‹ï¼Œå¦‚ x æˆ– x/2ã€‚ä½ çš„å‡½æ•°ç»“æœä¸æ ‡å‡†åº“ä¸­çš„ &lt;a class=&#34;link&#34; href=&#34;https://go-zh.org/pkg/math/#Sqrt&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;math.Sqrt&lt;/a&gt; æ¥è¿‘å—ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ï¼ˆ&lt;em&gt;æ³¨ï¼š&lt;/em&gt; å¦‚æœä½ å¯¹è¯¥ç®—æ³•çš„ç»†èŠ‚æ„Ÿå…´è¶£ï¼Œä¸Šé¢çš„ zÂ² âˆ’ x æ˜¯ zÂ² åˆ°å®ƒæ‰€è¦åˆ°è¾¾çš„å€¼ï¼ˆå³ xï¼‰çš„è·ç¦»ï¼Œ é™¤ä»¥çš„ 2z ä¸º zÂ² çš„å¯¼æ•°ï¼Œæˆ‘ä»¬é€šè¿‡ zÂ² çš„å˜åŒ–é€Ÿåº¦æ¥æ”¹å˜ z çš„è°ƒæ•´é‡ã€‚ è¿™ç§é€šç”¨æ–¹æ³•å«åš&lt;a class=&#34;link&#34; href=&#34;https://zh.wikipedia.org/wiki/%e7%89%9b%e9%a1%bf%e6%b3%95&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;ç‰›é¡¿æ³•&lt;/a&gt;ã€‚ å®ƒå¯¹å¾ˆå¤šå‡½æ•°ï¼Œç‰¹åˆ«æ˜¯å¹³æ–¹æ ¹è€Œè¨€éå¸¸æœ‰æ•ˆã€‚ï¼‰&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;kn&#34;&gt;package&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;main&lt;/span&gt;

&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
	&lt;span class=&#34;s&#34;&gt;&amp;#34;fmt&amp;#34;&lt;/span&gt;
	&lt;span class=&#34;s&#34;&gt;&amp;#34;math&amp;#34;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;Sqrt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;x&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;float64&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;z&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;float64&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
	&lt;span class=&#34;nx&#34;&gt;z&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;float64&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
	&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;math&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Abs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;z&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;z&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&amp;gt;&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;0.000001&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
		&lt;span class=&#34;nx&#34;&gt;z&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;z&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;z&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;z&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
	&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
	&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
	&lt;span class=&#34;nx&#34;&gt;fmt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Println&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Sqrt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;ç»ƒä¹ åˆ‡ç‰‡&#34;&gt;ç»ƒä¹ ï¼šåˆ‡ç‰‡&lt;/h2&gt;
&lt;p&gt;å®ç° &lt;code&gt;Pic&lt;/code&gt;ã€‚å®ƒåº”å½“è¿”å›ä¸€ä¸ªé•¿åº¦ä¸º &lt;code&gt;dy&lt;/code&gt; çš„åˆ‡ç‰‡ï¼Œå…¶ä¸­æ¯ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªé•¿åº¦ä¸º &lt;code&gt;dx&lt;/code&gt;ï¼Œå…ƒç´ ç±»å‹ä¸º &lt;code&gt;uint8&lt;/code&gt; çš„åˆ‡ç‰‡ã€‚å½“ä½ è¿è¡Œæ­¤ç¨‹åºæ—¶ï¼Œå®ƒä¼šå°†æ¯ä¸ªæ•´æ•°è§£é‡Šä¸ºç°åº¦å€¼ï¼ˆå¥½å§ï¼Œå…¶å®æ˜¯è“åº¦å€¼ï¼‰å¹¶æ˜¾ç¤ºå®ƒæ‰€å¯¹åº”çš„å›¾åƒã€‚&lt;/p&gt;
&lt;p&gt;å›¾åƒçš„é€‰æ‹©ç”±ä½ æ¥å®šã€‚å‡ ä¸ªæœ‰è¶£çš„å‡½æ•°åŒ…æ‹¬ &lt;code&gt;(x+y)/2&lt;/code&gt;, &lt;code&gt;x*y&lt;/code&gt;, &lt;code&gt;x^y&lt;/code&gt;, &lt;code&gt;x*log(y)&lt;/code&gt; å’Œ &lt;code&gt;x%(y+1)&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ï¼ˆæç¤ºï¼šéœ€è¦ä½¿ç”¨å¾ªç¯æ¥åˆ†é… &lt;code&gt;[][]uint8&lt;/code&gt; ä¸­çš„æ¯ä¸ª &lt;code&gt;[]uint8&lt;/code&gt;ï¼›è¯·ä½¿ç”¨ &lt;code&gt;uint8(intValue)&lt;/code&gt; åœ¨ç±»å‹ä¹‹é—´è½¬æ¢ï¼›ä½ å¯èƒ½ä¼šç”¨åˆ° &lt;code&gt;math&lt;/code&gt; åŒ…ä¸­çš„å‡½æ•°ã€‚ï¼‰&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;kn&#34;&gt;package&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;main&lt;/span&gt;

&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;golang.org/x/tour/pic&amp;#34;&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;Pic&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;dx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;dy&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[][]&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;uint8&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
	&lt;span class=&#34;nx&#34;&gt;picture&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;make&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;([][]&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;uint8&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;dy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
	&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;range&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;picture&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
		&lt;span class=&#34;nx&#34;&gt;line&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;make&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;([]&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;uint8&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;dx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; 
		&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;range&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;line&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
			&lt;span class=&#34;nx&#34;&gt;line&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;uint8&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;((&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
		&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
		&lt;span class=&#34;nx&#34;&gt;picture&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;line&lt;/span&gt;
	&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
	&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;picture&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
	&lt;span class=&#34;nx&#34;&gt;pic&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Show&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Pic&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;ç»ƒä¹ æ˜ å°„&#34;&gt;ç»ƒä¹ ï¼šæ˜ å°„&lt;/h2&gt;
&lt;p&gt;å®ç° &lt;code&gt;WordCount&lt;/code&gt;ã€‚å®ƒåº”å½“è¿”å›ä¸€ä¸ªæ˜ å°„ï¼Œå…¶ä¸­åŒ…å«å­—ç¬¦ä¸² &lt;code&gt;s&lt;/code&gt; ä¸­æ¯ä¸ªâ€œå•è¯â€çš„ä¸ªæ•°ã€‚å‡½æ•° &lt;code&gt;wc.Test&lt;/code&gt; ä¼šå¯¹æ­¤å‡½æ•°æ‰§è¡Œä¸€ç³»åˆ—æµ‹è¯•ç”¨ä¾‹ï¼Œå¹¶è¾“å‡ºæˆåŠŸè¿˜æ˜¯å¤±è´¥ã€‚&lt;/p&gt;
&lt;p&gt;ä½ ä¼šå‘ç° &lt;a class=&#34;link&#34; href=&#34;https://go-zh.org/pkg/strings/#Fields&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;strings.Fields&lt;/a&gt; å¾ˆæœ‰å¸®åŠ©ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;kn&#34;&gt;package&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;main&lt;/span&gt;

&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
	&lt;span class=&#34;s&#34;&gt;&amp;#34;golang.org/x/tour/wc&amp;#34;&lt;/span&gt;
	&lt;span class=&#34;s&#34;&gt;&amp;#34;strings&amp;#34;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;WordCount&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;map&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
	&lt;span class=&#34;nx&#34;&gt;words&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;strings&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Fields&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
	&lt;span class=&#34;nx&#34;&gt;ans&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;make&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;map&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
	&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;_&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;w&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;range&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;words&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
		&lt;span class=&#34;c1&#34;&gt;//v,ok := ans[w]
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;		&lt;span class=&#34;nx&#34;&gt;ans&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;ans&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;
	&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
	&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;ans&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
	&lt;span class=&#34;nx&#34;&gt;wc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Test&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;WordCount&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;ç»ƒä¹ æ–æ³¢çº³å¥‘é—­åŒ…&#34;&gt;ç»ƒä¹ ï¼šæ–æ³¢çº³å¥‘é—­åŒ…&lt;/h2&gt;
&lt;p&gt;è®©æˆ‘ä»¬ç”¨å‡½æ•°åšäº›å¥½ç©çš„äº‹æƒ…ã€‚&lt;/p&gt;
&lt;p&gt;å®ç°ä¸€ä¸ª &lt;code&gt;fibonacci&lt;/code&gt; å‡½æ•°ï¼Œå®ƒè¿”å›ä¸€ä¸ªå‡½æ•°ï¼ˆé—­åŒ…ï¼‰ï¼Œè¯¥é—­åŒ…è¿”å›ä¸€ä¸ª&lt;a class=&#34;link&#34; href=&#34;https://zh.wikipedia.org/wiki/%e6%96%90%e6%b3%a2%e9%82%a3%e5%a5%91%e6%95%b0%e5%88%97&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;æ–æ³¢çº³å¥‘æ•°åˆ—&lt;/a&gt; &lt;code&gt;(0, 1, 1, 2, 3, 5, ...)&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;kn&#34;&gt;package&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;main&lt;/span&gt;

&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;fmt&amp;#34;&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// è¿”å›ä¸€ä¸ªâ€œè¿”å›intçš„å‡½æ•°â€
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;fibonacci&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
	&lt;span class=&#34;nx&#34;&gt;first&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt; 
	&lt;span class=&#34;nx&#34;&gt;second&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;   &lt;span class=&#34;c1&#34;&gt;//æ ¹æ®å…¬å¼å€’æ¨å‡ºçš„firstå’Œsecond
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;	&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
		&lt;span class=&#34;nx&#34;&gt;first&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;second&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;first&lt;/span&gt;
		&lt;span class=&#34;nx&#34;&gt;second&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;second&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;first&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;//æ–æ³¢é‚£å¥‘å…¬å¼
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;		&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;second&lt;/span&gt;
	&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
	&lt;span class=&#34;nx&#34;&gt;f&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;fibonacci&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
	&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
		&lt;span class=&#34;nx&#34;&gt;fmt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Println&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;())&lt;/span&gt;
	&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;ç»ƒä¹ stringer&#34;&gt;ç»ƒä¹ ï¼šStringer&lt;/h2&gt;
&lt;p&gt;é€šè¿‡è®© &lt;code&gt;IPAddr&lt;/code&gt; ç±»å‹å®ç° &lt;code&gt;fmt.Stringer&lt;/code&gt; æ¥æ‰“å°ç‚¹å·åˆ†éš”çš„åœ°å€ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼Œ&lt;code&gt;IPAddr{1, 2, 3, 4}&lt;/code&gt; åº”å½“æ‰“å°ä¸º &lt;code&gt;&amp;quot;1.2.3.4&amp;quot;&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;kn&#34;&gt;package&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;main&lt;/span&gt;

&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;fmt&amp;#34;&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;IPAddr&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;byte&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// TODO: ç»™ IPAddr æ·»åŠ ä¸€ä¸ª &amp;#34;String() string&amp;#34; æ–¹æ³•
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ip&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;IPAddr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
	&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;fmt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Sprintf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;%v.%v.%v.%v\n&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ip&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ip&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ip&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ip&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
	&lt;span class=&#34;nx&#34;&gt;hosts&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;map&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;IPAddr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
		&lt;span class=&#34;s&#34;&gt;&amp;#34;loopback&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;  &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;127&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;
		&lt;span class=&#34;s&#34;&gt;&amp;#34;googleDNS&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;8&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;8&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;8&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;8&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;
	&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
	&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;ip&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;range&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;hosts&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
		&lt;span class=&#34;nx&#34;&gt;fmt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;%v: %v\n&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;ip&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
	&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;ç»ƒä¹ é”™è¯¯&#34;&gt;ç»ƒä¹ ï¼šé”™è¯¯&lt;/h2&gt;
&lt;p&gt;ä»&lt;a class=&#34;link&#34; href=&#34;https://tour.go-zh.org/flowcontrol/8&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;ä¹‹å‰çš„ç»ƒä¹ &lt;/a&gt;ä¸­å¤åˆ¶ &lt;code&gt;Sqrt&lt;/code&gt; å‡½æ•°ï¼Œä¿®æ”¹å®ƒä½¿å…¶è¿”å› &lt;code&gt;error&lt;/code&gt; å€¼ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Sqrt&lt;/code&gt; æ¥å—åˆ°ä¸€ä¸ªè´Ÿæ•°æ—¶ï¼Œåº”å½“è¿”å›ä¸€ä¸ªé nil çš„é”™è¯¯å€¼ã€‚å¤æ•°åŒæ ·ä¹Ÿä¸è¢«æ”¯æŒã€‚&lt;/p&gt;
&lt;p&gt;åˆ›å»ºä¸€ä¸ªæ–°çš„ç±»å‹&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;type ErrNegativeSqrt float64
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å¹¶ä¸ºå…¶å®ç°&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;func (e ErrNegativeSqrt) Error() string
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æ–¹æ³•ä½¿å…¶æ‹¥æœ‰ &lt;code&gt;error&lt;/code&gt; å€¼ï¼Œé€šè¿‡ &lt;code&gt;ErrNegativeSqrt(-2).Error()&lt;/code&gt; è°ƒç”¨è¯¥æ–¹æ³•åº”è¿”å› &lt;code&gt;&amp;quot;cannot Sqrt negative number: -2&amp;quot;&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ³¨æ„:&lt;/strong&gt; åœ¨ &lt;code&gt;Error&lt;/code&gt; æ–¹æ³•å†…è°ƒç”¨ &lt;code&gt;fmt.Sprint(e)&lt;/code&gt; ä¼šè®©ç¨‹åºé™·å…¥æ­»å¾ªç¯ã€‚å¯ä»¥é€šè¿‡å…ˆè½¬æ¢ &lt;code&gt;e&lt;/code&gt; æ¥é¿å…è¿™ä¸ªé—®é¢˜ï¼š&lt;code&gt;fmt.Sprint(float64(e))&lt;/code&gt;ã€‚è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ä¿®æ”¹ &lt;code&gt;Sqrt&lt;/code&gt; å‡½æ•°ï¼Œä½¿å…¶æ¥å—ä¸€ä¸ªè´Ÿæ•°æ—¶ï¼Œè¿”å› &lt;code&gt;ErrNegativeSqrt&lt;/code&gt; å€¼ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;kn&#34;&gt;package&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;main&lt;/span&gt;

&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
	&lt;span class=&#34;s&#34;&gt;&amp;#34;fmt&amp;#34;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;ErrNegativeSqrt&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;float64&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;e&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;ErrNegativeSqrt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;Error&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
	&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;fmt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Sprintf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;cannot Sqrt negative number: %v&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;float64&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;Sqrt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;x&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;float64&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;float64&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;error&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
	&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
		&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt;
	&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
		&lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;e&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;ErrNegativeSqrt&lt;/span&gt;
		&lt;span class=&#34;nx&#34;&gt;e&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;ErrNegativeSqrt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
		&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;e&lt;/span&gt;
	&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
	&lt;span class=&#34;nx&#34;&gt;fmt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Println&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Sqrt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
	&lt;span class=&#34;nx&#34;&gt;fmt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Println&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Sqrt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;ç»ƒä¹ reader&#34;&gt;ç»ƒä¹ ï¼šReader&lt;/h2&gt;
&lt;p&gt;å®ç°ä¸€ä¸ª &lt;code&gt;Reader&lt;/code&gt; ç±»å‹ï¼Œå®ƒäº§ç”Ÿä¸€ä¸ª ASCII å­—ç¬¦ &lt;code&gt;&#39;A&#39;&lt;/code&gt; çš„æ— é™æµã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;kn&#34;&gt;package&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;main&lt;/span&gt;

&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;golang.org/x/tour/reader&amp;#34;&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;MyReader&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;struct&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{}&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// TODO: ç»™ MyReader æ·»åŠ ä¸€ä¸ª Read([]byte) (int, error) æ–¹æ³•
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;mr&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;MyReader&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;Read&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;buf&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[]&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;byte&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;error&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
	&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;range&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;buf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
		&lt;span class=&#34;nx&#34;&gt;buf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;sc&#34;&gt;&amp;#39;A&amp;#39;&lt;/span&gt;
	&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
	&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
	&lt;span class=&#34;nx&#34;&gt;reader&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Validate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;MyReader&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{})&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;ç»ƒä¹ rot13reader&#34;&gt;ç»ƒä¹ ï¼šrot13Reader&lt;/h2&gt;
&lt;p&gt;æœ‰ç§å¸¸è§çš„æ¨¡å¼æ˜¯ä¸€ä¸ª &lt;a class=&#34;link&#34; href=&#34;https://go-zh.org/pkg/io/#Reader&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;code&gt;io.Reader&lt;/code&gt;&lt;/a&gt; åŒ…è£…å¦ä¸€ä¸ª &lt;code&gt;io.Reader&lt;/code&gt;ï¼Œç„¶åé€šè¿‡æŸç§æ–¹å¼ä¿®æ”¹å…¶æ•°æ®æµã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼Œ&lt;a class=&#34;link&#34; href=&#34;https://go-zh.org/pkg/compress/gzip/#NewReader&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;code&gt;gzip.NewReader&lt;/code&gt;&lt;/a&gt; å‡½æ•°æ¥å—ä¸€ä¸ª &lt;code&gt;io.Reader&lt;/code&gt;ï¼ˆå·²å‹ç¼©çš„æ•°æ®æµï¼‰å¹¶è¿”å›ä¸€ä¸ªåŒæ ·å®ç°äº† &lt;code&gt;io.Reader&lt;/code&gt; çš„ &lt;code&gt;*gzip.Reader&lt;/code&gt;ï¼ˆè§£å‹åçš„æ•°æ®æµï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;ç¼–å†™ä¸€ä¸ªå®ç°äº† &lt;code&gt;io.Reader&lt;/code&gt; å¹¶ä»å¦ä¸€ä¸ª &lt;code&gt;io.Reader&lt;/code&gt; ä¸­è¯»å–æ•°æ®çš„ &lt;code&gt;rot13Reader&lt;/code&gt;ï¼Œé€šè¿‡åº”ç”¨ &lt;a class=&#34;link&#34; href=&#34;http://en.wikipedia.org/wiki/ROT13&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;rot13&lt;/a&gt; ä»£æ¢å¯†ç å¯¹æ•°æ®æµè¿›è¡Œä¿®æ”¹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;rot13Reader&lt;/code&gt; ç±»å‹å·²ç»æä¾›ã€‚å®ç° &lt;code&gt;Read&lt;/code&gt; æ–¹æ³•ä»¥æ»¡è¶³ &lt;code&gt;io.Reader&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;kn&#34;&gt;package&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;main&lt;/span&gt;

&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
	&lt;span class=&#34;s&#34;&gt;&amp;#34;io&amp;#34;&lt;/span&gt;
	&lt;span class=&#34;s&#34;&gt;&amp;#34;os&amp;#34;&lt;/span&gt;
	&lt;span class=&#34;s&#34;&gt;&amp;#34;strings&amp;#34;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;rot13Reader&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
	&lt;span class=&#34;nx&#34;&gt;r&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;io&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Reader&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;rot&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;rot13Reader&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;Read&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;buf&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[]&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;byte&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;error&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;){&lt;/span&gt;
	&lt;span class=&#34;nx&#34;&gt;len&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ok&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;rot&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;r&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Read&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;buf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
	&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;v&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;range&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;buf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
		&lt;span class=&#34;k&#34;&gt;switch&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
			&lt;span class=&#34;k&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sc&#34;&gt;&amp;#39;a&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;=&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;v&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;v&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;=&lt;/span&gt;&lt;span class=&#34;sc&#34;&gt;&amp;#39;m&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;||&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sc&#34;&gt;&amp;#39;A&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;=&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;v&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;v&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;=&lt;/span&gt;&lt;span class=&#34;sc&#34;&gt;&amp;#39;M&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
				&lt;span class=&#34;nx&#34;&gt;buf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;v&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;13&lt;/span&gt;
			&lt;span class=&#34;k&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sc&#34;&gt;&amp;#39;n&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;=&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;v&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;v&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;=&lt;/span&gt;&lt;span class=&#34;sc&#34;&gt;&amp;#39;z&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;||&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sc&#34;&gt;&amp;#39;N&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;=&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;v&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;v&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;=&lt;/span&gt;&lt;span class=&#34;sc&#34;&gt;&amp;#39;Z&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
				&lt;span class=&#34;nx&#34;&gt;buf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;v&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;13&lt;/span&gt;
			&lt;span class=&#34;k&#34;&gt;default&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
		&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
	&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
	&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;len&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ok&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
	&lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;strings&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;NewReader&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Lbh penpxrq gur pbqr!&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
	&lt;span class=&#34;nx&#34;&gt;r&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;rot13Reader&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
	&lt;span class=&#34;nx&#34;&gt;io&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Copy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;os&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Stdout&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;r&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;ç»ƒä¹ å›¾åƒ&#34;&gt;ç»ƒä¹ ï¼šå›¾åƒ&lt;/h2&gt;
&lt;p&gt;è¿˜è®°å¾—ä¹‹å‰ç¼–å†™çš„&lt;a class=&#34;link&#34; href=&#34;https://tour.go-zh.org/moretypes/18&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;å›¾ç‰‡ç”Ÿæˆå™¨&lt;/a&gt; å—ï¼Ÿæˆ‘ä»¬å†æ¥ç¼–å†™å¦å¤–ä¸€ä¸ªï¼Œä¸è¿‡è¿™æ¬¡å®ƒå°†ä¼šè¿”å›ä¸€ä¸ª &lt;code&gt;image.Image&lt;/code&gt; çš„å®ç°è€Œéä¸€ä¸ªæ•°æ®åˆ‡ç‰‡ã€‚&lt;/p&gt;
&lt;p&gt;å®šä¹‰ä½ è‡ªå·±çš„ &lt;code&gt;Image&lt;/code&gt; ç±»å‹ï¼Œå®ç°&lt;a class=&#34;link&#34; href=&#34;https://go-zh.org/pkg/image/#Image&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;å¿…è¦çš„æ–¹æ³•&lt;/a&gt;å¹¶è°ƒç”¨ &lt;code&gt;pic.ShowImage&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Bounds&lt;/code&gt; åº”å½“è¿”å›ä¸€ä¸ª &lt;code&gt;image.Rectangle&lt;/code&gt; ï¼Œä¾‹å¦‚ &lt;code&gt;image.Rect(0, 0, w, h)&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ColorModel&lt;/code&gt; åº”å½“è¿”å› &lt;code&gt;color.RGBAModel&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;At&lt;/code&gt; åº”å½“è¿”å›ä¸€ä¸ªé¢œè‰²ã€‚ä¸Šä¸€ä¸ªå›¾ç‰‡ç”Ÿæˆå™¨çš„å€¼ &lt;code&gt;v&lt;/code&gt; å¯¹åº”äºæ­¤æ¬¡çš„ &lt;code&gt;color.RGBA{v, v, 255, 255}&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;kn&#34;&gt;package&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;main&lt;/span&gt;

&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
	&lt;span class=&#34;s&#34;&gt;&amp;#34;golang.org/x/tour/pic&amp;#34;&lt;/span&gt;
	&lt;span class=&#34;s&#34;&gt;&amp;#34;image&amp;#34;&lt;/span&gt;
	&lt;span class=&#34;s&#34;&gt;&amp;#34;image/color&amp;#34;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Image&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;struct&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
	&lt;span class=&#34;nx&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;h&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;
	&lt;span class=&#34;nx&#34;&gt;pixels&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[][]&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;uint8&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;self&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Image&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;Bounds&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;image&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Rectangle&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;){&lt;/span&gt;
	&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;image&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Rect&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;self&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Image&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;ColorModel&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;color&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Model&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;){&lt;/span&gt;
	&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;color&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;RGBAModel&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;self&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Image&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;At&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;x&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;y&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;color&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Color&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;){&lt;/span&gt;
	&lt;span class=&#34;nx&#34;&gt;v&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;self&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;pixels&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
	&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;color&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;RGBA&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;v&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;v&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;255&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;255&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;Pic&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;dx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;dy&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[][]&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;uint8&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nx&#34;&gt;img&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;make&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;([][]&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;uint8&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;dy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;y&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;y&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;dy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;nx&#34;&gt;img&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;make&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;([]&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;uint8&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;dx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;x&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;x&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;dx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
			&lt;span class=&#34;nx&#34;&gt;img&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;uint8&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;^&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;img&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
	&lt;span class=&#34;nx&#34;&gt;m&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Image&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;256&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;256&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Pic&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;256&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;256&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)}&lt;/span&gt;
	&lt;span class=&#34;nx&#34;&gt;pic&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;ShowImage&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;m&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;ç»ƒä¹ ç­‰ä»·äºŒå‰æŸ¥æ‰¾æ ‘&#34;&gt;ç»ƒä¹ ï¼šç­‰ä»·äºŒå‰æŸ¥æ‰¾æ ‘&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;1.&lt;/strong&gt; å®ç° &lt;code&gt;Walk&lt;/code&gt; å‡½æ•°ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2.&lt;/strong&gt; æµ‹è¯• &lt;code&gt;Walk&lt;/code&gt; å‡½æ•°ã€‚&lt;/p&gt;
&lt;p&gt;å‡½æ•° &lt;code&gt;tree.New(k)&lt;/code&gt; ç”¨äºæ„é€ ä¸€ä¸ªéšæœºç»“æ„çš„å·²æ’åºäºŒå‰æŸ¥æ‰¾æ ‘ï¼Œå®ƒä¿å­˜äº†å€¼ &lt;code&gt;k&lt;/code&gt;, &lt;code&gt;2k&lt;/code&gt;, &lt;code&gt;3k&lt;/code&gt;, &amp;hellip;, &lt;code&gt;10k&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;åˆ›å»ºä¸€ä¸ªæ–°çš„ä¿¡é“ &lt;code&gt;ch&lt;/code&gt; å¹¶ä¸”å¯¹å…¶è¿›è¡Œæ­¥è¿›ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;go Walk(tree.New(1), ch)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç„¶åä»ä¿¡é“ä¸­è¯»å–å¹¶æ‰“å° 10 ä¸ªå€¼ã€‚åº”å½“æ˜¯æ•°å­— &lt;code&gt;1, 2, 3, ..., 10&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3.&lt;/strong&gt; ç”¨ &lt;code&gt;Walk&lt;/code&gt; å®ç° &lt;code&gt;Same&lt;/code&gt; å‡½æ•°æ¥æ£€æµ‹ &lt;code&gt;t1&lt;/code&gt; å’Œ &lt;code&gt;t2&lt;/code&gt; æ˜¯å¦å­˜å‚¨äº†ç›¸åŒçš„å€¼ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;4.&lt;/strong&gt; æµ‹è¯• &lt;code&gt;Same&lt;/code&gt; å‡½æ•°ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Same(tree.New(1), tree.New(1))&lt;/code&gt; åº”å½“è¿”å› &lt;code&gt;true&lt;/code&gt;ï¼Œè€Œ &lt;code&gt;Same(tree.New(1), tree.New(2))&lt;/code&gt; åº”å½“è¿”å› &lt;code&gt;false&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Tree&lt;/code&gt; çš„æ–‡æ¡£å¯åœ¨&lt;a class=&#34;link&#34; href=&#34;https://godoc.org/golang.org/x/tour/tree#Tree&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;è¿™é‡Œ&lt;/a&gt;æ‰¾åˆ°ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;kn&#34;&gt;package&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;main&lt;/span&gt;

&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
	&lt;span class=&#34;s&#34;&gt;&amp;#34;fmt&amp;#34;&lt;/span&gt;
	&lt;span class=&#34;s&#34;&gt;&amp;#34;golang.org/x/tour/tree&amp;#34;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// Walk æ­¥è¿› tree t å°†æ‰€æœ‰çš„å€¼ä» tree å‘é€åˆ° channel chã€‚
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;Walk&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;t&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;tree&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Tree&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;ch&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;chan&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
	&lt;span class=&#34;nf&#34;&gt;dfs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;ch&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
	&lt;span class=&#34;nb&#34;&gt;close&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ch&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;dfs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;t&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;tree&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Tree&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;ch&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;chan&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
	&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;t&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
		&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;
	&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
	&lt;span class=&#34;nf&#34;&gt;dfs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Left&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;ch&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
	&lt;span class=&#34;nx&#34;&gt;ch&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Value&lt;/span&gt;
	&lt;span class=&#34;nf&#34;&gt;dfs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Right&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;ch&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// Same æ£€æµ‹æ ‘ t1 å’Œ t2 æ˜¯å¦å«æœ‰ç›¸åŒçš„å€¼ã€‚
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;Same&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;t1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;t2&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;tree&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Tree&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;bool&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
	&lt;span class=&#34;nx&#34;&gt;ch1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;ch2&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;make&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;chan&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;make&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;chan&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

	&lt;span class=&#34;k&#34;&gt;go&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;Walk&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;t1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;ch1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
	&lt;span class=&#34;k&#34;&gt;go&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;Walk&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;t2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;ch2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

	&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;range&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;ch1&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// ch1 å…³é—­å   forå¾ªç¯è‡ªåŠ¨è·³å‡º
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;		&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ch2&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
			&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;false&lt;/span&gt;
		&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
	&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
	&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
	&lt;span class=&#34;nx&#34;&gt;fmt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Println&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Same&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;tree&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;New&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;tree&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;New&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)))&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;ç»ƒä¹ web-çˆ¬è™«&#34;&gt;ç»ƒä¹ ï¼šWeb çˆ¬è™«&lt;/h2&gt;
&lt;p&gt;åœ¨è¿™ä¸ªç»ƒä¹ ä¸­ï¼Œæˆ‘ä»¬å°†ä¼šä½¿ç”¨ Go çš„å¹¶å‘ç‰¹æ€§æ¥å¹¶è¡ŒåŒ–ä¸€ä¸ª Web çˆ¬è™«ã€‚&lt;/p&gt;
&lt;p&gt;ä¿®æ”¹ &lt;code&gt;Crawl&lt;/code&gt; å‡½æ•°æ¥å¹¶è¡Œåœ°æŠ“å– URLï¼Œå¹¶ä¸”ä¿è¯ä¸é‡å¤ã€‚&lt;/p&gt;
&lt;p&gt;&lt;em&gt;æç¤º&lt;/em&gt;ï¼šä½ å¯ä»¥ç”¨ä¸€ä¸ª map æ¥ç¼“å­˜å·²ç»è·å–çš„ URLï¼Œä½†æ˜¯è¦æ³¨æ„ map æœ¬èº«å¹¶ä¸æ˜¯å¹¶å‘å®‰å…¨çš„ï¼&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-go&#34; data-lang=&#34;go&#34;&gt;&lt;span class=&#34;kn&#34;&gt;package&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;main&lt;/span&gt;

&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
	&lt;span class=&#34;s&#34;&gt;&amp;#34;fmt&amp;#34;&lt;/span&gt;
	&lt;span class=&#34;s&#34;&gt;&amp;#34;sync&amp;#34;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Fetcher&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;interface&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
	&lt;span class=&#34;c1&#34;&gt;// Fetch è¿”å› URL çš„ body å†…å®¹ï¼Œå¹¶ä¸”å°†åœ¨è¿™ä¸ªé¡µé¢ä¸Šæ‰¾åˆ°çš„ URL æ”¾åˆ°ä¸€ä¸ª slice ä¸­ã€‚
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;	&lt;span class=&#34;nf&#34;&gt;Fetch&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;url&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;body&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;urls&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[]&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;error&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// Crawl ä½¿ç”¨ fetcher ä»æŸä¸ª URL å¼€å§‹é€’å½’çš„çˆ¬å–é¡µé¢ï¼Œç›´åˆ°è¾¾åˆ°æœ€å¤§æ·±åº¦ã€‚
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;CrawlRecord&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;struct&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
	&lt;span class=&#34;nx&#34;&gt;m&lt;/span&gt;   &lt;span class=&#34;kd&#34;&gt;map&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;
	&lt;span class=&#34;nx&#34;&gt;mux&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;sync&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Mutex&lt;/span&gt;
	&lt;span class=&#34;nx&#34;&gt;wg&lt;/span&gt;  &lt;span class=&#34;nx&#34;&gt;sync&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;WaitGroup&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt;	&lt;span class=&#34;nx&#34;&gt;cr&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;CrawlRecord&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;m&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;make&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;map&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;Crawl&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;url&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;depth&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;fetcher&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Fetcher&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
	&lt;span class=&#34;k&#34;&gt;defer&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;cr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;wg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Done&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
	&lt;span class=&#34;c1&#34;&gt;// TODO: å¹¶è¡Œçš„æŠ“å– URLã€‚
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;	&lt;span class=&#34;c1&#34;&gt;// TODO: ä¸é‡å¤æŠ“å–é¡µé¢ã€‚
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;c1&#34;&gt;// ä¸‹é¢å¹¶æ²¡æœ‰å®ç°ä¸Šé¢ä¸¤ç§æƒ…å†µï¼š
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;	&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;depth&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
		&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;
	&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
	
	&lt;span class=&#34;nx&#34;&gt;cr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;mux&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Lock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
	&lt;span class=&#34;nx&#34;&gt;cr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;m&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;url&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;
	&lt;span class=&#34;nx&#34;&gt;cr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;mux&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Unlock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
	
	&lt;span class=&#34;nx&#34;&gt;body&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;urls&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;fetcher&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Fetch&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;url&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
	&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
		&lt;span class=&#34;nx&#34;&gt;fmt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Println&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;err&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
		&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;
	&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
	
	&lt;span class=&#34;nx&#34;&gt;fmt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;found: %s %q\n&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;url&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;body&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;

	&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;_&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;u&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;range&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;urls&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
		&lt;span class=&#34;nx&#34;&gt;cr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;mux&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Lock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
		&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;_&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ok&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;cr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;m&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;u&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ok&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
			&lt;span class=&#34;nx&#34;&gt;cr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;wg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Add&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
			&lt;span class=&#34;k&#34;&gt;go&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;Crawl&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;u&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;depth&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;fetcher&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
		&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
		&lt;span class=&#34;nx&#34;&gt;cr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;mux&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Unlock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
	&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

	&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
	&lt;span class=&#34;nx&#34;&gt;cr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;wg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Add&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
	&lt;span class=&#34;nf&#34;&gt;Crawl&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;https://golang.org/&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;fetcher&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
	&lt;span class=&#34;nx&#34;&gt;cr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;wg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Wait&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// fakeFetcher æ˜¯è¿”å›è‹¥å¹²ç»“æœçš„ Fetcherã€‚
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;fakeFetcher&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;map&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;fakeResult&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;fakeResult&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
	&lt;span class=&#34;nx&#34;&gt;body&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;
	&lt;span class=&#34;nx&#34;&gt;urls&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[]&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;func&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;f&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;fakeFetcher&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;Fetch&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;url&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[]&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;error&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
	&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;res&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;ok&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;url&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;ok&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
		&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;res&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;body&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;res&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;urls&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt;
	&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
	&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;nil&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;fmt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;Errorf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;not found: %s&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;url&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// fetcher æ˜¯å¡«å……åçš„ fakeFetcherã€‚
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;fetcher&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;fakeFetcher&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
	&lt;span class=&#34;s&#34;&gt;&amp;#34;https://golang.org/&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;fakeResult&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
		&lt;span class=&#34;s&#34;&gt;&amp;#34;The Go Programming Language&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
		&lt;span class=&#34;p&#34;&gt;[]&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
			&lt;span class=&#34;s&#34;&gt;&amp;#34;https://golang.org/pkg/&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
			&lt;span class=&#34;s&#34;&gt;&amp;#34;https://golang.org/cmd/&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
		&lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;
	&lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;
	&lt;span class=&#34;s&#34;&gt;&amp;#34;https://golang.org/pkg/&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;fakeResult&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
		&lt;span class=&#34;s&#34;&gt;&amp;#34;Packages&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
		&lt;span class=&#34;p&#34;&gt;[]&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
			&lt;span class=&#34;s&#34;&gt;&amp;#34;https://golang.org/&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
			&lt;span class=&#34;s&#34;&gt;&amp;#34;https://golang.org/cmd/&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
			&lt;span class=&#34;s&#34;&gt;&amp;#34;https://golang.org/pkg/fmt/&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
			&lt;span class=&#34;s&#34;&gt;&amp;#34;https://golang.org/pkg/os/&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
		&lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;
	&lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;
	&lt;span class=&#34;s&#34;&gt;&amp;#34;https://golang.org/pkg/fmt/&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;fakeResult&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
		&lt;span class=&#34;s&#34;&gt;&amp;#34;Package fmt&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
		&lt;span class=&#34;p&#34;&gt;[]&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
			&lt;span class=&#34;s&#34;&gt;&amp;#34;https://golang.org/&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
			&lt;span class=&#34;s&#34;&gt;&amp;#34;https://golang.org/pkg/&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
		&lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;
	&lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;
	&lt;span class=&#34;s&#34;&gt;&amp;#34;https://golang.org/pkg/os/&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;fakeResult&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
		&lt;span class=&#34;s&#34;&gt;&amp;#34;Package os&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
		&lt;span class=&#34;p&#34;&gt;[]&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
			&lt;span class=&#34;s&#34;&gt;&amp;#34;https://golang.org/&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
			&lt;span class=&#34;s&#34;&gt;&amp;#34;https://golang.org/pkg/&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
		&lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;
	&lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h1 id=&#34;æ—…è¡Œç»ˆç‚¹&#34;&gt;æ—…è¡Œç»ˆç‚¹&lt;/h1&gt;
&lt;p&gt;ä½ å¯ä»¥ä»&lt;a class=&#34;link&#34; href=&#34;https://go-zh.org/doc/install/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;å®‰è£… Go&lt;/a&gt; å¼€å§‹ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;wget -c https://dl.google.com/go/go1.14.2.linux-amd64.tar.gz -O - | sudo tar -xz -C /usr/local
&lt;/code&gt;&lt;/pre&gt;&lt;pre&gt;&lt;code&gt;vim /etc/profile
&lt;/code&gt;&lt;/pre&gt;&lt;pre&gt;&lt;code&gt;export PATH=$PATH:/usr/local/go/bin
export GOPROXY=https://goproxy.cn,direct
export GO111MODULE=on
&lt;/code&gt;&lt;/pre&gt;&lt;pre&gt;&lt;code&gt;source ~/.profile
go version
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä¸€æ—¦å®‰è£…äº† Goï¼ŒGo &lt;a class=&#34;link&#34; href=&#34;https://go-zh.org/doc/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;æ–‡æ¡£&lt;/a&gt;æ˜¯ä¸€ä¸ªæå¥½çš„ åº”å½“ç»§ç»­é˜…è¯»çš„å†…å®¹ã€‚ å®ƒåŒ…å«äº†å‚è€ƒã€æŒ‡å—ã€è§†é¢‘ç­‰ç­‰æ›´å¤šèµ„æ–™ã€‚&lt;/p&gt;
&lt;p&gt;äº†è§£å¦‚ä½•ç»„ç»‡ Go ä»£ç å¹¶åœ¨å…¶ä¸Šå·¥ä½œï¼Œå‚é˜…&lt;a class=&#34;link&#34; href=&#34;https://www.youtube.com/watch?v=XCsL89YtqCs&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;æ­¤è§†é¢‘&lt;/a&gt;ï¼Œæˆ–è€…é˜…è¯»&lt;a class=&#34;link&#34; href=&#34;https://go-zh.org/doc/code.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;å¦‚ä½•ç¼–å†™ Go ä»£ç &lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ éœ€è¦æ ‡å‡†åº“æ–¹é¢çš„å¸®åŠ©ï¼Œè¯·å‚è€ƒ&lt;a class=&#34;link&#34; href=&#34;https://go-zh.org/pkg/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;åŒ…æ‰‹å†Œ&lt;/a&gt;ã€‚å¦‚æœæ˜¯è¯­è¨€æœ¬èº«çš„å¸®åŠ©ï¼Œé˜…è¯»&lt;a class=&#34;link&#34; href=&#34;https://go-zh.org/ref/spec&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;è¯­è¨€è§„èŒƒ&lt;/a&gt;æ˜¯ä»¶ä»¤äººæ„‰å¿«çš„äº‹æƒ…ã€‚&lt;/p&gt;
&lt;p&gt;è¿›ä¸€æ­¥æ¢ç´¢ Go çš„å¹¶å‘æ¨¡å‹ï¼Œå‚é˜… &lt;a class=&#34;link&#34; href=&#34;https://www.youtube.com/watch?v=f6kdp27TYZs&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Go å¹¶å‘æ¨¡å‹&lt;/a&gt;(&lt;a class=&#34;link&#34; href=&#34;https://talks.go-zh.org/2012/concurrency.slide&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;å¹»ç¯ç‰‡&lt;/a&gt;)ä»¥åŠ&lt;a class=&#34;link&#34; href=&#34;https://www.youtube.com/watch?v=QDDwwePbDtw&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;æ·±å…¥ Go å¹¶å‘æ¨¡å‹&lt;/a&gt;(&lt;a class=&#34;link&#34; href=&#34;https://talks.go-zh.org/2013/advconc.slide&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;å¹»ç¯ç‰‡&lt;/a&gt;)å¹¶é˜…è¯»&lt;a class=&#34;link&#34; href=&#34;https://go-zh.org/doc/codewalk/sharemem/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;é€šè¿‡é€šä¿¡å…±äº«å†…å­˜&lt;/a&gt;çš„ä»£ç ä¹‹æ—…ã€‚&lt;/p&gt;
&lt;p&gt;æƒ³è¦å¼€å§‹ç¼–å†™ Web åº”ç”¨ï¼Œè¯·å‚é˜…&lt;a class=&#34;link&#34; href=&#34;https://vimeo.com/53221558&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;ä¸€ä¸ªç®€å•çš„ç¼–ç¨‹ç¯å¢ƒ&lt;/a&gt;(&lt;a class=&#34;link&#34; href=&#34;https://talks.go-zh.org/2012/simple.slide&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;å¹»ç¯ç‰‡&lt;/a&gt;)å¹¶é˜…è¯»&lt;a class=&#34;link&#34; href=&#34;https://go-zh.org/doc/articles/wiki/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;ç¼–å†™ Web åº”ç”¨&lt;/a&gt;çš„æŒ‡å—ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://go-zh.org/doc/codewalk/functions/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;å‡½æ•°ï¼šGo ä¸­çš„ä¸€ç­‰å…¬æ°‘&lt;/a&gt;å±•ç¤ºäº†æœ‰è¶£çš„å‡½æ•°ç±»å‹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://blog.go-zh.org/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Go åšå®¢&lt;/a&gt;æœ‰ç€ä¼—å¤šå…³äº Go çš„æ–‡ç« å’Œä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.mikespook.com/tag/golang/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;mikespook çš„åšå®¢&lt;/a&gt;ä¸­æœ‰å¤§é‡ä¸­æ–‡çš„å…³äº Go çš„æ–‡ç« å’Œç¿»è¯‘ã€‚&lt;/p&gt;
&lt;p&gt;å¼€æºç”µå­ä¹¦ &lt;a class=&#34;link&#34; href=&#34;https://github.com/astaxie/build-web-application-with-golang&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Go Web ç¼–ç¨‹&lt;/a&gt;å’Œ &lt;a class=&#34;link&#34; href=&#34;https://github.com/Unknwon/the-way-to-go_ZH_CN&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Go å…¥é—¨æŒ‡å—&lt;/a&gt;èƒ½å¤Ÿå¸®åŠ©ä½ æ›´åŠ æ·±å…¥çš„äº†è§£å’Œå­¦ä¹  Go è¯­è¨€ã€‚&lt;/p&gt;
&lt;p&gt;è®¿é—® &lt;a class=&#34;link&#34; href=&#34;https://go-zh.org/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;go-zh.org&lt;/a&gt; äº†è§£æ›´å¤šå†…å®¹ã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>PolarDB Serverlessè®ºæ–‡é˜…è¯»æŠ¥å‘Š</title>
        <link>https://tweakzx.github.io/p/polardb-serverless%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E6%8A%A5%E5%91%8A/</link>
        <pubDate>Wed, 22 Dec 2021 14:17:12 +0800</pubDate>
        
        <guid>https://tweakzx.github.io/p/polardb-serverless%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB%E6%8A%A5%E5%91%8A/</guid>
        <description>&lt;img src="https://2021.sigmod.org/images/2021sigmod-logo1.jpg" alt="Featured image of post PolarDB Serverlessè®ºæ–‡é˜…è¯»æŠ¥å‘Š" /&gt;&lt;h1 id=&#34;polardb-serverlessè®ºæ–‡é˜…è¯»æŠ¥å‘Š&#34;&gt;PolarDB Serverlessè®ºæ–‡é˜…è¯»æŠ¥å‘Š&lt;/h1&gt;
&lt;h2 id=&#34;æ‘˜è¦&#34;&gt;æ‘˜è¦&lt;/h2&gt;
&lt;p&gt;æ•°æ®åº“ç®¡ç†ç³»ç»Ÿçš„ä¸Šäº‘æ˜¯è¿‘æœŸå¾ˆç«çš„ç ”ç©¶è¶‹åŠ¿ï¼Œå› ä¸ºè¿™æ ·å¯ä»¥è·å¾—æ›´é«˜çš„å¼¹æ€§ï¼Œå¯ç”¨æ€§ä»¥åŠæ›´ä½çš„æˆæœ¬ï¼Œä¼ ç»Ÿçš„ç‹¬å—çš„æ•°æ®åº“æ¶æ„å¾ˆéš¾æ»¡è¶³è¿™æ ·çš„è¦æ±‚ã€‚é«˜é€Ÿç½‘ç»œä¸æ–°çš„å†…å­˜æŠ€æœ¯ï¼ˆä¾‹å¦‚RDMAï¼‰çš„å‘å±•ï¼Œç»™åˆ†æ•£å¼æ•°æ®åº“å¸¦æ¥äº†å¯èƒ½ï¼šå®ƒå°†åŸå…ˆçš„ç‹¬å—çš„æœåŠ¡å™¨èµ„æºåˆ†ç¦»è§£è€¦åˆ°èµ„æºæ± ä¸­ï¼Œå†é€šè¿‡é«˜é€Ÿç½‘ç»œè¿æ¥èµ·æ¥ã€‚ä¸‹ä¸€ä»£çš„äº‘åŸç”Ÿæ•°æ®åº“å°±æ˜¯ä¸ºäº†åˆ†æ•£åŒ–çš„æ•°æ®ä¸­å¿ƒè€Œè®¾è®¡ã€‚&lt;/p&gt;
&lt;p&gt;PolarDB Serverless éµå¾ªåˆ†æ•£å¼çš„è®¾è®¡èŒƒå¼è€Œè®¾è®¡ï¼Œè§£è€¦äº†è®¡ç®—èŠ‚ç‚¹çš„CPUï¼Œå†…å­˜ï¼Œå­˜å‚¨èµ„æºã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¯ç§èµ„æºå¯ä»¥éšéœ€æ±‚è€Œç‹¬ç«‹çš„å¢é•¿æˆ–ç¼©å°ï¼Œä¿éšœå¯é æ€§çš„åŒæ—¶ï¼Œå¯ä»¥è¿›è¡Œå¤šç»´åº¦çš„æŒ‰éœ€ä¾›åº”ã€‚&lt;/li&gt;
&lt;li&gt;åŒæ—¶é‡‡ç”¨äº†ä¼˜åŒ–ç­–ç•¥å¦‚ä¹è§‚é”å’Œé¢„å–ç­–ç•¥æ¥æ”¹å–„æ€§èƒ½ã€‚&lt;/li&gt;
&lt;li&gt;è¿˜å¯ä»¥å®ç°æ›´å¿«çš„æ•…éšœæ¢å¤ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;ä»‹ç»&#34;&gt;ä»‹ç»&lt;/h2&gt;
&lt;h3 id=&#34;ä½¿ç”¨äº‘æ•°æ®åº“çš„ä¸‰ä¸ªå¥½å¤„&#34;&gt;ä½¿ç”¨äº‘æ•°æ®åº“çš„ä¸‰ä¸ªå¥½å¤„ï¼š&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;æŒ‰éœ€ä»˜è´¹å¯ä»¥ä½¿å¾—ç”¨æˆ·å‡å°å¼€æ”¯ã€‚&lt;/li&gt;
&lt;li&gt;æ›´é«˜çš„èµ„æºå¼¹æ€§å¯ä»¥åº”å¯¹çŸ­æš‚çš„èµ„æºä½¿ç”¨é«˜å³°æœŸã€‚&lt;/li&gt;
&lt;li&gt;æ›´å¿«çš„å‡çº§ä¸æ›´å¿«çš„é”™è¯¯ä¿®å¤ã€‚å¿«é€Ÿçš„å‡çº§è¿­ä»£å¯ä»¥ä¿è¯äº§å“ç«äº‰åŠ›ï¼Œé”™è¯¯ä¿®å¤å¯ä»¥åœ¨ä¸å½±å“äº§å“å¯ç”¨æ€§çš„å‰æä¸‹è¿›è¡Œã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ç»å…¸çš„äº‘æ•°æ®åº“çš„æ¶æ„&#34;&gt;ç»å…¸çš„äº‘æ•°æ®åº“çš„æ¶æ„&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;monolithic machine ç‹¬å—çš„æœºå™¨
&lt;ul&gt;
&lt;li&gt;ç‰¹ç‚¹ï¼šæ‰€æœ‰çš„èµ„æºéƒ½æ˜¯ç´§è€¦åˆçš„&lt;/li&gt;
&lt;li&gt;é—®é¢˜ï¼š
&lt;ul&gt;
&lt;li&gt;åœ¨è¿›è¡Œæ•°æ®åº“å®ä¾‹åˆ°æœºå™¨çš„åˆ†å‘è¿‡ç¨‹ä¸­è¦è§£å†³ä¸€ä¸ªè£…ç®±é—®é¢˜&lt;/li&gt;
&lt;li&gt;æ€»æ˜¯æœ‰ç¢ç‰‡åŒ–çš„èµ„æºï¼Œéš¾ä»¥è¾¾åˆ°é«˜çš„ä½¿ç”¨ç‡&lt;/li&gt;
&lt;li&gt;è¿è¡Œæ—¶ä¸èƒ½æ ¹æ®è´Ÿè½½è°ƒæ•´èµ„æº&lt;/li&gt;
&lt;li&gt;èµ„æºé—´çš„å‘½è¿å…±äº«ï¼Œä¸€ä¸ªèµ„æºçš„æ•…éšœä¼šå¯¼è‡´å…¶ä»–èµ„æºçš„æ•…éšœï¼Œä¸èƒ½ç‹¬ç«‹é€æ˜åœ°ä¿®å¤æ•…éšœï¼Œå¯¼è‡´ä¿®å¤æ—¶é—´å¾ˆé•¿&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å­˜ç®—åˆ†ç¦»çš„æ¶æ„ï¼š
&lt;ul&gt;
&lt;li&gt;ä¸¤ç§ï¼š
&lt;ul&gt;
&lt;li&gt;virtual machine with remote disk æ­è½½è¿œç¨‹ç¡¬ç›˜çš„è™šæ‹Ÿæœº&lt;/li&gt;
&lt;li&gt;shared storage å…±äº«å­˜å‚¨&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ä¼˜ç‚¹
&lt;ul&gt;
&lt;li&gt;DBaaSå¯ä»¥æé«˜å­˜å‚¨æ± çš„ä½¿ç”¨ç‡&lt;/li&gt;
&lt;li&gt;å…±äº«å­˜å‚¨å¯ä»¥è¿›ä¸€æ­¥å‡å°‘æˆæœ¬ï¼šåŸæ•°æ®ä¸åªè¯»å¤‡ä»½å¯ä»¥å…±äº«å­˜å‚¨&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;é—®é¢˜
&lt;ul&gt;
&lt;li&gt;CPUå’Œå†…å­˜çš„è£…ç®±é—®é¢˜ä¾æ—§å­˜åœ¨&lt;/li&gt;
&lt;li&gt;ç¼ºä¹çµæ´»å¯æ”¾ç¼©çš„å†…å­˜èµ„æº&lt;/li&gt;
&lt;li&gt;æ¯ä¸ªåªè¯»å¤‡ä»½åœ¨å†…å­˜ä¸­éƒ½è¦æœ‰å†—ä½™çš„å†…å­˜å¼€é”€&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;æœ¬æ–‡æå‡ºäº†ä¸€ç§æ–°æ¶æ„åˆ†æ•£æ¶æ„disaggragation-architecture&#34;&gt;æœ¬æ–‡æå‡ºäº†ä¸€ç§æ–°æ¶æ„ï¼Œåˆ†æ•£æ¶æ„ï¼ˆdisaggragation architecture)&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¿è¡Œåœ¨åˆ†æ•£çš„æ•°æ®ä¸­å¿ƒï¼ˆDDCï¼‰ï¼ŒCPUã€å†…å­˜å’Œå­˜å‚¨è§£è€¦ï¼Œèµ„æºé—´é€šè¿‡é«˜é€Ÿç½‘ç»œè¿æ¥&lt;/li&gt;
&lt;li&gt;æ•ˆæœ
&lt;ul&gt;
&lt;li&gt;æ¯ä¸€ç§èµ„æºéƒ½å¯ä»¥æé«˜å…¶åˆ©ç”¨ç‡ï¼Œå¯ä»¥ç‹¬ç«‹åœ°æ”¾ç¼©å…¶èµ„æºé‡&lt;/li&gt;
&lt;li&gt;è§£å†³äº†èµ„æºé—´çš„å‘½è¿å…±äº«é—®é¢˜ï¼Œèµ„æºæ•…éšœå¯ä»¥è¢«ç‹¬ç«‹ä¿®å¤&lt;/li&gt;
&lt;li&gt;æ•°æ®é¡µå¯ä»¥åœ¨è¿œç¨‹å†…å­˜æ± ä¸­è¢«å…±äº«ï¼Œæ‰€ä»¥è§£å†³äº†å¤‡ä»½çš„å†…å­˜å†—ä½™é—®é¢˜&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;äº‘åŸç”Ÿæ•°æ®åº“&#34;&gt;äº‘åŸç”Ÿæ•°æ®åº“&lt;/h3&gt;
&lt;p&gt;å¤šæ•°çš„äº‘æ•°æ®åº“æ˜¯åŸºäºå…±äº«å­˜å‚¨çš„æ¶æ„ï¼Œå†…å­˜å’ŒCPUç»‘æˆæœ€å°çš„èµ„æºå•å…ƒï¼Œåªèƒ½æŒ‰ç…§æœ€å°èµ„æºå•å…ƒçš„ç²’åº¦æ¥å¢é•¿å’Œé‡Šæ”¾èµ„æºï¼Œè¿™ä¼šå¸¦æ¥å¾ˆå¤šçš„èµ„æºæµªè´¹ã€‚&lt;/p&gt;
&lt;p&gt;PolarDB Serverlessåˆ™æ˜¯éµå¾ªåˆ†æ•£æ¶æ„çš„ä¸€ä¸ªäº‘åŸç”Ÿæ•°æ®åº“&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å¼•å…¥äº†å¤šç§Ÿæˆ·å¯æ”¾ç¼©çš„å†…å­˜æ± ï¼Œå¯ä»¥è¿›è¡Œå†…å­˜é¡µçš„åˆ†é…ä¸ç”Ÿå‘½å‘¨æœŸç®¡ç†&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;èŠ‚ç‚¹ç»„æˆï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸€ä¸ª RW node(å­˜åŸæ•°æ®é¡µèŠ‚ç‚¹)&lt;/li&gt;
&lt;li&gt;å¤šä¸ª RO nodeï¼ˆå­˜åªè¯»å¤‡ä»½èŠ‚ç‚¹ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é¢ä¸´çš„æŒ‘æˆ˜&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ·»åŠ è¿œç¨‹å†…å­˜ä¹‹åï¼Œç³»ç»Ÿå¯ä»¥æ­£ç¡®åœ°å¤„ç†äº‹åŠ¡
&lt;ul&gt;
&lt;li&gt;å½“å†™åè¯»æ—¶ï¼Œç³»ç»Ÿä¸åº”è¯¥é”™è¿‡ä»»ä½•ä¸€ä¸ªupdateã€‚ä½¿ç”¨ç¼“å­˜å¤±æ•ˆæœºåˆ¶æ¥ä¿è¯å†™åæ‰€æœ‰åœ°èŠ‚ç‚¹ä¼šæ›´æ–°&lt;/li&gt;
&lt;li&gt;åœ¨æ›´æ–°B+æ ‘åœ°ç´¢å¼•çš„æ—¶å€™ï¼Œä½¿ç”¨global latchå…¨å±€é¡µé”æ¥ä¿è¯ROèŠ‚ç‚¹ä¸èƒ½çœ‹åˆ°ä¸ä¸€è‡´çš„ç´¢å¼•ç»“æ„&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨è¯»è§†å›¾æ¥ç¡®ä¿ROèŠ‚ç‚¹ä¸ä¼šè¯»åˆ°æœªæäº¤çš„äº‹åŠ¡&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;é«˜æ•ˆåœ°æ‰§è¡Œäº‹åŠ¡
&lt;ul&gt;
&lt;li&gt;å¹¿æ³›ä½¿ç”¨äº†RDMAæ“ä½œï¼Œå°¤å…¶æ˜¯one-sided RDMA verbs&lt;/li&gt;
&lt;li&gt;ä¸ºäº†æé«˜å¹¶å‘ï¼Œä½¿ç”¨äº†ä¹è§‚é”&lt;/li&gt;
&lt;li&gt;å­˜å‚¨æ–¹é¢ä½¿ç”¨äº†page materialization offloadingæŠ€æœ¯ï¼Œä½¿ç”¨redoæ—¥å¿—ç”Ÿæˆpage&lt;/li&gt;
&lt;li&gt;åˆ©ç”¨äº†é¢„å–æ¥æé«˜æœ¬åœ°å‘½ä¸­ç‡&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ„å»ºå¯ä¿¡ç³»ç»Ÿ
&lt;ul&gt;
&lt;li&gt;å¯¹ä¸åŒçš„èŠ‚ç‚¹éƒ½è®¾è®¡äº†ç­–ç•¥æ¥å¤„ç†å•ç‚¹æ•…éšœ&lt;/li&gt;
&lt;li&gt;å› ä¸ºå†…å­˜å’Œå­˜å‚¨çš„çŠ¶æ€æ˜¯è§£è€¦çš„ï¼Œæ‰€ä»¥ä¿®å¤å´©æºƒçš„é€Ÿåº¦æ¯”ç‹¬å—æ¶æ„è¦å¿«5.3å€&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;èƒŒæ™¯&#34;&gt;èƒŒæ™¯&lt;/h2&gt;
&lt;h3 id=&#34;polardb&#34;&gt;PolarDB&lt;/h3&gt;
&lt;p&gt;PolarDBæ˜¯ä¸€ä¸ªåŸºäºå…±äº«å†…å­˜æ¶æ„äº‘åŸç”Ÿæ•°æ®åº“&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;PolarFSæ˜¯ä¸€ä¸ªæŒä¹…åŒ–çš„åŸå­æ“ä½œçš„å¯ä¼¸ç¼©çš„åˆ†å¸ƒå¼å…±äº«å­˜å‚¨ã€‚æ˜¯ç»Ÿä¸€çš„å­˜å‚¨èµ„æºæ± ï¼Œå…¶æä¾›è™šæ‹Ÿçš„volumeï¼Œæ¯ä¸ªvolumeåˆ’åˆ†ä¸º10GBå¤§å°çš„chunkåˆ†å¸ƒåœ¨ä¸åŒçš„èŠ‚ç‚¹ã€‚æ¯ä¸ªvolumeæœ€å¤š10000ä¸ªchunkï¼Œå³100Tçš„å®¹é‡ã€‚æ¯ä¸ªchunkä¸‰å‰¯æœ¬ï¼Œç”¨parallel raftæä¾›çº¿æ€§ä¸€è‡´æ€§ã€‚&lt;/li&gt;
&lt;li&gt;RWå’ŒROèŠ‚ç‚¹ä¹‹é—´é€šè¿‡redoæ—¥å¿—æ¥åŒæ­¥å†…å­˜çŠ¶æ€ï¼Œé€šè¿‡LSNï¼ˆlog sequence numberï¼‰æ¥åè°ƒä¸€è‡´æ€§ã€‚RWå’ŒROèŠ‚ç‚¹ä¸Šæœ‰è´Ÿè´£å¤„ç†SQLè¯­å¥çš„å¤„ç†å™¨å’Œäº‹åŠ¡å¼•æ“ï¼ˆInnoDBï¼ŒX-Engineï¼‰ï¼Œä»¥åŠä¸€ä¸ªç¼“å­˜æ± æ¥æœåŠ¡æŸ¥è¯¢ä¸äº‹åŠ¡ã€‚&lt;/li&gt;
&lt;li&gt;æœ‰å¤šä¸ªæ— çŠ¶æ€çš„ä»£ç†èŠ‚ç‚¹è´Ÿè´£é€æ˜çš„è´Ÿè½½å‡è¡¡&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/image-20211222201006368.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/image-20211222201006368.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			alt=&#34;image-20211222201006368&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;image-20211222201006368&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&#34;åˆ†æ•£åŒ–çš„æ•°æ®ä¸­å¿ƒddc&#34;&gt;åˆ†æ•£åŒ–çš„æ•°æ®ä¸­å¿ƒDDC&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;è¿æ¥æŠ€æœ¯&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;åœ¨åˆ†æ•£åŒ–çš„æ•°æ®ä¸­å¿ƒï¼Œè®¡ç®—èŠ‚ç‚¹ã€å†…å­˜ç»“ç‚¹ä»¥åŠå­˜å‚¨èŠ‚ç‚¹éƒ½æ˜¯ç”±é«˜é€Ÿç½‘ç»œè¿æ¥ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;RDMAï¼ˆRemote Direct Memory Accessï¼‰æŠ€æœ¯ç»™å¤§å‹çš„DDCå¸¦æ¥äº†å¯èƒ½&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å±‚çº§ç»“æ„&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åˆ†ä¸ºä¸‰å±‚ï¼šspine layerã€leaf layerã€ToR layer&lt;/li&gt;
&lt;li&gt;æ¯ä¸€ä¸ªToRèŠ‚ç‚¹é“¾æ¥48å°ä¸»æœºï¼ŒToRçš„äº¤æ¢æœºåˆ†åˆ«è¿æ¥LeafèŠ‚ç‚¹çš„äº¤æ¢æœºï¼Œç„¶åLeafçš„äº¤æ¢æœºåˆå»é“¾æ¥Spineå±‚çš„äº¤æ¢æœºã€‚&lt;/li&gt;
&lt;li&gt;æ¯å°ä¸»æœºéƒ½ä¼šé…æœ‰åŒç«¯å£çš„RDMAç½‘å¡ï¼Œç”¨äºé“¾æ¥ä¸¤ä¸ªToRèŠ‚ç‚¹æ¥é¿å…å•ç‚¹æ•…éšœã€‚&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ªleaf äº¤æ¢æœºç»„åŒ…å«äº’ä¸ºå¤‡ä»½çš„åŒæ—¶å·¥ä½œçš„å¤šä¸ªleafäº¤æ¢æœº&lt;/li&gt;
&lt;li&gt;ç”±ä¸€ä¸ªleafäº¤æ¢æœºç»„ç®¡ç†æ§åˆ¶çš„æ‰€æœ‰çš„äº¤æ¢æœºä¸æœåŠ¡å™¨ç§°ä¸ºä¸€ä¸ªPoDï¼ˆPoint of Deliveryï¼‰ã€‚ä¸€ä¸ªPoDæœ€å¤šæœ‰32ä¸ªleafäº¤æ¢æœºã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;èµ„æºéƒ¨ç½²æ–¹å¼&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å•ä¸ªæ•°æ®åº“å®ä¾‹æ‰€éœ€çš„å†…å­˜å’Œå­˜å‚¨ä¼šéƒ¨ç½²åœ¨ä¸€ä¸ªPoDä¸‹&lt;/li&gt;
&lt;li&gt;ä¸åŒå®ä¾‹éƒ¨ç½²åœ¨ä¸åŒçš„PoDä¸‹&lt;/li&gt;
&lt;li&gt;è®¡ç®—å’Œå†…å­˜èµ„æºæ€»æ˜¯å€¾å‘äºéƒ¨ç½²åœ¨åŒä¸€ä¸ªToRä¸‹ï¼Œä»¥è·å¾—æ›´ä½çš„å»¶è¿Ÿä¸æ›´å°‘çš„é¡µæŠ–åŠ¨&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/image-20211222201043429.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/image-20211222201043429.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			alt=&#34;image-20211222201043429&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;image-20211222201043429&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&#34;æ— æœåŠ¡æ•°æ®åº“&#34;&gt;æ— æœåŠ¡æ•°æ®åº“&lt;/h3&gt;
&lt;p&gt;æ— æœåŠ¡æ•°æ®åº“æ˜¯äº‘åŸç”Ÿæ•°æ®åº“çš„é«˜å¼¹æ€§å˜ç§ï¼Œä¸»è¦ç›®çš„æ˜¯ä¸ºäº†å®ç°èµ„æºçš„æŒ‰éœ€åˆ†é…&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è‡ªåŠ¨æ‰©ç¼© auto-scaling
&lt;ul&gt;
&lt;li&gt;ç°å­˜çš„æ— æœåŠ¡æ•°æ®åº“çš„æ‰©ç¼©å®¹å› ä¸ºæ˜¯åŸºäºå…±äº«å­˜å‚¨çš„æ¶æ„ï¼Œæ‰€ä»¥æ‰©ç¼©å®¹å—åˆ°é™åˆ¶ã€‚ç”±äºå†…å­˜å’ŒCPUèµ„æºæ€»æ˜¯æ·±åº¦ç»‘å®šåœ¨ä¸€ä¸ªèµ„æºå•ä½ä¸Šï¼Œæ‰©ç¼©å®¹ä¹Ÿåªèƒ½æŒ‰ç…§èµ„æºå•ä½ä½œä¸ºè°ƒåŠ¨ç²’åº¦ã€‚æ‰€ä»¥CPUå’Œå†…å­˜èµ„æºæ€»æ˜¯ä¸èƒ½å¾—åˆ°å……åˆ†åˆ©ç”¨ã€‚&lt;/li&gt;
&lt;li&gt;åˆ†ææ€§æ•°æ®åº“å¯¹å†…å­˜çš„è¦æ±‚æ¯”è¾ƒé«˜ï¼Œåªéœ€è¦å°‘é‡çš„CPUèµ„æºæ¥å®šæœŸåŒæ­¥æ›´æ–°æ•°æ®&lt;/li&gt;
&lt;li&gt;äº‹åŠ¡æ€§æ•°æ®åº“å°‘é‡çš„å†…å­˜å°±å¯ä»¥ä¿è¯ç¼“å­˜å‘½ä¸­ç‡ï¼Œä½†éœ€è¦æ›´å¤šçš„CPUèµ„æºæ¥åº”å¯¹è®¿é—®çš„é«˜å³°æ—¶åˆ»&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;è‡ªåŠ¨æš‚åœ auto-pause
&lt;ul&gt;
&lt;li&gt;ç°å­˜çš„æ— æœåŠ¡æ•°æ®åº“çš„è‡ªåŠ¨æš‚åœä¹Ÿæ˜¯å—é™çš„ï¼ŒCPUå’Œå†…å­˜èµ„æºå¿…é¡»è¢«åŒæ—¶é‡Šæ”¾&lt;/li&gt;
&lt;li&gt;åœ¨åˆ†æ•£å¼æ¶æ„ä¸‹ï¼ŒCPUå’Œå†…å­˜ä¸å†å…±äº«å‘½è¿ã€‚ä¸šåŠ¡ä½å³°æœŸï¼Œå†…å­˜å¯ä»¥ä¸å¿…é‡Šæ”¾ï¼Œé¿å…äº†é‡æ–°åŠ è½½ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ‰©å®¹é€æ˜æ€§ scaling transparency
&lt;ul&gt;
&lt;li&gt;é€æ˜æ€§å³åœ¨æ‰©ç¼©å®¹çš„æ—¶å€™éœ€è¦ä¿è¯å®¢æˆ·çš„åœºæ™¯ä¸èƒ½ä¸­æ–­æˆ–è€…æ€§èƒ½å‡ºç°ä¸¥é‡å½±å“&lt;/li&gt;
&lt;li&gt;åˆ†æ•£å¼æ¶æ„ä¸‹ï¼Œä¸­é—´ä¸´æ—¶çŠ¶æ€å¦‚è„é¡µã€äº‹åŠ¡çŠ¶æ€å¦‚ç‰ˆæœ¬ä¿¡æ¯timestampã€é€»è¾‘é”ã€queryä¸­é—´ç»“æœéƒ½å¯ä»¥ä¿å­˜åœ¨å…±äº«å†…å­˜å±‚ï¼Œç»™å®ç°æ‰©ç¼©å®¹çš„é€æ˜æ€§æä¾›äº†æ›´å¥½çš„æ¡ä»¶ã€‚&lt;/li&gt;
&lt;li&gt;PolarDB Serverless ç›®å‰å°†è„é¡µå­˜åœ¨å…±äº«å†…å­˜é‡Œï¼Œå…¶ä»–çš„ä¸´æ—¶çŠ¶æ€æœŸå¾…åç»­çš„å·¥ä½œã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;è®¾è®¡&#34;&gt;è®¾è®¡&lt;/h2&gt;
&lt;p&gt;PolarDB Serverless åŸºäºPolarDBå¼€å‘çš„åˆ†æ•£å¼æ¶æ„çš„äº‘åŸç”Ÿæ•°æ®åº“ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç»„æˆï¼šå¤šä¸ªä»£ç†èŠ‚ç‚¹ï¼Œä¸€ä¸ªRWèŠ‚ç‚¹ï¼Œå¤šä¸ªROèŠ‚ç‚¹&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨PolarFSæ¥åšå…±äº«å­˜å‚¨&lt;/li&gt;
&lt;li&gt;å’ŒPolarDBçš„æœ€å¤§ä¸åŒåœ¨äºä½¿ç”¨äº†è¿œç¨‹å†…å­˜æ± ï¼ˆå…±äº«å†…å­˜ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä½¿ç”¨å…±äº«å†…å­˜&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¥½å¤„
&lt;ul&gt;
&lt;li&gt;RWå’ŒROå…±ç”¨æ•°æ®é¡µï¼Œçœå»äº†æ¯ä¸ªèŠ‚ç‚¹è‡ªå·±ä¿å­˜å‰¯æœ¬ï¼Œæé«˜äº†å†…å­˜çš„ä½¿ç”¨æ•ˆç‡&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;åå¤„ï¼ˆperformance penaltyï¼‰
&lt;ul&gt;
&lt;li&gt;è¿œç¨‹å†…å­˜çš„è®¿é—®é€Ÿåº¦è¿œè¿œä½äºæœ¬åœ°å†…å­˜ï¼›è§£å†³æ–¹æ¡ˆï¼šåˆ†å±‚å†…å­˜ç³»ç»Ÿå’Œé¢„å–æŠ€æœ¯&lt;/li&gt;
&lt;li&gt;ç§æœ‰æ•°æ®æ”¾åœ¨å…¬å…±èµ„æºä¸Šï¼Œéœ€è¦æœ‰è·¨èŠ‚ç‚¹çš„äº’æ–¥ä¿æŠ¤ï¼›è§£å†³æ–¹æ¡ˆï¼šå¹¿æ³›ä½¿ç”¨å•è¾¹çš„RDMAè°“è¯å’Œä¹è§‚åè®®æ¥é¿å…ä½¿ç”¨å…¨å±€é”ï¼ˆglobal latchï¼‰&lt;/li&gt;
&lt;li&gt;é¡µçš„ä¼ è¾“å’Œç½‘ç»œå¸¦æ¥äº†è´Ÿæ‹…ã€‚è§£å†³æ–¹æ¡ˆï¼šå…ˆå°†redo logå†™åˆ°å­˜å‚¨å±‚ï¼Œå†å¼‚æ­¥åœ°é€šè¿‡æ—¥å¿—å°†é¡µç‰©è´¨åŒ–&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;åˆ†æ•£åŒ–å†…å­˜&#34;&gt;åˆ†æ•£åŒ–å†…å­˜&lt;/h3&gt;
&lt;h4 id=&#34;è¿œç¨‹å†…å­˜è®¿é—®æ¥å£&#34;&gt;è¿œç¨‹å†…å­˜è®¿é—®æ¥å£&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;page_register&lt;/strong&gt;: é¡µçš„å¼•ç”¨è®¡æ•°å¢ä¸€&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;page_unregister&lt;/strong&gt;: é¡µçš„å¼•ç”¨è®¡æ•°å‡ä¸€&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;page_read&lt;/strong&gt;: ä½¿ç”¨å•è¾¹RDMAè°“è¯å°†é¡µä»è¿œç¨‹å†…å­˜è¯»å–åˆ°æœ¬åœ°&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;page_write&lt;/strong&gt;: ä½¿ç”¨å•è¾¹RDMAè°“è¯å°†é¡µä»æœ¬åœ°å†™åˆ°è¿œç¨‹å†…å­˜&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;page_invalidation&lt;/strong&gt;: ä½¿æ‰€æœ‰ROèŠ‚ç‚¹çš„æœ¬åœ°çš„å†…å­˜å‰¯æœ¬å¤±æ•ˆ&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;è¿œç¨‹å†…å­˜ç®¡ç†&#34;&gt;è¿œç¨‹å†…å­˜ç®¡ç†&lt;/h4&gt;
&lt;p&gt;å†…å­˜çš„åˆ†é…å•å…ƒæ˜¯ä¸€ä¸ªslabï¼Œä¸€ä¸ªslabçš„å¤§å°æ˜¯1GB&lt;/p&gt;
&lt;p&gt;å‡ ç§æ•°æ®ç»“æ„å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Page Arrayï¼ˆPAï¼‰&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;æ¯ä¸€ä¸ªslabç”±é¡µæ•°ç»„ç»„æˆï¼Œé¡µæ•°ç»„æ˜¯ç‰©ç†åœ°å€è¿ç»­çš„ç”±16KBçš„é¡µç»„æˆçš„æ•°ç»„ã€‚&lt;/li&gt;
&lt;li&gt;PAçš„åœ°å€ä¼šæ³¨å†Œåˆ°RDMAçš„ç½‘å¡ä¸Šï¼Œæ‰€ä»¥å¯ä»¥è¢«RDMAè¿œç¨‹è®¿é—®&lt;/li&gt;
&lt;li&gt;è´Ÿè´£æä¾›slabè®¿é—®çš„èŠ‚ç‚¹ä¹Ÿå«slab nodeï¼Œç¬¬ä¸€ä¸ªslab node ä¹Ÿå«home node&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Page Address Tableï¼ˆPATï¼‰&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;ä¸€ä¸ªå“ˆå¸Œè¡¨ï¼Œå­˜å‚¨æ¯ä¸€é¡µçš„ä½ç½®ï¼ˆslab id ä¸ç‰©ç†åœ°å€ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Page Invalidation Bitmap (PIB)&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;ä¸€ä¸ªä½å›¾ï¼Œå¯¹åº”PATçš„æ¯ä¸€é¡¹è®°å½•invalidation bitï¼Œ0è¡¨ç¤ºå†…å­˜ä¸­çš„æ˜¯æœ€æ–°ç‰ˆæœ¬ï¼Œ1è¡¨ç¤ºä¸æ˜¯æœ€æ–°ç‰ˆæœ¬&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Page Reference Directory(PRD)&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;ä¸€ä¸ªmapï¼Œå¯¹åº”äºæ¯ä¸ªPATé¡¹ï¼Œè®°å½•å¼•ç”¨äº†è¿™ä¸ªé¡µçš„èŠ‚ç‚¹&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Page Latch Table(PLT)&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;å¯¹äºPATä¸­çš„æ¯ä¸€é¡¹ï¼Œç®¡ç†å…¶é¡µé”ï¼ˆpage latchï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;æ˜¯ä¸€ä¸ªå…¨å±€çš„ç‰©ç†é”ï¼Œç”¨äºå¤šä¸ªæ•°æ®åº“èŠ‚ç‚¹ä¹‹é—´è¿›è¡Œä¿æŠ¤ä¸åŒæ­¥è¯»å†™&lt;/li&gt;
&lt;li&gt;å°¤å…¶ç”¨äºä¿æŠ¤B+æ ‘çš„ç»“æ„ä¸€è‡´æ€§&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;pageåˆ†é…è¿‡ç¨‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ•°æ®åº“å‘home node å‘é€page registerè¯·æ±‚&lt;/li&gt;
&lt;li&gt;å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™éå†slabæ‰¾åˆ°æœ‰ç©ºé—²çš„slabï¼Œå¦‚æœéƒ½æ²¡æœ‰ç©ºé—²åˆ™ä½¿ç”¨LRUç®—æ³•æ·˜æ±°æ‰ä¸€äº›page&lt;/li&gt;
&lt;li&gt;å†™å…¥åï¼Œå°†pageçš„ä¸ºä½ç½®ä¿¡æ¯å†™å…¥åˆ°PATï¼Œè¿”å›pageçš„è¿œç¨‹åœ°å€å’Œpage latch&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ‰©ç¼©å®¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ‰©å®¹ï¼šhome node è¯·æ±‚DBaaSåˆ†é…æ–°çš„slabï¼Œæ‰©å±•buffer poolï¼ŒPATï¼ŒPIBå’ŒPRD&lt;/li&gt;
&lt;li&gt;ç¼©å®¹ï¼špageé€šè¿‡LRUè¿›è¡Œæ·˜æ±°ï¼Œæ— ç”¨çš„slabå°†è¢«å›æ”¶&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;æœ¬åœ°ç¼“å­˜&#34;&gt;æœ¬åœ°ç¼“å­˜&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;ä»¥pageä¸ºå•ä½å°†è¿œç¨‹å†…å­˜ç¼“å­˜åˆ°æœ¬åœ°&lt;/li&gt;
&lt;li&gt;å¦‚æœpageä¸åœ¨è¿œç¨‹å†…å­˜ä¸Šï¼Œè¿›ç¨‹ä¼šä»Polar FSè¯»å–å†…å®¹åˆ°æœ¬åœ°ç¼“å­˜ï¼Œç„¶åå†å†™å›åˆ°è¿œç¨‹å†…å­˜ã€‚ï¼ˆå­˜å‚¨å’Œå†…å­˜ä¸å‘ç”Ÿç›´æ¥æ¥è§¦ï¼‰&lt;/li&gt;
&lt;li&gt;ä¸æ˜¯æ‰€æœ‰çš„pageéƒ½è¦å†™å…¥è¿œç¨‹å†…å­˜ï¼Œä¾‹å¦‚å…¨è¡¨æ‰«æï¼Œè¿™äº›pageä¸å¤ªä¼šå†æ¬¡è®¿é—®&lt;/li&gt;
&lt;li&gt;æœ¬åœ°å‘ç”Ÿmissï¼Œè¿›ç¨‹è¦ç­‰å¾…è¯»å–è¿œç¨‹å†…å­˜ï¼ˆå¯ä»¥åˆ©ç”¨é¢„å–æŠ€æœ¯ï¼‰&lt;/li&gt;
&lt;li&gt;æœ¬åœ°çš„ç¼“å­˜å†™æ»¡åä½¿ç”¨LRUç®—æ³•è¿›è¡Œæ·˜æ±°ã€‚å¦‚æœpageæ²¡æœ‰ä¿®æ”¹è¿‡å¯ä»¥ç›´æ¥é‡Šæ”¾ã€‚å¦‚æœpageä¿®æ”¹è¿‡ï¼Œé‚£å°±å†™å›åå†é‡Šæ”¾ã€‚å¼•ç”¨è®¡æ•°å‡ä¸€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;ç¼“å­˜ä¸€è‡´æ€§&#34;&gt;ç¼“å­˜ä¸€è‡´æ€§&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;ROèŠ‚ç‚¹ä¸èƒ½ç›´æ¥è®¿é—®RWèŠ‚ç‚¹çš„æœ¬åœ°ç¼“å­˜ï¼Œåªèƒ½é€šè¿‡è·å–æœ€æ–°çš„redo logæ¥åœ¨æœ¬åœ°ç‰©è´¨åŒ–pageæ¥è·å–æœ€æ–°çš„æ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœRWèŠ‚ç‚¹å°†ä¿®æ”¹è¿‡çš„æ•°æ®å†™å›è¿œç¨‹å†…å­˜åï¼ŒROèŠ‚ç‚¹è‡ªç„¶æ˜¯ä¸éœ€è¦è¯»å–redo logï¼Œå¯æ˜¯ç³»ç»Ÿå¦‚æœæ¯æ¬¡ä¿®æ”¹éƒ½è¦ç«‹åˆ»å†™å›ï¼Œç½‘ç»œå¼€é”€ä¼šå¾ˆå¤§ã€‚æ‰€ä»¥RWèŠ‚ç‚¹ä¸ä¼šç«‹åˆ»å†™å›ï¼Œè€Œæ˜¯ä½¿ç”¨äº†é¡µå¤±æ•ˆçš„æ–¹æ³•ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/image-20211225120332727.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/image-20211225120332727.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			alt=&#34;image-20211225120332727&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;image-20211225120332727&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å…·ä½“è¿‡ç¨‹å¦‚ä¸‹ï¼š
&lt;ol&gt;
&lt;li&gt;RWä¿®æ”¹pageåï¼Œè°ƒç”¨page_invalidation&lt;/li&gt;
&lt;li&gt;å‘é€è¯·æ±‚åˆ°home node&lt;/li&gt;
&lt;li&gt;PIBä¸­å¯¹åº”é¡µé¡¹è®¾ç½®ä¸º1&lt;/li&gt;
&lt;li&gt;æŸ¥è¯¢PRDï¼ŒæŸ¥çœ‹pageåœ¨å“ªäº›ROèŠ‚ç‚¹ä¸Šå­˜åœ¨&lt;/li&gt;
&lt;li&gt;å‘æ‰€æœ‰çš„å­˜åœ¨è¿™ä¸ªpageçš„ROå‘é€è¯·æ±‚ï¼Œå°†PIBè®¾ç½®ä¸º1&lt;/li&gt;
&lt;li&gt;è®¾ç½®PIBè¿‡æœŸæ˜¯ä¸€ä¸ªåŒæ­¥é˜»å¡æ“ä½œ&lt;/li&gt;
&lt;li&gt;åªæœ‰å…¨éƒ¨çš„ROèŠ‚ç‚¹è®¾ç½®æˆåŠŸæ‰è¿”å›æˆåŠŸ&lt;/li&gt;
&lt;li&gt;å¦‚æœæœ‰ä¸ªROèŠ‚ç‚¹è¶…æ—¶ï¼Œé‚£ä¹ˆå°±æŠŠä»–è¸¢å‡ºé›†ç¾¤æ¥ä¿è¯è¯¥æ“ä½œæˆåŠŸ&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;åœ¨å†™å›åˆ°Polar FSï¼ˆè¿œç¨‹å­˜å‚¨ï¼‰çš„æ—¶å€™ï¼ŒåŒæ ·ä¼šä½¿ç”¨page_invalidæ¥ä¿è¯è¿œç¨‹å†…å­˜ä¸­ä¸ä¼šå­˜åœ¨æ¯”è¿œç¨‹å­˜å‚¨ä¸­æ›´è€ç‰ˆæœ¬çš„æ•°æ®ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;bæ ‘ç»“æ„ä¸€è‡´æ€§&#34;&gt;B+æ ‘ç»“æ„ä¸€è‡´æ€§&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ç‰©ç†ä¸€è‡´æ€§&lt;/p&gt;
&lt;p&gt;é—®é¢˜æ˜¯ï¼šå¤šçº¿ç¨‹è®¿é—®B+æ ‘çš„Indexçš„æ—¶å€™å¦‚ä½•åšåˆ°å¹¶å‘æ§åˆ¶&lt;/p&gt;
&lt;p&gt;è§£å†³æ–¹æ¡ˆï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;åªæœ‰RWèŠ‚ç‚¹å¯ä»¥ä¿®æ”¹pageï¼Œæ‰€ä»¥ä¸éœ€è¦ç®¡ç†å¤šèŠ‚ç‚¹çš„å†™å†²çªã€‚ä½†æ˜¯SMOï¼ˆç»“æ„ä¿®æ”¹æ“ä½œï¼‰ä¼šåŒæ—¶ä¿®æ”¹å¤šä¸ªpageï¼Œå…¶ä»–èŠ‚ç‚¹åœ¨éå†B+æ ‘çš„æ—¶å€™ï¼Œä¸åŒçš„ROèŠ‚ç‚¹å¯èƒ½çœ‹åˆ°ä¸ä¸€è‡´çš„ç‰©ç†B+æ ‘ç»“æ„ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æˆ‘ä»¬ä½¿ç”¨å…¨å±€é¡µé”æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½¿ç”¨å…±äº«é”ï¼ˆSï¼‰å’Œæ’ä»–é”ï¼ˆXï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;åŒºåˆ«äºæœ¬åœ°é¡µé”ï¼Œå…¨å±€é¡µé”ç”¨äºä¿è¯å¤šèŠ‚ç‚¹ä¸‹çš„B+æ ‘ç´¢å¼•ç»“æ„ä¸€è‡´æ€§ã€‚ä½¿ç”¨crabbhing/lock couplingç®—æ³•å®ç°&lt;/li&gt;
&lt;li&gt;æ‰€æœ‰å‚ä¸SMOçš„èŠ‚ç‚¹ä¼šåŠ ä¸ŠXé”ï¼Œç›´åˆ°SMOç»“æŸã€‚ROèŠ‚ç‚¹è¯»å–çš„æ—¶å€™è¦æ£€æŸ¥PLTï¼ŒæŸ¥çœ‹æ˜¯å¦æœ‰Xé”ï¼Œå¹¶ä¸”å‘è¢«è¯»çš„é¡µä¸ŠåŠ Sé”ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¯¹äºRWèŠ‚ç‚¹è¦è¿›è¡Œçš„insertå’Œdeleteæ“ä½œï¼Œæˆ‘ä»¬é‡‡å–ä¸¤é˜¶æ®µåšæ³•&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é‡‡ç”¨ä¹è§‚å¹¶å‘æ§åˆ¶ï¼Œå‡è®¾æ²¡æœ‰SMOæ“ä½œï¼Œé‚£å°±åªéœ€è¦æœ¬åœ°çš„é”æ¥ä½œå•èŠ‚ç‚¹å¹¶å‘æ§åˆ¶ã€‚å¦‚æœç¡®å®ä¸éœ€è¦è¿›è¡ŒSMOï¼Œé‚£å°±é¡ºåˆ©æ’å…¥æˆ–è€…åˆ é™¤ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœå‘ç°B+æ ‘çš„å¶å­èŠ‚ç‚¹ç›¸å¯¹ç©ºæˆ–è€…ç›¸å¯¹æ»¡ï¼Œå³å¾ˆæœ‰å¯èƒ½è¦å‘ç”ŸSMOæ“ä½œï¼Œå°±å¯ç”¨æ‚²è§‚ç­–ç•¥ï¼Œè¿™æ—¶å€™ä¼šå¯¹æ‰€æœ‰å¯èƒ½å‚ä¸SMOçš„pageåŠ ä¸ŠXé”ï¼Œç›´åˆ°SMOç»“æŸé‡Šæ”¾é”ã€‚è¿™æ ·é”çš„æ’åºå¯ä»¥ä¿è¯ROèŠ‚ç‚¹åªèƒ½çœ‹åˆ°SMOä¹‹å‰æˆ–è€…ä¹‹åçš„æ ‘ç»“æ„ï¼Œè€Œä¸ä¼šæ˜¯SMOçš„ä¸­é—´çŠ¶æ€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é€»è¾‘ä¸€è‡´æ€§&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç›¸åŒçš„æ•°æ®å¯èƒ½ä¼šæœ‰å¤šä¸ªäº‹åŠ¡è¿›è¡Œå¹¶å‘å¤„ç†ï¼Œå¦‚ä½•ä¿è¯æ»¡è¶³ä¸åŒçš„å¿«ç…§éš”ç¦»çº§åˆ«ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;å¿«ç…§éš”ç¦»&#34;&gt;å¿«ç…§éš”ç¦»&lt;/h3&gt;
&lt;p&gt;PolarDB Serverless æä¾›åŸºäºMVCCçš„å¿«ç…§éš”ç¦»ã€‚äº‹åŠ¡çš„å®ç°æœºåˆ¶ï¼Œæ˜¯ç”±å¿«ç…§çš„æ—¶é—´æˆ³æ¥æ§åˆ¶äº‹åŠ¡èƒ½çœ‹åˆ°æ•°æ®çš„ç‰ˆæœ¬ä¿¡æ¯ã€‚RWèŠ‚ç‚¹ä¼šç»´æŠ¤ä¸€ä¸ªä¸­å¿ƒåŒ–çš„çš„æ—¶é—´æˆ³å«CTSï¼Œæ¥ä¸ºæ‰€æœ‰æ•°æ®åº“èŠ‚ç‚¹åˆ†é…å…¨å±€å•è°ƒé€’å¢çš„æ—¶é—´æˆ³ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€æ¬¡è¯»å†™äº‹åŠ¡éœ€è¦è·å–ä¸¤æ¬¡æ—¶é—´æˆ³ï¼ˆcts_readå’Œcts_commitï¼‰ï¼›æäº¤äº‹åŠ¡çš„æ—¶å€™æ‰€æœ‰è®°å½•å’Œundo logä¸­çš„è®°å½•éƒ½éœ€è¦é¢å¤–ç»´æŠ¤ä¸€ä¸ªåˆ—æ¥ä¿å­˜cts_commit;ä¸€ä¸ªè¯»å†™äº‹åŠ¡å†…çš„readæ€»ä¼šè¿”å›ä¸€ä¸ªcts_commitæ¯”cts_readè¦å°çš„è®°å½•;æ¯ä¸ªè®°å½•éƒ½ä¼šæœ‰ä¸€ä¸ªäº‹åŠ¡idå­—æ®µæ¥è®°å½•ä¿®æ”¹è¯¥è®°å½•çš„äº‹åŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ªåªè¯»äº‹åŠ¡åˆ™åªéœ€è¦åœ¨äº‹åŠ¡å¼€å§‹çš„æ—¶å€™è·å–cts_readæ—¶é—´æˆ³å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯å¯¹äºä¸€äº›æ¯”è¾ƒheavyçš„äº‹åŠ¡ï¼Œæ— æ³•è¿…é€Ÿå¯¹æ‰€æœ‰è®°å½•æ›´æ–°cts_commitï¼Œå› ä¸ºè¿™ä¼šåœ¨æäº¤äº‹åŠ¡çš„æ—¶å€™å¸¦æ¥å¤§é‡çš„éšæœºå†™ã€‚å› æ­¤è¿™ä¸ªcts_commitçš„æ›´æ–°æ˜¯å¼‚æ­¥æ‰§è¡Œçš„ã€‚è¿™å°±å¯¼è‡´äº†åœ¨å¹¶å‘äº‹åŠ¡å¤„ç†çš„æ—¶å€™ï¼Œæ— æ³•å¾—çŸ¥è¯¥è®°å½•çš„cts_commitæ˜¯å¦å·²ç»è¢«å†™æˆ–è€…æ˜¯å¦è¦è¢«å†™ï¼Œå³æ— æ³•å¾—çŸ¥å…ˆå‰çš„äº‹åŠ¡æ˜¯å¦å·²ç»å®Œæˆæˆ–è€…è¯¥è®°å½•æ˜¯å¦ä¸å…ˆå‰äº‹åŠ¡æœ‰å…³ã€‚&lt;/p&gt;
&lt;p&gt;è§£å†³æ–¹æ¡ˆï¼šé€šè¿‡æŸ¥è¯¢RWä¸Šçš„CTS Logæ•°æ®ç»“æ„ï¼Œå…¶æ˜¯ä¸€ä¸ªç¯å½¢æ•°ç»„ï¼šè®°å½•ç€æœ€è¿‘è‹¥å¹²ä¸ªçš„è¯»å†™äº‹åŠ¡çš„æäº¤æ—¶é—´æˆ³(cts_commit)ã€‚å¦‚æœå…ˆå‰äº‹åŠ¡æ²¡æœ‰å®Œæˆï¼Œè¿™ä¸ªæ•°ç»„ä¸Šçš„commit timestampå°±ä¼šä¸ºnullï¼Œæ¯å½“ä¸€ä¸ªèŠ‚ç‚¹è¯»å–åˆ°ä¸€ä¸ªcts_commitä¸ºç©ºçš„è®°å½•ï¼Œå°±å¯ä»¥å»æŸ¥è¯¢è¿™ä¸ªå…¨å±€çš„ç¯å½¢æ•°ç»„æ¥å¾—çŸ¥è¿™ä¸ªè®°å½•å¯¹åº”çš„äº‹åŠ¡æ˜¯å¦å·²ç»æäº¤äº†ã€‚&lt;/p&gt;
&lt;p&gt;åŒæ ·è¦å»å…¨å±€æŸ¥è¿™ä¸ªæ—¶é—´æˆ³è¦å¯¹åº”ä¸€æ¬¡network requestï¼Œæœ¬ç³»ç»Ÿè¿˜æ˜¯é‡‡ç”¨RDMA æ¥åŠ é€Ÿç¯å½¢æ•°ç»„çš„è®¿é—®è·å–æ—¶é—´æˆ³çš„è¿‡ç¨‹ï¼ŒRDMA CASæŠ€æœ¯èƒ½å¤ŸåŸå­é€’å¢è·å–æ—¶é—´æˆ³ï¼Œå¹¶ä¸”è¿™ä¸ªæ•°ç»„çš„åœ°å€ä¹Ÿä¼šè¢«æ³¨å†Œåˆ°RDMA çš„ç½‘å¡ä¸Šã€‚å’Œç”¨RPCç›¸æ¯”ï¼Œç›´æ¥èµ°ç½‘å¡ä¸éœ€è¦å ç”¨RWèŠ‚ç‚¹çš„CPUèµ„æºã€‚&lt;/p&gt;
&lt;h3 id=&#34;page-materialization-offloading&#34;&gt;Page Materialization Offloading&lt;/h3&gt;
&lt;p&gt;ä¼ ç»Ÿçš„DBä¼šå‘¨æœŸæ€§çš„å°†è„é¡µå†™å…¥åˆ°æŒä¹…æ€§çš„å­˜å‚¨ä¸­ã€‚Auroraæå‡ºäº†æ—¥å¿—å³æ•°æ®åº“çš„æ¦‚å¿µï¼Œé€šè¿‡ä½¿ç”¨redo logæ¥ç‰©è´¨åŒ–é¡µæ•°æ®æ¥è·å–æœ€æ–°ç‰ˆæœ¬çš„æ•°æ®ã€‚Socratesåœ¨æ­¤åŸºç¡€ä¸Šï¼Œåˆ™åšåˆ°äº†å°†logä¸æ•°æ®åˆ†ç¦»å­˜å‚¨ã€‚&lt;/p&gt;
&lt;p&gt;PolarrDB Serverlesså’ŒSocratesç±»ä¼¼ï¼Œå°†logså’Œpagesåˆ†å¼€å­˜å‚¨åœ¨ä¸åŒçš„chunksä¸­ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;redo logså…ˆå­˜å‚¨åœ¨logs chunksä¸­&lt;/li&gt;
&lt;li&gt;å¼‚æ­¥å‘é€åˆ°page chunks&lt;/li&gt;
&lt;li&gt;ä¸ºäº†PolarFSç»„ä»¶çš„é‡ç”¨å’Œæœ€å°åŒ–æ›´æ”¹ï¼Œlogsä»…ä»…é€åˆ°leader nodeã€‚&lt;/li&gt;
&lt;li&gt;ç„¶åleader node é‡åšå¹¶ä½¿ç”¨ParallelRaftä¿è¯å‰¯æœ¬çš„ä¸€è‡´æ€§&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;è‡ªåŠ¨æ‰©ç¼©&#34;&gt;è‡ªåŠ¨æ‰©ç¼©&lt;/h3&gt;
&lt;p&gt;åœ¨ç‰ˆæœ¬çš„å‡çº§å’Œé‡å¯è¿‡ç¨‹ä¸­ï¼Œç”¨æˆ·å¯¹ServerlessæœåŠ¡æ˜¯æ— æ„ŸçŸ¥çš„ï¼Œæ–­å¼€è¿æ¥ï¼Œäº‹åŠ¡ä¸­æ–­ï¼Œè¯·æ±‚è¶…æ—¶æ˜¯ä¸å…è®¸çš„ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥åœ¨æœ¬ç³»ç»Ÿä¸­ï¼Œå½“å‘ç”Ÿç‰ˆæœ¬å‡çº§å’Œè·¨èŠ‚ç‚¹è¿ç§»çš„æ—¶å€™ï¼Œä»£ç†èŠ‚ç‚¹è´Ÿè´£ä¿æŒå®¢æˆ·ç«¯è¿æ¥ï¼Œå‘é€è¯·æ±‚åä¼šç­‰å¾…æ—§çš„RWèŠ‚ç‚¹å¤„ç†æ‰æ­£åœ¨è¿›è¡Œçš„äº‹åŠ¡ã€‚ä¹‹åæŠŠå°±èŠ‚ç‚¹çš„è„é¡µflushåˆ°å…±äº«çš„å†…å­˜æ± ä¸­ï¼Œå†å…³é—­å°±RWèŠ‚ç‚¹ã€‚æ–°çš„RWèŠ‚ç‚¹è¿æ¥å†…å­˜æ± ï¼Œé¢„çƒ­ç¼“å­˜ï¼Œé‡åšundo logæ¥æ„å»ºäº‹åŠ¡çš„åˆ—è¡¨ã€‚ä¹‹åä»£ç†èŠ‚ç‚¹å°†è¿æ¥è¿˜ç»™æ–°çš„RWèŠ‚ç‚¹ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ€§èƒ½ä¼˜åŒ–&#34;&gt;æ€§èƒ½ä¼˜åŒ–&lt;/h2&gt;
&lt;p&gt;ä½¿ç”¨åˆ†æ•£å¼æ¶æ„ä¼šå¸¦æ¥æ€§èƒ½çš„æŸå¤±ï¼Œæ‰€ä»¥è¦ä½¿ç”¨ä¸€äº›æ€§èƒ½ä¼˜åŒ–æ‰‹æ®µæ¥è¿›è¡Œä¼˜åŒ–ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä¹è§‚é”&#34;&gt;ä¹è§‚é”&lt;/h3&gt;
&lt;p&gt;ä½¿ç”¨ä¹è§‚é”å¯ä»¥å°½å¯èƒ½é¿å…å¹¶å‘æ“ä½œå¯¹å…¨å±€é”çš„è·å–ï¼Œè¿›è€Œæé«˜å¹¶è¡Œæ•ˆç‡ã€‚&lt;/p&gt;
&lt;p&gt;RWèŠ‚ç‚¹ä¼šç»´æŠ¤ä¸€ä¸ªSMO counterï¼Œæ¯æ¬¡å‘ç”ŸSMOçš„æ—¶å€™counter++ï¼›å¹¶ä¸”æ‰€æœ‰è¢«ä¿®æ”¹çš„Pageä¹Ÿä¼šç»´æŠ¤è¿™ä¸ªæ›´æ–°åçš„counterï¼ˆSMO RWï¼‰&lt;/p&gt;
&lt;p&gt;æ¯æ¬¡queryæ‰§è¡Œçš„æ—¶å€™å»æ‹¿è¿™ä¸ªSMO counterï¼ˆSMO queryï¼‰ï¼Œä¸€æ—¦ROä¸Šçš„queryå‘ç°æŸä¸ªPageçš„SMO counteræ¯”SMO queryè¿˜è¦å¤§ï¼Œè¯´æ˜åœ¨queryæ‰§è¡Œè¿‡ç¨‹ä¸­å‘ç”Ÿäº†SMOã€‚è¿™ä¸ªæ—¶å€™å°±è¦å›æ»šåˆ°æ‚²è§‚å¹¶å‘æ§åˆ¶ï¼Œå³è·å–å…¨å±€PLæ¥é”ä½æ•´ä¸ªB+ Treeçš„SMOæ›´æ–°ã€‚&lt;/p&gt;
&lt;h3 id=&#34;é¢„å–&#34;&gt;é¢„å–&lt;/h3&gt;
&lt;p&gt;åœ¨PolarDB Serverlessä¸­ï¼Œæˆ‘ä»¬æå‡ºäº†æ‰¹å¤„ç†å¯†é’¥é¢„å¤„ç†(BKP)ã€‚BKPä»åˆ†è§£çš„å†…å­˜å’Œå­˜å‚¨ä¸­é¢„å–åŒ…å«æœ‰è¶£çš„å…ƒç»„çš„é¡µé¢ï¼Œä»¥éšè—è¿œç¨‹I/Oå»¶è¿Ÿã€‚BKPçš„æ¥å£æ¥å—ä¸€ç»„è¦é¢„å–çš„å¯†é’¥ã€‚å½“è°ƒç”¨è¯¥æ¥å£æ—¶ï¼Œå¼•æ“å°†å¯åŠ¨ä¸€ä¸ªåå°é¢„å–ä»»åŠ¡ï¼Œä»ç›®æ ‡ç´¢å¼•ä¸­æ£€ç´¢æ‰€éœ€çš„å¯†é’¥ï¼Œå¹¶åœ¨å¿…è¦æ—¶ä»è¿œç¨‹å†…å­˜/å­˜å‚¨ä¸­è·å–ç›¸åº”çš„æ•°æ®é¡µã€‚BKPè¿˜å¯ä»¥ä¼˜åŒ–åˆ†æå·¥ä½œè´Ÿè½½ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å®¹é”™ä¸æ¢å¤ç­–ç•¥&#34;&gt;å®¹é”™ä¸æ¢å¤ç­–ç•¥&lt;/h2&gt;
&lt;h3 id=&#34;æ•°æ®åº“èŠ‚ç‚¹æ¢å¤&#34;&gt;æ•°æ®åº“èŠ‚ç‚¹æ¢å¤&lt;/h3&gt;
&lt;p&gt;æœ¬ç³»ç»Ÿé‡‡ç”¨çš„æ˜¯ARIESçš„æ¢å¤ç®—æ³•ï¼ˆAlgorithm for Recovery and Isolation Exploiting Semantics. ï¼‰&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ROèŠ‚ç‚¹çš„æ¢å¤ï¼šç”±äºé¡µæ•°æ®å†è¿œç¨‹å†…å­˜ä¸Šï¼Œæ‰€ä»¥å¯ä»¥è½»æ¾åœ°ä½¿ç”¨æ–°çš„ROèŠ‚ç‚¹ä»£æ›¿æ—§çš„ROèŠ‚ç‚¹&lt;/li&gt;
&lt;li&gt;RWèŠ‚ç‚¹çš„æ¢å¤
&lt;ul&gt;
&lt;li&gt;æ— é¢„æœŸçš„èŠ‚ç‚¹æ•…éšœ
&lt;ul&gt;
&lt;li&gt;RWèŠ‚ç‚¹æŒ‚æ‰ä¹‹åï¼Œé›†ç¾¤çš„managerï¼ˆCMï¼‰ä¼šé€šè¿‡å¿ƒè·³ä¿¡å·æ¢æµ‹åˆ°ï¼Œç„¶åROèŠ‚ç‚¹å°±å¯ä»¥æ™‹å‡ä¸ºRWèŠ‚ç‚¹ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æœ‰é¢„æœŸçš„èŠ‚ç‚¹æ•…éšœ
&lt;ul&gt;
&lt;li&gt;ä¾‹å¦‚ç‰ˆæœ¬å‡çº§ï¼Œå‰æ–‡å·²ç»è®²è¿‡ï¼Œä¸å†èµ˜è¿°ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;å†…å­˜ç»“ç‚¹æ¢å¤&#34;&gt;å†…å­˜ç»“ç‚¹æ¢å¤&lt;/h3&gt;
&lt;p&gt;å†…å­˜èŠ‚ç‚¹çš„æ•°æ®ç¼“å­˜Pageï¼Œåœ¨æŠŠdirty pageå†™åˆ°å†…å­˜èŠ‚ç‚¹å‰ï¼Œå¯¹åº”çš„redo logå·²ç»flushåˆ°å­˜å‚¨å±‚äº†ï¼Œå› æ­¤å†…å­˜èŠ‚ç‚¹é‡å¯å¯ä»¥ç”¨PolarFSä¸Šçš„redologæ¥è¿›è¡Œæ¢å¤æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;home nodeä¸Šå› ä¸ºåŒ…å«é‡è¦çš„metadataå¦‚PATï¼ŒPIBï¼ŒPRDå’ŒPLTï¼›è¿™äº›æ•°æ®ä¼šåŒæ­¥å¤‡ä»½åœ¨ä»å‰¯æœ¬ï¼›home nodeè´Ÿè´£æ£€æµ‹slab nodeä¸Šçš„æ•…éšœï¼Œç„¶åhome nodeæ ¹æ®PATä¸Šçš„ä¿¡æ¯æ¥é‡å»ºé‡å¯çš„slab nodeå³å¯ã€‚&lt;/p&gt;
&lt;h3 id=&#34;é›†ç¾¤æ¢å¤&#34;&gt;é›†ç¾¤æ¢å¤&lt;/h3&gt;
&lt;p&gt;åœ¨æå°‘æ•°æƒ…å†µä¸‹ï¼Œå½“ä¸»èŠ‚ç‚¹çš„æ‰€æœ‰å‰¯æœ¬éƒ½ä¸å¯ç”¨æ—¶ï¼Œéœ€è¦é€šè¿‡é›†ç¾¤æ¢å¤æ¥æ¢å¤æœåŠ¡ã€‚æ‰€æœ‰æ•°æ®åº“èŠ‚ç‚¹å’Œå†…å­˜èŠ‚ç‚¹å°†ä»æ¸…é™¤çŠ¶æ€é‡æ–°å¯åŠ¨ï¼Œæ‰€æœ‰å†…å­˜çŠ¶æ€å°†ä»å­˜å‚¨é‡æ–°å¯åŠ¨ã€‚åˆå§‹åŒ–åï¼ˆè¿æ¥åˆ°è¿œç¨‹å†…å­˜å’Œå­˜å‚¨å™¨ç­‰ï¼‰ï¼ŒRWèŠ‚ç‚¹æ‰§è¡Œä¹‹å‰æ‰€è¿°çš„å¹¶è¡ŒREDOæ¢å¤ï¼Œç„¶åæ‰«ææ’¤é”€å¤´ä»¥æŸ¥æ‰¾æ‰€æœ‰æœªå®Œæˆçš„äº‹åŠ¡ã€‚ä¹‹åï¼ŒRWèŠ‚ç‚¹å°†å¯åŠ¨æœåŠ¡ï¼Œå¹¶åœ¨åå°å›æ»šæœªæäº¤çš„äº‹åŠ¡ã€‚åœ¨é›†ç¾¤æ¢å¤è¿‡ç¨‹ä¸­ï¼Œç¼“å­˜åœ¨è¿œç¨‹å†…å­˜ä¸­çš„é¡µé¢å°†è¢«æ¸…é™¤ï¼Œå› æ­¤å®ƒå°†å¿å—å†·ç¼“å­˜é—®é¢˜ã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>å¹¶è¡Œä½œä¸š 3</title>
        <link>https://tweakzx.github.io/p/%E5%B9%B6%E8%A1%8C%E4%BD%9C%E4%B8%9A-3/</link>
        <pubDate>Tue, 14 Dec 2021 13:55:35 +0800</pubDate>
        
        <guid>https://tweakzx.github.io/p/%E5%B9%B6%E8%A1%8C%E4%BD%9C%E4%B8%9A-3/</guid>
        <description>&lt;img src="https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fpmob0455c.pic27.websiteonline.cn%2Fupload%2Felinpack3000-1200_dps0.jpg&refer=http%3A%2F%2Fpmob0455c.pic27.websiteonline.cn&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1642054231&t=55c0893a251868314596e23dae76a843" alt="Featured image of post å¹¶è¡Œä½œä¸š 3" /&gt;&lt;h2 id=&#34;1-hplhigh-performance-linpack&#34;&gt;1 HPLï¼ˆHigh Performance Linpack)&lt;/h2&gt;
&lt;p&gt;å‡è®¾è¦ä½¿ç”¨HPLç¨‹åºåœ¨4ä¸ªè¿›ç¨‹ä¸Šè§£ä¸€ä¸ª4096 * 4096çš„æ–¹ç¨‹ç»„ï¼ˆ4096 * 4096çš„çŸ©é˜µåŠ ä¸€åˆ—æ–¹ç¨‹ç»„çš„å³ç«¯é¡¹bï¼‰ï¼ŒæŒ‰ç…§è®²ä¹‰ç¬¬14é¡µæ‰€ç¤ºçš„block-cyclicæ–¹å¼å¯¹æ•°æ®è¿›è¡Œåˆ†é…ï¼ŒNB=512ã€‚4ä¸ªè¿›ç¨‹æŒ‰1 * 4å’Œ4 * 1ä¸¤ç§æ–¹å¼æ’å¸ƒã€‚é‚£ä¹ˆï¼Œåœ¨HPLçš„å›ä»£éƒ¨åˆ†ï¼ˆè®²ä¹‰48åˆ°55é¡µï¼‰ï¼ŒXçš„å„ä¸ªå…ƒç´ åˆ†åˆ«æ˜¯ç”±å“ªäº›è¿›ç¨‹ç®—å‡ºçš„ï¼Ÿä¾‹å¦‚ï¼ŒX[0..512]ç”±è¿›ç¨‹(3, 0)æ±‚å‡ºã€‚å†™å‡ºä¸¤ç§æ’å¸ƒæ–¹å¼ä¸‹Xçš„å„éƒ¨åˆ†åˆ†åˆ«ç”±å“ªäº›è¿›ç¨‹è®¡ç®—å¾—åˆ°ã€‚ï¼ˆ5åˆ†ï¼‰&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;1 * 4 æ’å¸ƒ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/image-20211214170301242.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/image-20211214170301242.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			alt=&#34;image-20211214170301242&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;image-20211214170301242&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;X&lt;/th&gt;
&lt;th&gt;è¿›ç¨‹&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;X[0..511]&lt;/td&gt;
&lt;td&gt;(0,0)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;X[512..1023]&lt;/td&gt;
&lt;td&gt;(0,1)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;X[1024..1535]&lt;/td&gt;
&lt;td&gt;(0,2)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;X[1536..2047]&lt;/td&gt;
&lt;td&gt;(0,3)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;X[2048..2559]&lt;/td&gt;
&lt;td&gt;(0,0)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;X[2560..3071]&lt;/td&gt;
&lt;td&gt;(0,1)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;X[3072..3583]&lt;/td&gt;
&lt;td&gt;(0,2)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;X[3584..4095]&lt;/td&gt;
&lt;td&gt;(0,3)&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;4 * 1 æ’å¸ƒ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/image-20211214170325158.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/image-20211214170325158.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			alt=&#34;image-20211214170325158&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;image-20211214170325158&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;X&lt;/th&gt;
&lt;th&gt;è¿›ç¨‹&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;X[0..511]&lt;/td&gt;
&lt;td&gt;(0,0)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;X[512..1023]&lt;/td&gt;
&lt;td&gt;(0,1)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;X[1024..1535]&lt;/td&gt;
&lt;td&gt;(0,2)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;X[1536..2047]&lt;/td&gt;
&lt;td&gt;(0,3)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;X[2048..2559]&lt;/td&gt;
&lt;td&gt;(0,0)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;X[2560..3071]&lt;/td&gt;
&lt;td&gt;(0,1)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;X[3072..3583]&lt;/td&gt;
&lt;td&gt;(0,2)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;X[3584..4095]&lt;/td&gt;
&lt;td&gt;(0,3)&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
</description>
        </item>
        <item>
        <title>CUDAåŠ é€Ÿè¯¾ç¨‹é¢˜ç›®</title>
        <link>https://tweakzx.github.io/p/cuda%E5%8A%A0%E9%80%9F%E8%AF%BE%E7%A8%8B%E9%A2%98%E7%9B%AE/</link>
        <pubDate>Mon, 13 Dec 2021 19:03:20 +0800</pubDate>
        
        <guid>https://tweakzx.github.io/p/cuda%E5%8A%A0%E9%80%9F%E8%AF%BE%E7%A8%8B%E9%A2%98%E7%9B%AE/</guid>
        <description>&lt;img src="https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/image-20211215144717123.png" alt="Featured image of post CUDAåŠ é€Ÿè¯¾ç¨‹é¢˜ç›®" /&gt;&lt;h2 id=&#34;1-åŠ é€Ÿå‘é‡åŠ æ³•&#34;&gt;1 åŠ é€Ÿå‘é‡åŠ æ³•&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-c++&#34; data-lang=&#34;c++&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;stdio.h&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;assert.h&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;
&lt;span class=&#34;kr&#34;&gt;inline&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;cudaError_t&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;checkCuda&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cudaError_t&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;result&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;result&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;cudaSuccess&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;fprintf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stderr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;CUDA Runtime Error: %s&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;cudaGetErrorString&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;result&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;));&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;assert&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;result&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;cudaSuccess&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
  &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;result&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;initWith&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;float&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;num&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;float&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;N&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;N&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;num&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;__global__&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;addVectorsInto&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;float&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;result&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;float&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;float&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;N&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;initIndex&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;threadIdx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;blockIdx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;blockDim&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;gridStride&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;gridDim&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;blockDim&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
  
  &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;initIndex&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;N&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;gridStride&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;){&lt;/span&gt;
   &lt;span class=&#34;n&#34;&gt;result&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;checkElementsAre&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;float&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;target&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;float&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;array&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;N&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;N&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;array&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;target&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
      &lt;span class=&#34;n&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;FAIL: array[%d] - %0.0f does not equal %0.0f&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;array&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;target&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
      &lt;span class=&#34;n&#34;&gt;exit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
  &lt;span class=&#34;n&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;SUCCESS! All values added correctly.&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;k&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;N&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;20&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;n&#34;&gt;size_t&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;size&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;N&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;sizeof&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;float&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;

  &lt;span class=&#34;kt&#34;&gt;float&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;kt&#34;&gt;float&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;kt&#34;&gt;float&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;

  &lt;span class=&#34;n&#34;&gt;cudaMallocManaged&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
  &lt;span class=&#34;n&#34;&gt;cudaMallocManaged&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
  &lt;span class=&#34;n&#34;&gt;cudaMallocManaged&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;

  &lt;span class=&#34;n&#34;&gt;initWith&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;N&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
  &lt;span class=&#34;n&#34;&gt;initWith&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;N&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
  &lt;span class=&#34;n&#34;&gt;initWith&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;N&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
    
  &lt;span class=&#34;n&#34;&gt;size_t&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;threads_per_block&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1024&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;n&#34;&gt;size_t&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;number_of_blocks&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;N&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;threads_per_block&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;threads_per_block&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    
  &lt;span class=&#34;n&#34;&gt;addVectorsInto&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;32&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1024&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;N&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
  &lt;span class=&#34;c1&#34;&gt;//addVectorsInto&amp;lt;&amp;lt;&amp;lt;number_of_blocks,threads_per_block&amp;gt;&amp;gt;&amp;gt;(c, a, b, N);
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;  
  &lt;span class=&#34;n&#34;&gt;checkCuda&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cudaGetLastError&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;());&lt;/span&gt;
  &lt;span class=&#34;n&#34;&gt;checkCuda&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cudaDeviceSynchronize&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;());&lt;/span&gt;
  &lt;span class=&#34;n&#34;&gt;checkElementsAre&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;7&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;N&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;

  &lt;span class=&#34;n&#34;&gt;cudaFree&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
  &lt;span class=&#34;n&#34;&gt;cudaFree&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
  &lt;span class=&#34;n&#34;&gt;cudaFree&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;2-åŠ é€Ÿsaxpy&#34;&gt;2 åŠ é€ŸSAXPY&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-c++&#34; data-lang=&#34;c++&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;stdio.h&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;assert.h&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;#define N 2048 * 2048 &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// Number of elements in each vector
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;
&lt;span class=&#34;cm&#34;&gt;/*
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * Optimize this already-accelerated codebase. Work iteratively,
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * and use nsys to support your work.
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; *
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * Aim to profile `saxpy` (without modifying `N`) running under
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * 20us.
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; *
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * Some bugs have been placed in this codebase for your edification.
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; */&lt;/span&gt;


&lt;span class=&#34;kr&#34;&gt;inline&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;cudaError_t&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;checkCuda&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cudaError_t&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;result&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;result&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;cudaSuccess&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;fprintf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stderr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;CUDA Runtime Error: %s&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;cudaGetErrorString&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;result&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;));&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;assert&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;result&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;cudaSuccess&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
  &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;result&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;__global__&lt;/span&gt; 
&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;saxpy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;float&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;float&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;float&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;tid&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;blockIdx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;blockDim&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;threadIdx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;stride&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;gridDim&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;blockDim&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    
    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;tid&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;N&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stride&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;){&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tid&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tid&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tid&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;deviceId&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;numberOfSMs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;cudaGetDevice&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;deviceId&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;cudaDeviceGetAttribute&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;numberOfSMs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;cudaDevAttrMultiProcessorCount&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;deviceId&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
    
    
    &lt;span class=&#34;kt&#34;&gt;float&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;size&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;N&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;sizeof&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;float&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// The total number of bytes per vector
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;cudaMallocManaged&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;cudaMallocManaged&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;cudaMallocManaged&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
    
    
    &lt;span class=&#34;c1&#34;&gt;// Initialize memory
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;N&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;2.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;1.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;cudaMemPrefetchAsync&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;deviceId&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;cudaMemPrefetchAsync&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;deviceId&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;cudaMemPrefetchAsync&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;deviceId&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;threads_per_block&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;256&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;number_of_blocks&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;numberOfSMs&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;32&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;saxpy&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;number_of_blocks&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;threads_per_block&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;checkCuda&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cudaGetLastError&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;());&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;checkCuda&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cudaDeviceSynchronize&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;());&lt;/span&gt;
    

    &lt;span class=&#34;c1&#34;&gt;// Print out the first and last 5 values of c for a quality check
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;c[%d] = %f, &amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]);&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;printf&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;N&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;N&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;c[%d] = %f, &amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]);&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;printf&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;


    &lt;span class=&#34;n&#34;&gt;cudaFree&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;);&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;cudaFree&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;b&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;);&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;cudaFree&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;3-n-body&#34;&gt;3 N-body&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-c++&#34; data-lang=&#34;c++&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;math.h&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;stdio.h&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;stdlib.h&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;#34;timer.h&amp;#34;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;#34;files.h&amp;#34;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;
&lt;span class=&#34;cp&#34;&gt;#define SOFTENING 1e-9f
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;
&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;assert.h&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kr&#34;&gt;inline&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;cudaError_t&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;checkCuda&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cudaError_t&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;result&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;result&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;cudaSuccess&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;fprintf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stderr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;CUDA Runtime Error: %s&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;cudaGetErrorString&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;result&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;));&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;assert&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;result&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;cudaSuccess&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
  &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;result&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;cm&#34;&gt;/*
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * Each body contains x, y, and z coordinate positions,
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * as well as velocities in the x, y, and z directions.
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; */&lt;/span&gt;

&lt;span class=&#34;k&#34;&gt;typedef&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;float&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;z&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;vx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;vy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;vz&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Body&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;cm&#34;&gt;/*
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * Calculate the gravitational impact of all bodies in the system
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * on all others.
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; */&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;__global__&lt;/span&gt;
&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;bodyForce&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Body&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;float&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;dt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;index&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;blockIdx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;blockDim&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;threadIdx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;stride&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;gridDim&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;blockDim&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;index&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stride&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;float&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Fx&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.0f&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;float&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Fy&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.0f&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;float&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Fz&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.0f&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;

    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;j&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;j&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
      &lt;span class=&#34;kt&#34;&gt;float&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;dx&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;].&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;].&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
      &lt;span class=&#34;kt&#34;&gt;float&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;dy&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;].&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;y&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;].&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
      &lt;span class=&#34;kt&#34;&gt;float&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;dz&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;].&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;z&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;].&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;z&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
      &lt;span class=&#34;kt&#34;&gt;float&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;distSqr&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;dx&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dx&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;dy&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dy&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;dz&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dz&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;SOFTENING&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
      &lt;span class=&#34;kt&#34;&gt;float&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;invDist&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;rsqrtf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;distSqr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
      &lt;span class=&#34;kt&#34;&gt;float&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;invDist3&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;invDist&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;invDist&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;invDist&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;

      &lt;span class=&#34;n&#34;&gt;Fx&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;dx&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;invDist3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Fy&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;dy&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;invDist3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Fz&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;dz&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;invDist3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;n&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;].&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;vx&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;dt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Fx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;].&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;vy&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;dt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Fy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;].&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;vz&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;dt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Fz&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;


&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;argc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;**&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;argv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;

  &lt;span class=&#34;c1&#34;&gt;// The assessment will test against both 2&amp;lt;11 and 2&amp;lt;15.
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;// Feel free to pass the command line argument 15 when you gernate ./nbody report files
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;  &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nBodies&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;11&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;argc&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nBodies&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;atoi&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;argv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]);&lt;/span&gt;

  &lt;span class=&#34;c1&#34;&gt;// The assessment will pass hidden initialized values to check for correctness.
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;// You should not make changes to these files, or else the assessment will not work.
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;  &lt;span class=&#34;k&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;initialized_values&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;k&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;solution_values&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;

  &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nBodies&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;11&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;initialized_values&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;files/initialized_4096&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;solution_values&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;files/solution_4096&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// nBodies == 2&amp;lt;&amp;lt;15
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;initialized_values&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;files/initialized_65536&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;solution_values&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;files/solution_65536&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

  &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;argc&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;initialized_values&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;argv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
  &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;argc&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;solution_values&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;argv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;

  &lt;span class=&#34;k&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;float&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;dt&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.01f&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// Time step
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;  &lt;span class=&#34;k&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nIters&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;// Simulation iterations
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;
  &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;bytes&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nBodies&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;sizeof&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Body&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
  &lt;span class=&#34;kt&#34;&gt;float&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;buf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;

  &lt;span class=&#34;n&#34;&gt;cudaMallocManaged&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;buf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;bytes&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;

  &lt;span class=&#34;n&#34;&gt;Body&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;p&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Body&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;buf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;

  &lt;span class=&#34;n&#34;&gt;read_values_from_file&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;initialized_values&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;buf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;bytes&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;

  &lt;span class=&#34;kt&#34;&gt;double&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;totalTime&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;

  &lt;span class=&#34;cm&#34;&gt;/*
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;   * This simulation will run for 10 cycles of time, calculating gravitational
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;   * interaction amongst bodies, and adjusting their positions to reflect.
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;   */&lt;/span&gt;

  &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;deviceId&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;numberOfSMs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;n&#34;&gt;cudaGetDevice&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;deviceId&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
  &lt;span class=&#34;n&#34;&gt;cudaDeviceGetAttribute&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;numberOfSMs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;cudaDevAttrMultiProcessorCount&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;deviceId&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
  &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;threads_per_block&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;128&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;number_of_blocks&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;numberOfSMs&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;25&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
  
  &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;iter&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;iter&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nIters&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;iter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;StartTimer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;

  &lt;span class=&#34;cm&#34;&gt;/*
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;   * You will likely wish to refactor the work being done in `bodyForce`,
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;   * and potentially the work to integrate the positions.
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;   */&lt;/span&gt;

    &lt;span class=&#34;n&#34;&gt;bodyForce&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;threads_per_block&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;number_of_blocks&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;dt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nBodies&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// compute interbody forces
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;checkCuda&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cudaGetLastError&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;());&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;checkCuda&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cudaDeviceSynchronize&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;());&lt;/span&gt;
  &lt;span class=&#34;cm&#34;&gt;/*
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;   * This position integration cannot occur until this round of `bodyForce` has completed.
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;   * Also, the next round of `bodyForce` cannot begin until the integration is complete.
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;   */&lt;/span&gt;

    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nBodies&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// integrate position
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;      &lt;span class=&#34;n&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;].&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;].&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;vx&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
      &lt;span class=&#34;n&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;].&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;y&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;].&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;vy&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
      &lt;span class=&#34;n&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;].&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;z&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;].&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;vz&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;k&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;double&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;tElapsed&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;GetTimer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;1000.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;totalTime&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;tElapsed&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

  &lt;span class=&#34;kt&#34;&gt;double&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;avgTime&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;totalTime&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;double&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nIters&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
  &lt;span class=&#34;kt&#34;&gt;float&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;billionsOfOpsPerSecond&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;1e-9&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nBodies&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nBodies&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;avgTime&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;n&#34;&gt;write_values_to_file&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;solution_values&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;buf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;bytes&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;

  &lt;span class=&#34;c1&#34;&gt;// You will likely enjoy watching this value grow as you accelerate the application,
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;// but beware that a failure to correctly synchronize the device might result in
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;// unrealistically high values.
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;%0.3f Billion Interactions / second&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;billionsOfOpsPerSecond&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;

  &lt;span class=&#34;n&#34;&gt;cudaFree&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;buf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;4-è¯ä¹¦&#34;&gt;4 è¯ä¹¦&lt;/h2&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/image-20211215143330246.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/image-20211215143330246.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			alt=&#34;image&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;image&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>å¹¶è¡Œä½œä¸š 2</title>
        <link>https://tweakzx.github.io/p/%E5%B9%B6%E8%A1%8C%E4%BD%9C%E4%B8%9A-2/</link>
        <pubDate>Sat, 11 Dec 2021 18:01:26 +0800</pubDate>
        
        <guid>https://tweakzx.github.io/p/%E5%B9%B6%E8%A1%8C%E4%BD%9C%E4%B8%9A-2/</guid>
        <description>&lt;img src="https://pic1.zhimg.com/v2-f9d2f5486443cc045996753d59f80a7e_1440w.jpg?source=172ae18b" alt="Featured image of post å¹¶è¡Œä½œä¸š 2" /&gt;&lt;h2 id=&#34;1-çŸ©é˜µå‘é‡ä¹˜æ³•6åˆ†&#34;&gt;1 çŸ©é˜µå‘é‡ä¹˜æ³•ï¼ˆ6åˆ†ï¼‰&lt;/h2&gt;
&lt;p&gt;çŸ©é˜µå‘é‡ä¹˜æ³•(gemv)å¦‚ä½•ç”¨OpenMPæˆ–pthreadå¯¹å…¶å¹¶è¡ŒåŒ–(OpenMPå’Œpthreadä»»é€‰ä¸€ç§å³å¯)ï¼Ÿå‡è®¾çŸ©é˜µæŒ‰è¡Œå­˜å‚¨ï¼ˆæ¯ä¸€è¡Œæ•°æ®æ˜¯è¿ç»­çš„ï¼‰ï¼Œå¤„ç†å™¨æœ‰32ä¸ªæ ¸ã€‚å¦‚æœçŸ©é˜µæ˜¯æŒ‰åˆ—å­˜å‚¨å‘¢ï¼Ÿå…·ä½“å®ç°å¦‚ä½•ä¿®æ”¹ï¼Ÿ&lt;/p&gt;
&lt;p&gt;å¯ç”¨è¯­è¨€&lt;strong&gt;è¯¦ç»†&lt;/strong&gt;æè¿°æˆ–å†™å‡ºä¼ªä»£ç &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æŒ‰è¡Œå­˜å‚¨&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-c++&#34; data-lang=&#34;c++&#34;&gt;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;worker1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;row&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;N&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;**&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;A&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;vec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;result&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;){&lt;/span&gt;
  &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;row&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;N&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;32&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;){&lt;/span&gt;
      &lt;span class=&#34;n&#34;&gt;result&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;innerProduct&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;A&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Vec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
  
&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(){&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;...&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;32&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;){&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;data_array&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;].&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;row&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;pthread_create&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;threads&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;NULL&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;worker1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;data_array&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;...&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æŒ‰åˆ—å­˜å‚¨&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-c++&#34; data-lang=&#34;c++&#34;&gt;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;worker2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;column&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;N&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;M&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;**&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;A&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;vec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;result&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;){&lt;/span&gt;
  &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;j&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;column&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;M&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;j&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;32&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;){&lt;/span&gt;
      &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;N&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;){&lt;/span&gt;
          &lt;span class=&#34;n&#34;&gt;result&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;A&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Vec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
      &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
  
&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(){&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;...&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;32&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;){&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;data_array&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;].&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;column&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;pthread_create&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;threads&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;NULL&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;worker1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;data_array&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;...&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;2-ç¨‹åºåˆ†æ4åˆ†&#34;&gt;2 ç¨‹åºåˆ†æï¼ˆ4åˆ†ï¼‰&lt;/h2&gt;
&lt;p&gt;ä»¥ä¸‹ç¨‹åºè¿è¡Œæ—¶ä¼šå‡ºç°ä»€ä¹ˆç°è±¡ï¼Ÿå¯ä»¥å¦‚ä½•æ”¹å†™æ¥é¿å…æ­¤ç°è±¡å‘ç”Ÿï¼Ÿ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-c++&#34; data-lang=&#34;c++&#34;&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;selected_thread&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;sem_t&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;start1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;start2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;stop1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;stop2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;worker1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
  	&lt;span class=&#34;n&#34;&gt;sem_wait&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;start1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
  	&lt;span class=&#34;n&#34;&gt;sem_post&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stop1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;worker2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(){&lt;/span&gt;
	&lt;span class=&#34;n&#34;&gt;sem_wait&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;start2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
	&lt;span class=&#34;n&#34;&gt;sem_post&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stop2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;argc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;argv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[])&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
  	&lt;span class=&#34;n&#34;&gt;selected_thread&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
 	&lt;span class=&#34;n&#34;&gt;sem_init&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;start1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;  
	&lt;span class=&#34;n&#34;&gt;sem_init&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;start2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;  
	&lt;span class=&#34;n&#34;&gt;sem_init&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stop1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;   
	&lt;span class=&#34;n&#34;&gt;sem_init&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stop2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;   
 	&lt;span class=&#34;n&#34;&gt;pthread_create&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;worker1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
	&lt;span class=&#34;n&#34;&gt;pthread_create&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;worker2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
	&lt;span class=&#34;n&#34;&gt;sem_post&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;start1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt; 
 	&lt;span class=&#34;n&#34;&gt;sem_wait&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stop1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
 	&lt;span class=&#34;n&#34;&gt;sem_wait&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stop2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
 	&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç­”ï¼š worker2ä¼šä¸€ç›´ç­‰å¾…ï¼Œç¨‹åºæ— æ³•ç»“æŸã€‚æ‰€ä»¥åœ¨ä¸»å‡½æ•°é‡ŒåŠ ä¸Šsem_post(&amp;amp;start2)ã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>å¹¶è¡Œä½œä¸š 1</title>
        <link>https://tweakzx.github.io/p/%E5%B9%B6%E8%A1%8C%E4%BD%9C%E4%B8%9A-1/</link>
        <pubDate>Fri, 10 Dec 2021 11:28:33 +0800</pubDate>
        
        <guid>https://tweakzx.github.io/p/%E5%B9%B6%E8%A1%8C%E4%BD%9C%E4%B8%9A-1/</guid>
        <description>&lt;img src="https://img2.baidu.com/it/u=2900542081,1673808678&fm=26&fmt=auto" alt="Featured image of post å¹¶è¡Œä½œä¸š 1" /&gt;&lt;h2 id=&#34;1çŸ©é˜µå‘é‡ä¹˜æ³•4åˆ†&#34;&gt;1çŸ©é˜µå‘é‡ä¹˜æ³•ï¼ˆ4åˆ†ï¼‰&lt;/h2&gt;
&lt;p&gt;è®²ä¹‰55é¡µæ‰€ç¤ºç»“æœYï¼Œå¦‚æœè¦ä½œä¸ºä¸‹ä¸€æ¬¡çŸ©é˜µå‘é‡ä¹˜æ³•çš„è¾“å…¥Xï¼Œåˆ‡åˆ†åˆ°ä¸åŒçš„åˆ—è¿›ç¨‹ï¼Œå¹¶ä¸”å¤åˆ¶åˆ°æ¯ä¸€è¡Œè¿›ç¨‹ï¼Œåº”å¦‚ä½•æ“ä½œï¼Ÿå¯å†™å‡ºä¼ªä»£ç ï¼Œæˆ–ç”¨è¯­è¨€æè¿°ã€‚&lt;/p&gt;
&lt;p&gt;å³å›¾(a)ä¸­çš„Yï¼Œå˜æˆä¸‹å›¾(b)ä¸­çš„Xã€‚å‡è®¾æ¯è¡Œæœ‰Pä¸ªè¿›ç¨‹ï¼Œæ¯åˆ—ä¹Ÿæ˜¯Pä¸ªè¿›ç¨‹ï¼Œä¸€å…±P*Pä¸ªè¿›ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/image-20211210120943046.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/image-20211210120943046.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			alt=&#34;image-20211210120943046&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;image-20211210120943046&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;ç­”ï¼šè¿›ç¨‹$P_{ij}$å’Œæ‰€æ§åˆ¶çš„çŸ©é˜µè¿›è¡ŒçŸ©é˜µå‘é‡ä¹˜ä¹‹åï¼Œå°†ç»“æœå­˜å…¥è¿›ç¨‹$P_{ji}$ã€‚&lt;/p&gt;
&lt;h2 id=&#34;2-ä»£ç å¡«ç©º3åˆ†&#34;&gt;2 ä»£ç å¡«ç©ºï¼ˆ3åˆ†ï¼‰&lt;/h2&gt;
&lt;p&gt;åœ¨æµ‹é‡ç¨‹åºæ€§èƒ½æ—¶ï¼Œæˆ‘ä»¬ç»å¸¸è¦è®°å½•æ•´ä¸ªç¨‹åºæˆ–ç¨‹åºä¸­æŸä¸€éƒ¨åˆ†çš„è¿è¡Œæ—¶é—´ã€‚åœ¨MPIç¨‹åºä¸­ï¼Œç”±äºæ¯ä¸ªè¿›ç¨‹çš„è¿è¡Œæ—¶é—´ä¸åŒï¼Œä¸€èˆ¬éœ€è¦å–å„ä¸ªè¿›ç¨‹è¿è¡Œæ—¶é—´çš„&lt;strong&gt;æœ€å¤§å€¼&lt;/strong&gt;ï¼Œç„¶åç”±0å·è¿›ç¨‹ä¿å­˜å’Œæ‰“å°ï¼ˆå…¶ä»–è¿›ç¨‹ä¸éœ€è¦ä¿å­˜ï¼‰ã€‚ä»¥ä¸‹ç¨‹åºå®Œæˆäº†è¿™ä¸ªåŠŸèƒ½ï¼Œè¯·åœ¨æ¨ªçº¿å¤„å¡«ä¸Šå‡½æ•°è°ƒç”¨è¯­å¥ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-c++&#34; data-lang=&#34;c++&#34;&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;argc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;argv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
	&lt;span class=&#34;kt&#34;&gt;double&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;total_time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
	&lt;span class=&#34;kt&#34;&gt;double&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;time0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;time1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
	&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;procs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;rank&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
	&lt;span class=&#34;n&#34;&gt;MPI_init&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;argc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;argv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
	&lt;span class=&#34;n&#34;&gt;MPI_Comm_size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;MPI_COMM_WORLD&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;procs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
	&lt;span class=&#34;n&#34;&gt;MPI_Comm_rank&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;MPI_COMM_WORLD&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;rank&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
	&lt;span class=&#34;n&#34;&gt;time0&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;MPI_Wtime&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;
	&lt;span class=&#34;c1&#34;&gt;//do some computation
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;	&lt;span class=&#34;n&#34;&gt;time1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;MPI_Wtime&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;â€“&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;time0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;

	&lt;span class=&#34;n&#34;&gt;_______________________________________________________________&lt;/span&gt;
        
	&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;rank&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
		&lt;span class=&#34;n&#34;&gt;Printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;â€œ&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Total&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;execution&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;time&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;is&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;%&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;f&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;seconds&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;\&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;â€&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;total_time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
	&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç­”ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-c++&#34; data-lang=&#34;c++&#34;&gt;&lt;span class=&#34;n&#34;&gt;MPI_Reduce&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;time1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;total_time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;MPI_DOUBLE&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;MPI_MAX&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;MPI_COMM_WORLD&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;3-ä»¥ä¸‹ç¨‹åºç›¸å½“äºå“ªä¸ªmpièšåˆæ“ä½œ3åˆ†&#34;&gt;3 ä»¥ä¸‹ç¨‹åºç›¸å½“äºå“ªä¸ªMPIèšåˆæ“ä½œï¼Ÿï¼ˆ3åˆ†ï¼‰&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-c++&#34; data-lang=&#34;c++&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#define N 16384
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;double&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;send_buff&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;recv_buff&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;MPI_Status&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;status&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nprocs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;myid&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;count&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;N&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;num_procs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;send_buff&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;double&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;malloc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;N&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;sizeof&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;double&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;));&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;recv_buff&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;double&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;malloc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;N&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;sizeof&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;double&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;));&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;MPI_Comm_size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;MPI_COMM_WORLD&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nprocs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;MPI_Comm_rank&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;MPI_COMM_WORLD&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;myid&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;//æ­¤å¤„çœç•¥send_buffä¸­æ•°æ®çš„åˆå§‹åŒ–
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;memcpy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;((&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;recv_buff&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;myid&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;count&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;send_buff&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;myid&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;count&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;count&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;sizeof&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;double&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;));&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nprocs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;myid&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
		&lt;span class=&#34;n&#34;&gt;MPI_Sendrecv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;send_buff&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;count&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;count&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;MPI_DOUBLE&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;400&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;recv_buff&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;count&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;count&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;MPI_DOUBLE&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;400&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;MPI_COMM_WORLD&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;status&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
	&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç­”ï¼šMPI_Alltoall()&lt;/p&gt;
</description>
        </item>
        <item>
        <title>åˆ†å¸ƒå¼å·©å›ºç±»ä½œä¸š</title>
        <link>https://tweakzx.github.io/p/%E5%88%86%E5%B8%83%E5%BC%8F%E5%B7%A9%E5%9B%BA%E7%B1%BB%E4%BD%9C%E4%B8%9A/</link>
        <pubDate>Tue, 07 Dec 2021 14:21:24 +0800</pubDate>
        
        <guid>https://tweakzx.github.io/p/%E5%88%86%E5%B8%83%E5%BC%8F%E5%B7%A9%E5%9B%BA%E7%B1%BB%E4%BD%9C%E4%B8%9A/</guid>
        <description>&lt;img src="https://img2.baidu.com/it/u=1163044150,1040852846&fm=26&fmt=auto" alt="Featured image of post åˆ†å¸ƒå¼å·©å›ºç±»ä½œä¸š" /&gt;&lt;h2 id=&#34;1-é€»è¾‘æ—¶é’Ÿä¸ä¸€è‡´å‰²é›†&#34;&gt;1 é€»è¾‘æ—¶é’Ÿä¸ä¸€è‡´å‰²é›†&lt;/h2&gt;
&lt;p&gt;ä¸‹å›¾ä¸­ï¼Œç›´çº¿ä¸Šå°é»‘ç‚¹ç»™å‡ºäº†æ—¶é’Ÿè®¡æ•°ï¼Œè¯·åˆ†åˆ«ç”¨Lamport é€»è¾‘æ—¶é’Ÿå’Œå‘é‡æ—¶é’Ÿç»™å›¾ä¸Šçš„äº‹ä»¶è®¾ç½®æ—¶é—´æˆ³ï¼Œå¹¶ç»™å‡ºä¸€è‡´å‰²é›†å’Œéä¸€è‡´å‰²é›†çš„ä¾‹å­ã€‚&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/image-20211207143003084.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/image-20211207143003084.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			alt=&#34;äº‹ä»¶æ—¶é’Ÿè®¡æ•°&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;äº‹ä»¶æ—¶é’Ÿè®¡æ•°&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;ç­”ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;è®¾ç½®æ—¶é—´æˆ³&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Lamporté€»è¾‘æ—¶é’Ÿ&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/image-20211207155413530.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/image-20211207155413530.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			alt=&#34;Lamporté€»è¾‘æ—¶é’Ÿ&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;Lamporté€»è¾‘æ—¶é’Ÿ&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å‘é‡æ—¶é’Ÿ&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/image-20211207160453425.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/image-20211207160453425.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			alt=&#34;å‘é‡æ—¶é’Ÿ&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;å‘é‡æ—¶é’Ÿ&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å‰²é›†çš„ä¾‹å­&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ä¸€è‡´å‰²é›†&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/image-20211207165240421.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/image-20211207165240421.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			alt=&#34;ä¸€è‡´å‰²é›†&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;ä¸€è‡´å‰²é›†&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;éä¸€è‡´å‰²é›†&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/image-20211207165430054.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/image-20211207165430054.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			alt=&#34;éä¸€è‡´å‰²é›†&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;éä¸€è‡´å‰²é›†&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;åŒ…å«$e_1^2$è¿™ä¸ªæ¥æ”¶äº‹ä»¶ä½†æ˜¯ä¸åŒ…å«$e_3^1$è¿™ä¸ªå‘é€äº‹ä»¶ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;2-å¼‚æ­¥åˆ†å¸ƒå¼ç³»ç»Ÿçš„æ•…éšœç±»å‹&#34;&gt;2 å¼‚æ­¥åˆ†å¸ƒå¼ç³»ç»Ÿçš„æ•…éšœç±»å‹&lt;/h2&gt;
&lt;p&gt;è€ƒè™‘åœ¨å¼‚æ­¥åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ä½¿ç”¨çš„ä¸¤ä¸ªé€šä¿¡æœåŠ¡ã€‚åœ¨æœåŠ¡Aä¸­ï¼Œæ¶ˆæ¯å¯èƒ½ä¸¢å¤±ã€è¢«å¤åˆ¶æˆ–å»¶è¿Ÿï¼Œæ ¡éªŒå’Œä»…åº”ç”¨åˆ°æ¶ˆæ¯å¤´ã€‚åœ¨æœåŠ¡Bä¸­ï¼Œæ¶ˆæ¯å¯èƒ½ä¸¢å¤±ã€å»¶è¿Ÿæˆ–å‘é€åœ°å¤ªå¿«ä»¥è‡´æ¥æ”¶æ–¹æ— æ³•å¤„ç†å®ƒï¼Œä½†åˆ°è¾¾ç›®çš„åœ°çš„æ¶ˆæ¯å…¶å†…å®¹ä¸€å®šæ­£ç¡®ã€‚æè¿°æ¯ä¸ªæœåŠ¡ä¼šæœ‰çš„æ•…éšœç±»å‹ã€‚æ ¹æ®å¯¹æœ‰æ•ˆæ€§å’Œå®Œæ•´æ€§çš„å½±å“å°†æ•…éšœåˆ†ç±»ã€‚æœåŠ¡Bèƒ½è¢«æè¿°æˆä¸€ä¸ªå¯é çš„é€šä¿¡æœåŠ¡å—ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ç­”ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æœåŠ¡Aä¼šæœ‰çš„æ•…éšœç±»å‹&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é—æ¼æ•…éšœ
&lt;ul&gt;
&lt;li&gt;æ¶ˆæ¯ä¸¢å¤±&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ‹œå åº­æ•…éšœ
&lt;ul&gt;
&lt;li&gt;checksumä»…ä»…åº”ç”¨åˆ°æ¶ˆæ¯çš„headï¼Œæ¶ˆæ¯çš„bodyå¯èƒ½å‘ç”ŸæŸå&lt;/li&gt;
&lt;li&gt;æ¶ˆæ¯é‡å¤&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å› ä¸ºè¿™æ˜¯å¼‚æ­¥åˆ†å¸ƒå¼ç³»ç»Ÿï¼Œæ‰€ä»¥ä¸ä¼šæœ‰æ—¶åºæ•…éšœã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é—æ¼æ•…éšœçš„æ¶ˆæ¯ä¸¢å¤±ç ´åäº†æœ‰æ•ˆæ€§ã€‚æ‹œå åº­æ•…éšœçš„å¯èƒ½æŸåçš„æ¶ˆæ¯ä»¥åŠé‡å¤çš„æ¶ˆæ¯ç ´åäº†å®Œæ•´æ€§ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æœåŠ¡Bä¼šæœ‰çš„æ•…éšœç±»å‹&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é—æ¼æ•…éšœ
&lt;ul&gt;
&lt;li&gt;æ¶ˆæ¯ä¸¢å¤±&lt;/li&gt;
&lt;li&gt;å‘é€åœ°å¤ªå¿«ä»¥è‡´æ¥æ”¶æ–¹æ— æ³•å¤„ç†å®ƒï¼Œæ¥æ”¶é—æ¼&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å› ä¸ºè¿™æ˜¯å¼‚æ­¥åˆ†å¸ƒå¼ç³»ç»Ÿï¼Œæ‰€ä»¥ä¸ä¼šæœ‰æ—¶åºæ•…éšœã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æœåŠ¡Bæ»¡è¶³å®Œæ•´æ€§ï¼Œä½†æ˜¯æœåŠ¡Bæ¶ˆæ¯å‘ç”Ÿçš„é—æ¼æ•…éšœï¼Œä¸æ»¡è¶³æœ‰æ•ˆæ€§ï¼Œæ‰€ä»¥ä¸æ˜¯å¯é çš„é€šä¿¡æœåŠ¡ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;3-ricart-and-agrawala-ç®—æ³•&#34;&gt;3 Ricart and Agrawala ç®—æ³•&lt;/h2&gt;
&lt;p&gt;è¯·è¯æ˜Ricart-Agrawalaçš„äº’æ–¥ç®—æ³•æ»¡è¶³ME2å’ŒME3ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ME2:è¿›å…¥æˆ–é€€å‡ºä¸´ç•ŒåŒºçš„è¯·æ±‚æœ€ç»ˆéƒ½ä¼šæˆåŠŸ&lt;/p&gt;
&lt;p&gt;ME3:å¦‚æœä¸€ä¸ªè¿›å…¥ä¸´ç•ŒåŒºçš„è¯·æ±‚å‘ç”Ÿåœ¨å…ˆï¼Œé‚£ä¹ˆè¿›å…¥ä¸´ç•ŒåŒºä¹ŸæŒ‰æ­¤é¡ºåº&lt;/p&gt;
&lt;p&gt;Ricart-Agrawalaç®—æ³•ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¸€ä¸ªè¿›ç¨‹ç”³è¯·èµ„æºæ—¶å‘æ‰€æœ‰å…¶ä»–è¿›ç¨‹å‘å‡ºå¸¦æœ‰æ—¶é—´æˆ³çš„ç”³è¯·æŠ¥æ–‡ï¼›&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ªè¿›ç¨‹æ”¶åˆ°ç”³è¯·æŠ¥æ–‡åï¼Œç­”å¤è¿™ä¸ªç”³è¯·ï¼Œå½“ä¸”ä»…å½“ï¼š1ï¼‰è‹¥ä¸åœ¨ä¸´ç•ŒåŒºå¹¶ä¸”è‡ªå·±æœªç”³è¯·è¿›å…¥ä¸´ç•ŒåŒº,æˆ–è€…2)è‡ªå·±è™½ç„¶å‘å‡ºäº†ç”³è¯·æŠ¥æ–‡ï¼Œä½†è‡ªå·±çš„æŠ¥æ–‡çš„æ—¶é—´æˆ³å¤§äºæ”¶åˆ°çš„ç”³è¯·æŠ¥æ–‡ã€‚å¦‚æœå·²ç»åœ¨ä¸´ç•ŒåŒºï¼Œæˆ–è€…è‡ªå·±çš„ç”³è¯·å‘é€åœ¨å‰ï¼Œåˆ™åœ¨å‡ºä¸´ç•ŒåŒºä¹‹å‰å°†æ‰€æœ‰çš„ç”³è¯·æŒ‚èµ·ã€‚&lt;/li&gt;
&lt;li&gt;ç”³è¯·èµ„æºçš„è¿›ç¨‹ä»…åœ¨æ”¶åˆ°å…¶å®ƒæ‰€æœ‰è¿›ç¨‹çš„å›ç­”æŠ¥æ–‡åæ‰è¿›å…¥ä¸´ç•ŒåŒºä½¿ç”¨èµ„æºï¼›&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ªè¿›ç¨‹ä½¿ç”¨å®Œèµ„æºåï¼Œå®ƒå‘æ‰€æœ‰æŒ‚èµ·çš„ç”³è¯·å‘é€å›ç­”æŠ¥æ–‡ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;p&gt;è¯æ˜ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¯æ˜æ»¡è¶³ME2
&lt;ul&gt;
&lt;li&gt;ä¸€ä¸ªè¿›ç¨‹$p_i$è¦è¿›å…¥ä¸´ç•ŒåŒºå‘å…¶ä»–è¿›ç¨‹å‘é€è¯·æ±‚ï¼Œä¸æƒ³è¿›å…¥ä¸´ç•ŒåŒºçš„è¿›ç¨‹ï¼Œæˆ–è€…å·²ç»å‘é€äº†è¯·æ±‚ä½†æ˜¯å‘é€æ—¶é—´æˆ³å¤§äºæ¥æ”¶è¯·æ±‚æ—¶é—´æˆ³$T_i$çš„è¿›ç¨‹éƒ½ä¼šå›å¤ã€‚æ‰€ä»¥è¿›ç¨‹$p_i$è¦ç­‰å¾…é€»è¾‘æ—¶é—´æˆ³$T_i$ä¹‹å‰å‘é€äº†è¯·æ±‚çš„è¿›ç¨‹ä»¥åŠæ­£åœ¨ä¸´ç•ŒåŒºçš„è¿›ç¨‹çš„ç­”å¤ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨é€»è¾‘æ—¶é—´æˆ³$T_i$ä¹‹å‰å‘å‡ºè¯·æ±‚çš„è¿›ç¨‹æ‰€ç­‰å¾…è¿›ç¨‹çš„æ•°é‡ä¾æ¬¡é€’å‡åˆ°1ã€‚ç­‰æ­£åœ¨ä¸´ç•ŒåŒºçš„è¿›ç¨‹ä½¿ç”¨å®Œèµ„æºå¹¶é€€å‡ºåï¼Œæ‰€æœ‰åœ¨ç­‰å¾…çš„è¿›ç¨‹æ‰€éœ€ç­‰å¾…è¿›ç¨‹æ•°é‡å…¨éƒ½å‡1ã€‚æ­¤æ—¶æœ‰ä¸€ä¸ªè¿›ç¨‹å¾—åˆ°äº†å…¨éƒ¨çš„ç­”å¤ï¼Œè¿›å…¥ä¸´ç•ŒåŒºã€‚&lt;/li&gt;
&lt;li&gt;æŒ‰ç…§è¿™ä¸ªè¿‡ç¨‹ï¼Œåªè¦å‰è¾¹çš„è¿›ç¨‹ä¾æ¬¡è¿›å…¥ä¸´ç•ŒåŒºå¹¶é€€å‡ºä¹‹åï¼Œè¿›ç¨‹$p_i$å°±å¯ä»¥æˆåŠŸè¿›å…¥ä¸´ç•ŒåŒºï¼Œæ¯•ç«Ÿæ²¡æœ‰è¿›ç¨‹å¯ä»¥æ’é˜Ÿï¼Œæ‰€éœ€ç­‰å¾…è¿›ç¨‹æ•°é‡åªèƒ½é€’å‡ã€‚&lt;/li&gt;
&lt;li&gt;ç”±äºä½¿ç”¨å®Œèµ„æºåé€€å‡ºä¸´ç•ŒåŒºä¸éœ€è¦ç­‰å¾…ç­”å¤ï¼Œæ‰€ä»¥å¯ä»¥æˆåŠŸé€€å‡ºã€‚æ‰€ä»¥ï¼Œæ»¡è¶³ME2ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;è¯æ˜æ»¡è¶³ME3
&lt;ul&gt;
&lt;li&gt;å½“è¿›$p_i$ç»™å…¶ä»–è¿›ç¨‹å‘é€è¿›å…¥ä¸´ç•ŒåŒºçš„ç”³è¯·æ—¶&lt;/li&gt;
&lt;li&gt;å¦‚æœè¿›ç¨‹$p_j$ä¹Ÿæƒ³è¿›å…¥ä¸´ç•ŒåŒºï¼Œå‘é€çš„ç”³è¯·çš„æ—¶é—´æˆ³å°äºæ”¶åˆ°çš„$T_i$ï¼Œé‚£ä¹ˆ$p_j$ä¸ä¼šå‘é€ç­”å¤ç»™$p_i$,è¿™æ ·$p_i$å°±å¿…é¡»ç­‰å¾…$p_j$è¿›å…¥å¹¶é€€å‡ºä¸´ç•ŒåŒºä¹‹åæ‰èƒ½å¾—åˆ°ç­”å¤ï¼Œæ‰æœ‰å¯èƒ½è¿›å…¥ä¸´ç•ŒåŒºã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœè¿›ç¨‹$p_j$ä¹Ÿæƒ³è¿›å…¥ä¸´ç•ŒåŒºï¼Œå‘é€çš„ç”³è¯·çš„æ—¶é—´æˆ³å¤§äºæ”¶åˆ°çš„$T_i$ï¼Œé‚£ä¹ˆä»–ä¼šå›å¤$p_i$çš„ç”³è¯·ï¼Œ$p_i$æ— éœ€ç­‰å¾…$p_j$ï¼Œä¸”å½“$p_i$æ”¶åˆ°$p_j$çš„è¯·æ±‚ä¹‹åä¸ä¼šå›å¤ï¼Œ$p_j$ç­‰å¾…$p_i$ã€‚&lt;/li&gt;
&lt;li&gt;æ‰€ä»¥ï¼Œæ»¡è¶³ME3&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;4-æ”¹è¿›ricart-and-agrawala-ç®—æ³•&#34;&gt;4 æ”¹è¿›Ricart and Agrawala ç®—æ³•&lt;/h2&gt;
&lt;p&gt;åœ¨Ricart-Agrawalaçš„äº’æ–¥ç®—æ³•ä¸­ï¼ŒåŸå§‹å‡å®šç³»ç»Ÿçš„è¿›ç¨‹æ˜¯ä¸å‡ºæ•…éšœçš„ã€‚è¯·ä¿®æ”¹ç®—æ³•å¢åŠ å¤„ç†ä¸€ä¸ªè¿›ç¨‹å´©æºƒçš„æƒ…å†µã€‚&lt;/p&gt;
&lt;p&gt;ç­”ï¼šå¦‚æœæœ‰è¿›ç¨‹å´©æºƒï¼Œé‚£ä¹ˆå®ƒæ°¸è¿œä¸ä¼šå›å¤ï¼Œåˆ™å‘é€è¯·æ±‚çš„è¿›ç¨‹éœ€è¦ä¸€ç›´ç›²ç­‰ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ‰€ä»¥æ¯å½“æ¥æ”¶åˆ°æ¶ˆæ¯ä¹‹åè¦åšå‡ºç­”å¤ï¼Œå›å¤&lt;strong&gt;åŒæ„&lt;/strong&gt;ï¼Œå½“ä¸”ä»…å½“ï¼š1ï¼‰è‹¥ä¸åœ¨ä¸´ç•ŒåŒºå¹¶ä¸”è‡ªå·±æœªç”³è¯·è¿›å…¥ä¸´ç•ŒåŒº,æˆ–è€…2)è‡ªå·±è™½ç„¶å‘å‡ºäº†ç”³è¯·æŠ¥æ–‡ï¼Œä½†è‡ªå·±çš„æŠ¥æ–‡çš„æ—¶é—´æˆ³å¤§äºæ”¶åˆ°çš„ç”³è¯·æŠ¥æ–‡ã€‚æˆ–è€…å›å¤&lt;strong&gt;æ‹’ç»&lt;/strong&gt;ï¼Œå½“1ï¼‰è‡ªå·±å¤„åœ¨ä¸´ç•ŒåŒºï¼Œæˆ–è€…2ï¼‰è‡ªå·±çš„ä¸´ç•ŒåŒºç”³è¯·çš„é€»è¾‘æ—¶é—´æˆ³å°äºæ”¶åˆ°çš„ç”³è¯·ï¼ŒæŠŠå›å¤æ‹’ç»çš„è¿›ç¨‹ç¼“å­˜èµ·æ¥ï¼Œç­‰å¾…å›å¤ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœè¶…å‡ºtimeoutæ²¡æœ‰æ”¶åˆ°ç­”å¤åˆ™è®¤ä¸ºæœºå™¨æ•…éšœï¼Œåªéœ€ç­‰å¾…å…¶ä½™çš„æœºå™¨å…¨éƒ¨å›å¤åŒæ„&lt;/li&gt;
&lt;li&gt;å½“ä¸€ä¸ªè¿›ç¨‹é€€å‡ºä¸´ç•ŒåŒºä¹‹åï¼Œè¦å‘æ‰€æœ‰å›å¤æ‹’ç»çš„è¿›ç¨‹å›å¤åŒæ„ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;5æ”¹è¿›åŸºäºç¯çš„äº’æ–¥ç®—æ³•&#34;&gt;5æ”¹è¿›åŸºäºç¯çš„äº’æ–¥ç®—æ³•&lt;/h2&gt;
&lt;p&gt;æ”¹è¿›åŸºäºç¯çš„äº’æ–¥ç®—æ³•ä½¿å¾—å®ƒèƒ½æ£€æµ‹æƒæ ‡çš„ä¸¢å¤±å¹¶é‡æ–°ç”Ÿæˆæƒæ ‡ã€‚&lt;/p&gt;
&lt;p&gt;ç­”ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸€ä¸ªè¿›ç¨‹å‘å‡ºç”³è¯·ä¹‹åï¼Œå¦‚æœé•¿æ—¶é—´æ²¡æœ‰æ‹¿åˆ°æƒæ ‡ï¼Œåˆ™å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹å‘é€ä¸€ä¸ªè¯·æ±‚reqestç¡®è®¤æƒæ ‡æ˜¯å¦è¿˜åœ¨ã€‚&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ªè¿›ç¨‹æ”¶åˆ°äº†ç¡®è®¤æƒæ ‡å­˜åœ¨çš„è¯·æ±‚requestï¼Œå¦‚æœæƒæ ‡åœ¨è‡ªå·±æ‰‹é‡Œåˆ™å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹å‘é€ä¸€ä¸ªexistï¼Œå¦‚æœæƒæ ‡ä¸åœ¨è‡ªå·±æ‰‹é‡Œï¼Œåˆ™å°†requstä¼ é€’ç»™ä¸‹ä¸€ä¸ªèŠ‚ç‚¹&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ªè¿›ç¨‹æ”¶åˆ°äº†ä¸€ä¸ªexistæ¶ˆæ¯åˆ™å°†å®ƒä¼ é€’åˆ°ä¸‹ä¸€ä¸ªèŠ‚ç‚¹&lt;/li&gt;
&lt;li&gt;å¦‚æœå‘å‡ºç”³è¯·çš„è¿›ç¨‹æ”¶åˆ°requestè¯·æ±‚ï¼Œåˆ™è®¤ä¸ºæƒæ ‡ä¸¢å¤±ï¼Œé‡æ–°ç”Ÿæˆæƒæ ‡ã€‚å¦‚æœæ”¶åˆ°existï¼Œåˆ™è¯´æ˜ä¸€åˆ‡æ­£å¸¸ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;6-åŒå‘ç¯ç»“æ„çš„é€‰ä¸¾ç®—æ³•&#34;&gt;6 åŒå‘ç¯ç»“æ„çš„é€‰ä¸¾ç®—æ³•&lt;/h2&gt;
&lt;p&gt;åŸºäºç¯çš„é€‰ä¸¾ç®—æ³•æ˜¯å»ºç«‹åœ¨å•å‘ç¯çš„å‡è®¾ä¹‹ä¸Šçš„ï¼Œä¸ºäº†è·å¾—æ›´å¿«çš„é€‰ä¸¾é€Ÿåº¦ï¼Œç°é‡‡ç”¨åŒå‘ç¯ç»“æ„ï¼Œå³æ¯ä¸ªèŠ‚ç‚¹å¯ä»¥åŒæ—¶å‘é¡ºæ—¶é’ˆå’Œé€†æ—¶é’ˆä¸¤ä¸ªæ–¹å‘å‘é€é€‰ä¸¾æ¶ˆæ¯ï¼Œè¯·åˆ—å‡ºæ–°ç®—æ³•çš„é«˜å±‚æè¿°ï¼Œå¹¶ç”¨ä¸€ä¸ªå››èŠ‚ç‚¹çš„åŒå‘ç¯æ¥è¯´æ˜ä½ çš„æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;ç­”ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æœ€åˆï¼Œæ‰€æœ‰è¿›ç¨‹æ ‡è®°ä¸ºéå‚ä¸è€…ï¼Œä»»æ„ä¸€ä¸ªè¿›ç¨‹å‘èµ·é€‰ä¸¾ï¼Œå‘èµ·é€‰ä¸¾åï¼Œç½®è‡ªå·±ä¸ºå‚ä¸è€…ï¼ˆ$elected_i = âŠ¥$)ï¼Œå‘ä¸Šä¸‹æ¸¸å‘é€ä¸€ä¸ªé€‰ä¸¾æ¶ˆæ¯ï¼ŒåŒ…å«è‡ªå·±çš„æ ‡è¯†ç¬¦ã€‚&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ªè¿›ç¨‹æ”¶åˆ°é€‰ä¸¾æ¶ˆæ¯åï¼Œé‚£ä¹ˆæ¯”è¾ƒè‡ªå·±çš„æ ‡è¯†ç¬¦ä¸æ”¶åˆ°æ¶ˆæ¯ä¸­çš„æ ‡è¯†ç¬¦ï¼Œ
&lt;ul&gt;
&lt;li&gt;å¦‚æœè‡ªå·±çš„æ ‡è¯†ç¬¦å°äºæ¶ˆæ¯ä¸­çš„æ ‡è¯†ç¬¦ï¼Œé‚£ä¹ˆé¡ºæ¶ˆæ¯æ¥çš„æ–¹å‘ä¼ é€’é€‰ä¸¾æ¶ˆæ¯ï¼›&lt;/li&gt;
&lt;li&gt;å¦‚æœè‡ªå·±çš„æ ‡è¯†ç¬¦å¤§äºæ¶ˆæ¯ä¸­çš„æ ‡è¯†ç¬¦
&lt;ul&gt;
&lt;li&gt;å¦‚æœè‡ªå·±æ˜¯éå‚ä¸è€…ï¼Œå°†æ¶ˆæ¯ä¸­çš„æ ‡è¯†ç¬¦æ”¹ä¸ºè‡ªå·±æ ‡è¯†ç¬¦ï¼Œé¡ºæ¶ˆæ¯æ¥çš„æ–¹å‘ä¼ é€’é€‰ä¸¾æ¶ˆæ¯ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœè‡ªå·±æ˜¯å‚ä¸è€…ï¼Œåˆ™ä¸è½¬å‘æ¶ˆæ¯ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å¦‚æœè‡ªå·±çš„æ ‡è¯†ç¬¦ç­‰äºæ¶ˆæ¯ä¸­çš„æ ‡è¯†ç¬¦ï¼Œé‚£ä¹ˆè¯´æ˜è‡ªå·±çš„æ ‡è¯†ç¬¦æœ€å¤§ï¼Œå¦‚æœè¿˜æœªå½“é€‰ï¼Œåˆ™å½“é€‰ä¸ºåè°ƒè€…ï¼Œå‘ä¸Šæ¸¸å’Œä¸‹æ¸¸å‘é€ä¸€ä¸ªå½“é€‰æ¶ˆæ¯ï¼ŒåŒ…å«è‡ªå·±çš„æ ‡è¯†ç¬¦P&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ªè¿›ç¨‹æ”¶åˆ°ä¸€ä¸ªå½“é€‰æ¶ˆæ¯ï¼Œå¦‚æœè‡ªå·±æ˜¯å‚ä¸è€…ï¼Œè®¾ç½®$elected_i = P$ï¼Œç½®è‡ªå·±ä¸ºéå‚ä¸è€…ï¼Œå¹¶ä¸”æŒ‰ç…§æ¶ˆæ¯å‘é€çš„æ–¹å‘ä¼ é€’ç»™è‡ªå·±çš„é‚»å±…ï¼›å¦‚æœè‡ªå·±å·²ç»çŸ¥æ™“å½“é€‰æ¶ˆæ¯ï¼Œåˆ™ä¸è½¬å‘ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-pseudocode&#34; data-lang=&#34;pseudocode&#34;&gt;Init elected != âŠ¥ for process i (i = 1,2,...N)

in the process which start an election:
	function startElection():
		electingMSG &amp;lt;- MSG(type = &amp;quot;electing&amp;quot;, value = Local.id)
		Local.elected = &#39;âŠ¥&#39;
		send(msg = electingMSG ,direction = clockwise)
		send(msg = electingMSG , direction = counterclockwise)
	
in process i:
	function handleMSG(MSG msg, Direction direction):
		if msg.type = &amp;quot;electing&amp;quot;:
			if Local.id &amp;lt; msg.id:
				send(msg,direction)
				Local.elected = &#39;âŠ¥&#39;
			else if Local.id &amp;gt; msg.id:
				if Local.elected != &#39;âŠ¥&#39;:
					msg.value = Local.id
					send(msg, direction)
					Local.elected = &#39;âŠ¥&#39;
				end
			else
				if(process i is not Coordinator)
                	setCoordinator(process i)
                	Local.elected = &#39;âŠ¥&#39;
                	electdeMSG &amp;lt;- MSG(type = &amp;quot;elected&amp;quot;, value = Local.id)
                	send(msg = electedMSG, direction = clockwise)
                	send(msg = electedMSG, direction = counterclockwise)
                end
            end
		end      
			
		if msg.type = &amp;quot;elected&amp;quot;
			if Local.elected == &#39;âŠ¥&#39;:
				Local.elected = msg.value
				send(msg, direction)
			end
		end

&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/image-20211209165145519.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/image-20211209165145519.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			alt=&#34;image-20211209165145519&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;image-20211209165145519&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;å›¾ä¸­:	ç™½è‰²è¡¨ç¤ºåˆå§‹éå‚ä¸è€…ï¼Œé»„è‰²è¡¨ç¤ºå‚ä¸è€…ï¼Œçº¢è‰²è¡¨ç¤ºçŸ¥é“å½“é€‰ç»“æœã€‚è“è‰²æ˜¯é€‰ä¸¾æ¶ˆæ¯ï¼Œç»¿è‰²æ˜¯å½“é€‰æ¶ˆæ¯ã€‚ä»13å·å¼€å§‹å‘èµ·é€‰ä¸¾ï¼Œæœ€ç»ˆé€‰å‡º23ä¸ºåè°ƒè€…ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç½‘ç»œå¸¦å®½ï¼šæ‰¾åˆ°æœ€å¤§æ ‡è¯†ç¬¦æœ€å¤šéœ€è¦Nä¸ªæ¶ˆæ¯ï¼Œç¡®è®¤æœ€å¤§æ ‡è¯†ç¬¦æœ€å¤šéœ€è¦2Nä¸ªæ¶ˆæ¯ï¼Œé€šçŸ¥å½“é€‰æœ€å¤šéœ€è¦N+1ä¸ªæ¶ˆæ¯ï¼Œåˆ™æœ€å¤šéœ€è¦æ¶ˆæ¯ä¸º 4N+1&lt;/li&gt;
&lt;li&gt;å›è½¬æ—¶é—´ï¼šç¬¬ä¸€è½®å¯»æ‰¾èŠ±è´¹æœ€å¤š(N/2)ä¸ªæ¶ˆæ¯ï¼Œç¬¬äºŒè½®ç¡®è®¤éœ€è¦æœ€å¤šèŠ±è´¹Nä¸ªæ¶ˆæ¯ï¼Œç¬¬ä¸‰è½®é€šçŸ¥æœ€å¤šéœ€è¦èŠ±è´¹(N/2)+1ä¸ªæ¶ˆæ¯ï¼Œæ‰€ä»¥æœ€å¤šéœ€è¦èŠ±è´¹2N+1ä¸ªæ¶ˆæ¯çš„å›è½¬æ—¶é—´ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;7-åŸºäºç”Ÿæˆæ ‘çš„é€‰ä¸¾ç®—æ³•&#34;&gt;7 åŸºäºç”Ÿæˆæ ‘çš„é€‰ä¸¾ç®—æ³•&lt;/h2&gt;
&lt;p&gt;èŠ‚ç‚¹ä¹‹é—´æŒ‰ç…§ç”Ÿæˆæ ‘æ–¹å¼è¿æ¥ï¼Œä»…æœ‰è¾¹ç›¸è¿çš„èŠ‚ç‚¹èƒ½é€šä¿¡ï¼Œè¯·åŸºäºæ­¤ç½‘ç»œæ‹“æ‰‘ï¼Œè®¾è®¡ä¸€ä¸ªé€‰ä¸¾ç®—æ³•ï¼Œç»™å‡ºå…¶ä¼ªç ã€‚å½“ä»…æœ‰ä¸€ä¸ªè¿›ç¨‹å‘èµ·é€‰ä¸¾ï¼Œä½ çš„é€‰ä¸¾ç®—æ³•æ‰€éœ€çš„æ¶ˆæ¯é‡æ˜¯å¤šå°‘ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ç­”ï¼šå‡å®šæ˜¯æœ‰å‘ç”Ÿæˆæ ‘ï¼Œæ¯ä¸ªèŠ‚ç‚¹æœ‰çˆ¶èŠ‚ç‚¹å’Œå­èŠ‚ç‚¹ï¼Œæ¯ä¸ªèŠ‚ç‚¹å¯ä»¥å‘å­èŠ‚ç‚¹æˆ–è€…çˆ¶èŠ‚ç‚¹å‘é€æ¶ˆæ¯ã€‚ä»»ä½•ä¸€ä¸ªè¿›ç¨‹éƒ½å¯ä»¥å‘èµ·é€‰ä¸¾ã€‚ç®—æ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æ”¶åˆ°é€‰ä¸¾æ¶ˆæ¯ï¼Œå°†å‘é€æ¶ˆæ¯çš„æ ‡è¯†ç¬¦å’Œè‡ªå·±çš„æ ‡è¯†ç¬¦ä½œæ¯”è¾ƒï¼Œæ›´æ”¹æ¶ˆæ¯ä¸­çš„ä¿¡æ¯ä¸ºè¾ƒå¤§å€¼ï¼›å¦‚æœæœ‰å­èŠ‚ç‚¹ï¼Œåˆ™å‘å­èŠ‚ç‚¹å‘é€è¿™ä¸ªé€‰ä¸¾æ¶ˆæ¯ï¼›å¦‚æœæ˜¯å¶å­èŠ‚ç‚¹ï¼Œåˆ™çˆ¶äº²èŠ‚ç‚¹è¿”å›ä¸€ä¸ªå›å¤æ¶ˆæ¯ï¼ŒåŒ…å«å½“å‰çš„è¾ƒå¤§æ ‡è¯†ç¬¦ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç­‰åˆ°æ”¶åˆ°æ‰€æœ‰å­èŠ‚ç‚¹çš„å›å¤æ¶ˆæ¯ï¼Œé€‰å‡ºæœ€å¤§çš„æ ‡è¯†ç¬¦ï¼Œè¿”å›ç»™çˆ¶äº²èŠ‚ç‚¹&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å½“æ ¹èŠ‚ç‚¹æ”¶åˆ°æœ€å¤§çš„ æ ‡è¯†ç¬¦ï¼Œåˆ™å‘æ‰€æœ‰çš„å­èŠ‚ç‚¹å‘é€å½“é€‰ä¿¡æ¯ï¼Œç›´åˆ°å¶èŠ‚ç‚¹ã€‚å¦‚æœæœ‰å­èŠ‚ç‚¹å‘ç°è‡ªå·±çš„æ ‡è¯†ç¬¦ç­‰äºæ¶ˆæ¯ä¸­çš„çš„æ ‡è¯†ç¬¦ï¼Œåˆ™æˆä¸ºåè°ƒè€…ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æˆ‘çš„é€‰ä¸¾ç®—æ³•æ‰€éœ€çš„æ¶ˆæ¯é‡é€‰ä¸¾æœ‰N-1ä¸ªï¼Œå›å¤æœ‰N-1ä¸ªï¼Œå½“é€‰æœ‰N-1ä¸ªï¼Œæ‰€ä»¥æ€»å…±æœ‰3N-3ä¸ªã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-pseudocode&#34; data-lang=&#34;pseudocode&#34;&gt;Init Local.elected != âŠ¥ for process i (i = 1,2,...N)
	 Local.count =0 for process i (i = 1,2,...N)

in the process p0 which start an election:
	function startElection():
		electingMSG &amp;lt;- MSG(type = &amp;quot;electing&amp;quot;, value = Local.id)
		Local.elected = &#39;âŠ¥&#39;
		for i in son(p0):
			send(electingMSG, dest = i)
		end

in process p:
	function handleMSG(MSG msg):
		if msg.type = &amp;quot;electing&amp;quot;:
			Local.elected = &#39;âŠ¥&#39;
			if !isEmpty(son(p):
				msg.value = max(Local.id,msg.value)
				for i in son(p):
					send(msg, dest = i)
				end
			else
				replyMSG = MSG(type = &amp;quot;reply&amp;quot;, value = max(Local.id,msg.value)
				send(relpyMSG, dest = father(p))
            end
            
		if msg.type = &amp;quot;reply&amp;quot;:
			Local.count++;
			msg.value = max(Local.id, msg.value)
			if(Local.count == son(p).size()):
				if !isEmpty(father(p)):
					send(msg, dest = father(p))
				else
					electedMSG = MSG(type = &amp;quot;elected&amp;quot;,value = msg.value)
					for i in son(p):
						send(electedMSG, dest = i)
					end
					Local.elected = msg.value
					if Local.ip == msg.value:
						setCoordinator(process = p)
					end
				end
			end
		end
					
		
		if msg.type = &amp;quot;elected&amp;quot;:
			if Local.ip == msg.value:
				setCoordinator(process = p)
			end
			if !isEmpty(son(p)):
				for i in son(p):
					send(msg, dest = i)
				end
			end
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;8-æ³•å®šæ•°å…±è¯†å¤åˆ¶&#34;&gt;8 æ³•å®šæ•°å…±è¯†å¤åˆ¶&lt;/h2&gt;
&lt;p&gt;åœ¨æœåŠ¡å™¨Xã€Yå’ŒZä¸Šä½¿ç”¨æ³•å®šæ•°å…±è¯†è¿›è¡Œå¤åˆ¶ï¼Œè¿™äº›æœåŠ¡å™¨éƒ½æœ‰æ•°æ®é¡¹Aå’ŒBçš„å‰¯æœ¬ã€‚Aå’ŒBå‰¯æœ¬çš„åˆå§‹å€¼æ˜¯100ï¼Œå¹¶ä¸”åœ¨Xã€Yå’ŒZä¸ŠAå’ŒBçš„é€‰ç¥¨æ˜¯1ã€‚åŒæ ·å¯¹äºAå’ŒBï¼ŒRï¼Wï¼2ã€‚ä¸€ä¸ªå®¢æˆ·è¯»Açš„å€¼ç„¶åå°†å®ƒå†™åˆ°Bä¸Šã€‚&lt;/p&gt;
&lt;p&gt;1ï¼‰å½“å®¢æˆ·æ‰§è¡Œè¿™äº›æ“ä½œæ—¶ï¼Œå‡ºç°äº†ä¸€ä¸ªåˆ†åŒºï¼Œå°†æœåŠ¡å™¨Xå’ŒYä¸æœåŠ¡å™¨Zåˆ†éš”å¼€äº†ã€‚æè¿°å½“å®¢æˆ·èƒ½è®¿é—®æœåŠ¡å™¨Xå’ŒYæ—¶ï¼Œè·å¾—çš„æ³•å®šæ•°å’Œå‘ç”Ÿçš„æ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;2ï¼‰æè¿°å½“å®¢æˆ·ä»…èƒ½è®¿é—®æœåŠ¡å™¨Zæ—¶ï¼Œè·å¾—çš„æ³•å®šæ•°å’Œå‘ç”Ÿçš„æ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;3ï¼‰åˆ†åŒºä¿®å¤äº†ï¼Œç„¶åå¦ä¸€ä¸ªåˆ†åŒºå‘ç”Ÿäº†ï¼Œç»“æœXå’ŒZä¸Yåˆ†éš”å¼€äº†ã€‚æè¿°å½“å®¢æˆ·èƒ½è®¿é—®æœåŠ¡å™¨Xå’ŒZæ—¶ï¼Œè·å¾—çš„æ³•å®šæ•°å’Œå‘ç”Ÿçš„æ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;ç­”ï¼š&lt;/p&gt;
&lt;p&gt;1ï¼‰åœ¨æ•°æ®çš„v0ç‰ˆæœ¬æ—¶ï¼ŒAå’ŒBå‰¯æœ¬çš„åˆå§‹å€¼æ˜¯100ï¼Œå‡ºç°äº†ä¸€ä¸ªåˆ†åŒºï¼Œå°†æœåŠ¡å™¨Xå’ŒYä¸æœåŠ¡å™¨Zåˆ†éš”å¼€ã€‚&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;X&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;Y&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;Z&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;A = 100ï¼ˆv0)&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;A = 100ï¼ˆv0)&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;A = 100ï¼ˆv0)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;B = 100ï¼ˆv0)&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;B = 100ï¼ˆv0)&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;B = 100ï¼ˆv0)&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;â€‹	å®¢æˆ·å¯èƒ½ä»Xæˆ–è€…Yä¸Šè¯»å–Aï¼ŒR = 1+1 =2ï¼Œè¯»å–æˆåŠŸã€‚&lt;/p&gt;
&lt;p&gt;â€‹	å®¢æˆ·éœ€è¦åœ¨Xå’ŒYä¸Šå†™Bï¼ŒW = 1+1 = 2ï¼Œ å†™æˆåŠŸã€‚&lt;/p&gt;
&lt;p&gt;2)å®¢æˆ·åªèƒ½è®¿é—®æœåŠ¡å™¨Zï¼ŒR = 1ï¼Œå®¢æˆ·æ— æ³•è¯»å–ï¼›W = 1ï¼Œå®¢æˆ·æ— æ³•å†™ã€‚&lt;/p&gt;
&lt;p&gt;3)å½“åˆ†åŒºè¢«ä¿®å¤åï¼Œå› ä¸ºä¹‹å‰çš„åˆ†åŒºå¯¼è‡´Xå’ŒYçš„æ•°æ®è¦æ¯”Zä¸Šçš„æ•°æ®æ›´æ–°ï¼Œä¾‹å¦‚&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;X&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;Y&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;Z&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;A = 200ï¼ˆv1)&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;A = 200ï¼ˆv1)&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;A = 100ï¼ˆv0)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;B = 300ï¼ˆv1)&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;B = 300ï¼ˆv1)&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;B = 100ï¼ˆv0)&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;æ­¤æ—¶ï¼Œå¦ä¸€ä¸ªåˆ†åŒºå‡ºç°ï¼ŒXå’ŒZä¸Yåˆ†éš”å¼€ï¼Œå½“å®¢æˆ·è¯•å›¾è·å–æ³•å®šæ•°çš„æ—¶å€™ï¼Œå‘ç°Zçš„æ•°æ®ç‰ˆæœ¬è¿‡æ—¶ï¼Œäºæ˜¯Zæ ¹æ®Xä¸Šçš„æœ€æ–°æ•°æ®æ›´æ–°è‡ªå·±ã€‚ä¹‹åå®¢æˆ·è·å–è¯»æ³•å®šæ•°ï¼ŒR = 1+1 =2ï¼Œç„¶åè¯»æˆåŠŸã€‚å®¢æˆ·è·å–å†™æ³•å®šæ•°ï¼ŒW = 1+1 =2ï¼Œå†™æˆåŠŸã€‚&lt;/p&gt;
&lt;h2 id=&#34;9-ä¸²è¡Œç­‰ä»·çš„äº¤é”™æ‰§è¡Œ&#34;&gt;9 ä¸²è¡Œç­‰ä»·çš„äº¤é”™æ‰§è¡Œ&lt;/h2&gt;
&lt;p&gt;ä¸€ä¸ªæœåŠ¡å™¨ç®¡ç†å¯¹è±¡a1, a2, &amp;hellip; an ï¼Œå®ƒä¸ºå®¢æˆ·æä¾›ä¸‹é¢ä¸¤ç§æ“ä½œï¼šread (i)è¿”å›å¯¹è±¡aiçš„å€¼ã€‚write(i, Value)å°†å¯¹è±¡aiè®¾ç½®ä¸ºå€¼Valueã€‚&lt;/p&gt;
&lt;p&gt;äº‹åŠ¡Tå’ŒUå®šä¹‰å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;em&gt;T&lt;/em&gt;: &lt;em&gt;x&lt;/em&gt; = &lt;em&gt;read&lt;/em&gt;(&lt;em&gt;j&lt;/em&gt;); &lt;em&gt;y&lt;/em&gt; = &lt;em&gt;read&lt;/em&gt; (&lt;em&gt;i&lt;/em&gt;); &lt;em&gt;write&lt;/em&gt;(&lt;em&gt;j&lt;/em&gt;, 44); &lt;em&gt;write&lt;/em&gt;(&lt;em&gt;i&lt;/em&gt;, 33)&lt;/p&gt;
&lt;p&gt;&lt;em&gt;U&lt;/em&gt;: &lt;em&gt;x&lt;/em&gt; = &lt;em&gt;read&lt;/em&gt;(&lt;em&gt;k&lt;/em&gt;); &lt;em&gt;write&lt;/em&gt;(&lt;em&gt;i&lt;/em&gt;, 55); &lt;em&gt;y&lt;/em&gt; = &lt;em&gt;read&lt;/em&gt; (&lt;em&gt;j&lt;/em&gt;); &lt;em&gt;write&lt;/em&gt;(&lt;em&gt;k&lt;/em&gt;, 66)&lt;/p&gt;
&lt;p&gt;è¯·ç»™å‡ºäº‹åŠ¡Tå’ŒUçš„3ä¸ªä¸²è¡ŒåŒ–ç­‰ä»·çš„äº¤é”™æ‰§è¡Œã€‚&lt;/p&gt;
&lt;p&gt;ç­”ï¼šæˆ‘ä»¬ç»™æ¯ä¸€æ­¥åˆ†åˆ«è¡¨ä¸Šåºå·ï¼š&lt;/p&gt;
&lt;p&gt;&lt;em&gt;T&lt;/em&gt;: â‘ &lt;em&gt;x&lt;/em&gt; = &lt;em&gt;read&lt;/em&gt;(&lt;em&gt;j&lt;/em&gt;); â‘¡&lt;em&gt;y&lt;/em&gt; = &lt;em&gt;read&lt;/em&gt; (&lt;em&gt;i&lt;/em&gt;); â‘¢&lt;em&gt;write&lt;/em&gt;(&lt;em&gt;j&lt;/em&gt;, 44); â‘£&lt;em&gt;write&lt;/em&gt;(&lt;em&gt;i&lt;/em&gt;, 33)&lt;/p&gt;
&lt;p&gt;&lt;em&gt;U&lt;/em&gt;: â‘¤&lt;em&gt;x&lt;/em&gt; = &lt;em&gt;read&lt;/em&gt;(&lt;em&gt;k&lt;/em&gt;); â‘¥&lt;em&gt;write&lt;/em&gt;(&lt;em&gt;i&lt;/em&gt;, 55); â‘¦&lt;em&gt;y&lt;/em&gt; = &lt;em&gt;read&lt;/em&gt; (&lt;em&gt;j&lt;/em&gt;); â‘§&lt;em&gt;write&lt;/em&gt;(&lt;em&gt;k&lt;/em&gt;, 66)&lt;/p&gt;
&lt;p&gt;å¦‚æœæŒ‰ç…§å…ˆTåUçš„é¡ºåºä¾æ¬¡æ‰§è¡Œä¸€ä¸ªäº‹åŠ¡çš„è¯ï¼Œæˆ‘ä»¬å‘ç°â‘ å’Œâ‘¤ï¼Œâ‘¡å’Œâ‘¦ï¼Œâ‘£å’Œâ‘¥æœ‰å†™åå†™ä¾èµ–ï¼›â‘¢å’Œâ‘¦æœ‰å†™åè¯»ä¾èµ–ï¼Œâ‘ å’Œâ‘¢ï¼Œâ‘¡å’Œâ‘£ï¼Œâ‘¡å’Œâ‘¥ï¼Œâ‘¤å’Œâ‘§æœ‰è¯»åå†™ä¾èµ–ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬è¦ä¿è¯è¿™äº›ä¾èµ–çš„é€»è¾‘é¡ºåºï¼Œä¸²è¡ŒåŒ–ç­‰ä»·çš„äº¤é”™æ‰§è¡Œå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;â‘ â‘¤â‘¡â‘¢â‘£â‘¥â‘¦â‘§&lt;/p&gt;
&lt;p&gt;â‘ â‘¢â‘¤â‘¡â‘£â‘¦â‘§â‘¥&lt;/p&gt;
&lt;p&gt;â‘ â‘¤â‘¢â‘¡â‘§â‘¦â‘£â‘¥&lt;/p&gt;
&lt;h2 id=&#34;10-ä¹è§‚å¹¶å‘æ§åˆ¶&#34;&gt;10 ä¹è§‚å¹¶å‘æ§åˆ¶&lt;/h2&gt;
&lt;p&gt;è€ƒè™‘å°†ä¹è§‚å¹¶å‘æ§åˆ¶åº”ç”¨äºä¸‹åˆ—äº‹åŠ¡Tå’ŒUçš„æƒ…å†µï¼š&lt;/p&gt;
&lt;p&gt;â€‹    &lt;em&gt;T&lt;/em&gt;: &lt;em&gt;x&lt;/em&gt; = &lt;em&gt;read&lt;/em&gt;(&lt;em&gt;i&lt;/em&gt;); &lt;em&gt;write&lt;/em&gt;(&lt;em&gt;j&lt;/em&gt;, 44);&lt;/p&gt;
&lt;p&gt;â€‹    &lt;em&gt;U&lt;/em&gt;: &lt;em&gt;write&lt;/em&gt;(&lt;em&gt;i&lt;/em&gt;, 55); &lt;em&gt;write&lt;/em&gt;(&lt;em&gt;j&lt;/em&gt;, 66);&lt;/p&gt;
&lt;p&gt;å¦‚æœäº‹åŠ¡Tå’ŒUåŒæ—¶å¤„äºæ´»åŠ¨çŠ¶æ€ï¼Œè¯•æè¿°ä»¥ä¸‹å‡ ç§æƒ…å†µçš„ç»“æœå¦‚ä½•ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æœåŠ¡å™¨é¦–å…ˆå¤„ç†Tçš„æäº¤è¯·æ±‚ï¼Œä½¿ç”¨å‘åéªŒè¯æ–¹å¼ã€‚&lt;/li&gt;
&lt;li&gt;æœåŠ¡å™¨é¦–å…ˆå¤„ç†Uçš„æäº¤è¯·æ±‚ï¼Œä½¿ç”¨å‘åéªŒè¯æ–¹å¼ã€‚&lt;/li&gt;
&lt;li&gt;æœåŠ¡å™¨é¦–å…ˆå¤„ç†Tçš„æäº¤è¯·æ±‚ï¼Œä½¿ç”¨å‘å‰éªŒè¯æ–¹å¼ã€‚&lt;/li&gt;
&lt;li&gt;æœåŠ¡å™¨é¦–å…ˆå¤„ç†Uçš„æäº¤è¯·æ±‚ï¼Œä½¿ç”¨å‘å‰éªŒè¯æ–¹å¼ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å¯¹äºä¸Šé¢çš„æ¯ç§æƒ…å†µï¼Œæè¿°äº‹åŠ¡Tå’ŒUçš„æ“ä½œé¡ºåºï¼Œæ³¨æ„å†™æ“ä½œåœ¨éªŒè¯é€šè¿‡ä¹‹åæ‰çœŸæ­£èµ·ä½œç”¨ã€‚&lt;/p&gt;
&lt;p&gt;ç­”ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;æœåŠ¡å™¨é¦–å…ˆå¤„ç†Tçš„æäº¤è¯·æ±‚ï¼Œä½¿ç”¨å‘åéªŒè¯æ–¹å¼ã€‚&lt;/p&gt;
&lt;p&gt;Tå…ˆå¼€å§‹æ‰€ä»¥Tçš„éªŒè¯é˜¶æ®µæ— äº‹å‘ç”Ÿï¼ŒUè¿›å…¥éªŒè¯é˜¶æ®µä¹‹åï¼ŒUæ²¡æœ‰è¯»é›†ï¼Œæ‰€ä»¥æ²¡æœ‰å†²çªï¼Œå¯ä»¥é¡ºåˆ©æäº¤ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æœåŠ¡å™¨é¦–å…ˆå¤„ç†Uçš„æäº¤è¯·æ±‚ï¼Œä½¿ç”¨å‘åéªŒè¯æ–¹å¼ã€‚&lt;/p&gt;
&lt;p&gt;Tè¿›å…¥éªŒè¯é˜¶æ®µï¼Œå‘ç°Tçš„è¯»é›†{i}ä¸Uçš„å†™é›†{i, j}æœ‰å†²çªï¼ŒTäº‹åŠ¡è¢«æ”¾å¼ƒã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æœåŠ¡å™¨é¦–å…ˆå¤„ç†Tçš„æäº¤è¯·æ±‚ï¼Œä½¿ç”¨å‘å‰éªŒè¯æ–¹å¼ã€‚&lt;/p&gt;
&lt;p&gt;Uè¿›å…¥éªŒè¯é˜¶æ®µï¼Œå‘ç°Uçš„å†™é›†{i,j}ä¸Tçš„è¯»é›†{i}æœ‰å†²çªï¼Œæ‰€ä»¥æ¨è¿ŸéªŒè¯ï¼Œç­‰Tçš„è¯»é›†æ‰§è¡Œå®Œæ¯•ä¹‹åå†æäº¤Uã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æœåŠ¡å™¨é¦–å…ˆå¤„ç†Uçš„æäº¤è¯·æ±‚ï¼Œä½¿ç”¨å‘å‰éªŒè¯æ–¹å¼ã€‚&lt;/p&gt;
&lt;p&gt;Tè¿›å…¥éªŒè¯é˜¶æ®µï¼Œå‘ç°Uæ— è¯»é›†ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡éªŒè¯ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
</description>
        </item>
        <item>
        <title>é˜¿é‡Œå®ä¹ äºŒé¢</title>
        <link>https://tweakzx.github.io/p/%E9%98%BF%E9%87%8C%E5%AE%9E%E4%B9%A0%E4%BA%8C%E9%9D%A2/</link>
        <pubDate>Sat, 04 Dec 2021 18:31:16 +0800</pubDate>
        
        <guid>https://tweakzx.github.io/p/%E9%98%BF%E9%87%8C%E5%AE%9E%E4%B9%A0%E4%BA%8C%E9%9D%A2/</guid>
        <description>&lt;img src="https://img2.baidu.com/it/u=3334504742,937198599&fm=26&fmt=auto" alt="Featured image of post é˜¿é‡Œå®ä¹ äºŒé¢" /&gt;&lt;blockquote&gt;
&lt;p&gt;æ—¶é—´ï¼š2021-12-2 ä¸‹åˆ5ç‚¹åŠ&lt;/p&gt;
&lt;p&gt;æ–¹å¼ï¼šé˜¿é‡Œä¼šè®®è§†é¢‘é¢è¯•&lt;/p&gt;
&lt;p&gt;å²—ä½ï¼šç ”ç©¶å‹å®ä¹ ç”Ÿ-æ™ºèƒ½å­˜å‚¨&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;é¢è¯•è¿‡ç¨‹&#34;&gt;é¢è¯•è¿‡ç¨‹&lt;/h2&gt;
&lt;p&gt;è¿™æ¬¡é¢è¯•ä¸»è¦æ˜¯åœ¨èŠé¡¹ç›®ï¼ŒèŠå…´è¶£å•¥çš„ã€‚æ²¡æœ‰ä»€ä¹ˆç®—æ³•æˆ–è€…çŸ¥è¯†ç‚¹çš„æé—®ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å…ˆåšä¸€ä¸‹è‡ªæˆ‘ä»‹ç»ã€‚&lt;/li&gt;
&lt;li&gt;é—®æˆ‘è§‰å¾—è‡ªå·±åœ¨å­¦ä¹ ä¸Šçš„æœ€å¤§ä¼˜åŠ¿æ˜¯ä»€ä¹ˆã€‚&lt;/li&gt;
&lt;li&gt;é—®æˆ‘å¤§ä¸‰å®ä¹ çš„ä¸»è¦å·¥ä½œï¼Œè¿™ä¸€éƒ¨åˆ†æˆ‘è¿˜æ˜¯å¿½ç•¥çš„å¸¦è¿‡äº†ã€‚&lt;/li&gt;
&lt;li&gt;è®²äº†è‡ªå·±çš„å¤§äºŒæ—¶çš„æ¯”èµ›ã€‚&lt;/li&gt;
&lt;li&gt;é—®äº†å¯ä»¥å®ä¹ çš„æ—¶é—´ã€‚&lt;/li&gt;
&lt;li&gt;ç›®å‰åœ¨å­¦æ ¡é‡Œéƒ½å­¦äº†ä»€ä¹ˆè¯¾ç¨‹ã€‚&lt;/li&gt;
&lt;li&gt;é¢è¯•å®˜é—®æˆ‘å¤§å››åœ¨åšä»€ä¹ˆï¼Œæˆ‘å›ç­”è‡ªå·±ä¿ç ”ååœ¨è¯¾é¢˜ç»„é‡Œåšç»“é¡¹çš„äº‹æƒ…ã€‚é¢è¯•å®˜æ¯”è¾ƒå¥½å¥‡æˆ‘è‡ªå·±éƒ½åšäº†ä»€ä¹ˆï¼Œæˆ‘å›ç­”ä¸œè¥¿éƒ½æ˜¯åˆ«äººåšçš„ï¼Œæˆ‘å°±æ˜¯æä¾›ä¸€äº›è¾…åŠ©æ€§çš„å·¥ä½œã€‚&lt;/li&gt;
&lt;li&gt;ç„¶åè¯¢é—®æˆ‘è¯¾é¢˜ç»„çš„ä¸»è¦ç ”ç©¶æ˜¯ä»€ä¹ˆï¼Œæˆ‘å›ç­”äº‘è®¡ç®—ï¼Œdockerï¼Œk8sä¹‹ç±»çš„ã€‚é¢è¯•å®˜é—®é‚£ä¸ºå•¥ä½ åšçš„ä¸œè¥¿å’Œäº‘è®¡ç®—ä¸€ç‚¹å…³ç³»éƒ½æ²¡æœ‰ï¼Œåˆå»åšäº†ç®—æ³•NLPï¼Œæˆ‘å›ç­”è¿™æ˜¯è€å¸ˆå®‰æ’çš„ã€‚&lt;/li&gt;
&lt;li&gt;é—®æˆ‘å¯¹dockerï¼Œk8säº†è§£å¤šå°‘ã€‚æˆ‘å›ç­”ä»…ä»…ä¼šç®€å•çš„ä½¿ç”¨ã€‚&lt;/li&gt;
&lt;li&gt;åæ¥é¢è¯•å®˜è§£é‡ŠNLPä¹‹ç±»çš„å·¥ä½œä¸€èˆ¬æ˜¯è¾¾æ‘©é™¢å†…è¾¹æ¥åšï¼Œæ„æ€å¯èƒ½æ˜¯è¿™è¾¹è¿˜æ˜¯åé‡äºå¼€å‘ã€‚&lt;/li&gt;
&lt;li&gt;é—®æˆ‘å¯¹è¿™ä¸ªéƒ¨é—¨çš„å·¥ä½œäº†è§£å—ï¼Œä¸€é¢æœ‰ä»‹ç»å—ï¼Ÿæˆ‘å›ç­”å’Œå­˜å‚¨ï¼Œé¢„è®­ç»ƒæ¨¡å‹å¥½åƒæœ‰å…³ã€‚&lt;/li&gt;
&lt;li&gt;é¢è¯•å®˜è¯´ä½ è¦è‡ªå·±æƒ³å¥½è‡ªå·±è¦åšä»€ä¹ˆæ–¹å‘ï¼Œå…´è¶£æ˜¯æœ€å¥½çš„è€å¸ˆå•¥çš„ã€‚ï¼ˆæˆ‘ä¹Ÿæƒ³å•Šï¼‰&lt;/li&gt;
&lt;li&gt;é¢è¯•å®˜é—®æˆ‘å¯¹NLPäº†è§£å¤šå°‘ï¼Œæˆ‘è¯´ä»…ä»…æ¯•ä¸šè®¾è®¡å’Œè¿™ä¸ªæœ‰å…³ï¼ŒçŸ¥é“é¢„è®­ç»ƒå’Œè’¸é¦ã€‚&lt;/li&gt;
&lt;li&gt;ä»–è¯´æ„Ÿè§‰ä½ å¯¹è¿™äº›æ–¹é¢éƒ½æœ‰ä¸€ç‚¹äº†è§£ï¼Œä½†åˆéƒ½ä¸æ·±ï¼Œä¸çŸ¥é“ä½ å°†æ¥è¦åšä»€ä¹ˆã€‚æˆ‘å›ç­”è‡ªå·±ç›®å‰è¿˜åœ¨æ¢ç´¢ï¼Œæ‰“ç®—å…ˆå¼€å§‹åšåœ¨å»æ„Ÿå—è‡ªå·±æƒ³è¦ä»€ä¹ˆã€‚&lt;/li&gt;
&lt;li&gt;æ„Ÿè§‰èŠåˆ°è¿™é‡Œï¼Œå…¶å®å·²ç»æ— è¯å¯èŠäº†ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸‹é¢æ˜¯åé—®ç¯èŠ‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æˆ‘è¯´è‡ªå·±å¯èƒ½é—®çš„é—®é¢˜æ¯”è¾ƒå¤§ä¸å¥½å›ç­”ï¼šå¦‚æœæˆ‘æœ‰æœºä¼šå¾—åˆ°è¿™ä¸ªofferï¼Œé‚£æˆ‘éœ€è¦å¼¥è¡¥çš„å·®è·åœ¨ä»€ä¹ˆåœ°æ–¹ï¼Ÿ&lt;/li&gt;
&lt;li&gt;é¢è¯•å®˜ä»ä¸¤ä¸ªæ–¹é¢å»ºè®®ï¼Œä¸€ä¸ªå°±æ˜¯å¦‚æœè®¡ç®—æƒ³æç®—æ³•çš„è¯ï¼Œblablaæˆ‘å¿˜äº†ã€‚å¦‚æœæƒ³åšå¼€å‘çš„è¯ï¼Œå¯ä»¥å­¦ä¹ ä¸€ä¸‹äº‘åŸç”Ÿï¼Œäº‘è®¡ç®—ä¹‹ç±»çš„çŸ¥è¯†ã€‚&lt;/li&gt;
&lt;li&gt;é¢è¯•å®˜åˆ†æäº†ä¸€ä¸‹ä¹‹åï¼Œæˆ‘å›ç­”è‡ªå·±çš„ç†è§£ä¸çœ‹æ³• ï¼Œä¸»è¦è¯´äº†äººå·¥æ™ºèƒ½æ˜¯ä¸€ç§æ‹¿æ¥åº”ç”¨çš„æŠ€æœ¯ï¼Œåšå·¥ç¨‹çš„è¿‡ç¨‹ä¸­æ‹¿æ¥ä½¿ç”¨ï¼Œæ˜¯å·¥ç¨‹çš„ä¸€éƒ¨åˆ†ã€‚ä¸æ˜¯æ‰€æœ‰äººéƒ½è¦å»ç ”ç©¶æ¨¡å‹ï¼Œæˆ‘ä»¬èƒ½æ‹¿æ¥å³ç”¨å³å¯ï¼Œè¿˜æ˜¯è¦å»æå‡å·¥ç¨‹ä¸Šçš„å¼€å‘èƒ½åŠ›ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;é¢è¯•æ€»ç»“&#34;&gt;é¢è¯•æ€»ç»“&lt;/h2&gt;
&lt;p&gt;æˆ‘å…¶å®çœ‹ä¸å‡ºæ¥è¿™æ¬¡çš„ç»“æœå¥½åï¼Œé¢è¯•å®˜ä¹Ÿç¡®å®æåˆ°äº†æ¬¢è¿æ¥å»åšä¸€äº›å°è¯•ï¼Œå¯ä»¥å…ˆè¿›æ¥ï¼Œå®ä¹ çš„è¿‡ç¨‹ä¸­æ‘¸ç´¢è‡ªå·±çš„å…´è¶£ï¼Œæ„Ÿå—ä¸€ä¸‹å„ä¸ªæ–¹å‘æ˜¯ä»€ä¹ˆæ ·çš„ï¼Œä½†æ›´åƒæ˜¯ä¸€äº› &lt;del&gt;è¯´æ³•æ­£ç¡®çš„å®¢å¥—è¯&lt;/del&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ç›®å‰è¿˜åœ¨ç­‰ç»“æœã€‚ï¼ˆå¸Œæœ›ç»“æœæ˜¯å¥½çš„å§ï¼‰&lt;/p&gt;
</description>
        </item>
        <item>
        <title>é˜¿é‡Œç ”ç©¶å‹å®ä¹ ç”Ÿé¢è¯•</title>
        <link>https://tweakzx.github.io/p/%E9%98%BF%E9%87%8C%E7%A0%94%E7%A9%B6%E5%9E%8B%E5%AE%9E%E4%B9%A0%E7%94%9F%E9%9D%A2%E8%AF%95/</link>
        <pubDate>Wed, 01 Dec 2021 21:49:57 +0800</pubDate>
        
        <guid>https://tweakzx.github.io/p/%E9%98%BF%E9%87%8C%E7%A0%94%E7%A9%B6%E5%9E%8B%E5%AE%9E%E4%B9%A0%E7%94%9F%E9%9D%A2%E8%AF%95/</guid>
        <description>&lt;img src="https://img2.baidu.com/it/u=3334504742,937198599&fm=26&fmt=auto" alt="Featured image of post é˜¿é‡Œç ”ç©¶å‹å®ä¹ ç”Ÿé¢è¯•" /&gt;&lt;blockquote&gt;
&lt;p&gt;æ—¶é—´ï¼š2021-11-30 ä¸‹åˆ2ç‚¹&lt;/p&gt;
&lt;p&gt;æ–¹å¼ï¼šé˜¿é‡Œä¼šè®®è§†é¢‘é¢è¯•&lt;/p&gt;
&lt;p&gt;å²—ä½ï¼šç ”ç©¶å‹å®ä¹ ç”Ÿ-æ™ºèƒ½å­˜å‚¨&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;ä¸ºä»€ä¹ˆä¼šå‚åŠ è¿™æ¬¡é¢è¯•&#34;&gt;ä¸ºä»€ä¹ˆä¼šå‚åŠ è¿™æ¬¡é¢è¯•ï¼Ÿ&lt;/h2&gt;
&lt;p&gt;å› ä¸ºæƒ³è¦äº²èº«å‚ä¸çœŸå®çš„ç§‘ç ”æ´»åŠ¨æˆ–è€…ä¸€ä¸ªçœŸå®ä¼ä¸šå†…çš„åšå·¥ç¨‹çš„è¿‡ç¨‹ï¼Œæ‰€ä»¥æŠ•é€’äº†è¿™ä»½ç®€å†ï¼Œæˆ‘ä¹Ÿæ²¡æœ‰æƒ³åˆ°ä¼šç»™æˆ‘å®‰æ’é¢è¯•ã€‚å…¶å®é¢è¯•çš„æ—¶å€™æˆ‘å·²ç»å¿˜è®°è‡ªå·±æŠ•é€’çš„æ˜¯å“ªä¸ªè¯¾é¢˜äº†ï¼Œç°åœ¨æ¨æµ‹ä¸€ä¸‹å¯èƒ½æ˜¯å¤§è§„æ¨¡é¢„è®­ç»ƒæ¨¡å‹çš„è¿ç§»å•¥çš„ã€‚&lt;/p&gt;
&lt;p&gt;å› ä¸ºé¢è¯•çš„å‰ä¸€å¤©å‚åŠ äº†å­—èŠ‚çš„é¢è¯•ï¼Œååˆ†æŒ«è´¥ï¼Œæ‰€ä»¥å¯¹é¢è¯•å¯ä»¥è¯´ååˆ†æ²¡æœ‰ä¿¡å¿ƒï¼ŒåŠ ä¸Šæ”¶åˆ°çš„é‚®ä»¶é‡Œæ²¡æœ‰ä¼šè®®é“¾æ¥ã€‚æ— è®ºé¢ä¸ä¸é¢ï¼Œè¿Ÿæ—©è¦æ‰“ç”µè¯å‘ŠçŸ¥ï¼Œæ‰€ä»¥ç´¢æ€§å†³å®šæ‰“ç”µè¯æ¨è¾æ‰è¿™ä¸ªé¢è¯•ã€‚æ‰“äº†ç”µè¯ï¼Œä¼°è®¡ä¸­åˆé¢è¯•è”ç³»äººå¯èƒ½åœ¨ä¼‘æ¯ï¼Œæ‰€ä»¥è¿‡äº†ä¸€ä¼šæ‰æ¥åˆ°ï¼Œé¢è¯•è”ç³»äººåŠè¯´æˆ‘é¢è¯•æ²¡æœ‰åçš„å½±å“ï¼Œå°±å½“é”»ç‚¼è‡ªå·±ï¼Œåªæœ‰å¥½å¤„æ²¡æœ‰åå¤„ï¼Œä¸å¦‚ä¸€è¯•ã€‚æ‰€ä»¥æ²¡æœ‰æ¨è„±ï¼Œåæ­£å°±ä¸€ä¸ªå°æ—¶ï¼Œä¸€ä¸ªå°æ—¶ä¹‹åæˆ‘çš„ç”Ÿæ´»è¿˜ä¼šæ¢å¤åŸæ ·ã€‚&lt;/p&gt;
&lt;h2 id=&#34;é¢è¯•è¿‡ç¨‹&#34;&gt;é¢è¯•è¿‡ç¨‹&lt;/h2&gt;
&lt;p&gt;é¢è¯•çš„æ—¶å€™å‘ç°åˆšåˆšæ¥ç”µè¯çš„äººåº”è¯¥å°±æ˜¯é¢è¯•å®˜ï¼Œé¢è¯•å®˜ç»™æˆ‘è¯¦ç»†ä»‹ç»äº†ä¸€ä¸‹ä»€ä¹ˆæ˜¯ç ”ç©¶å‹å®ä¹ ç”Ÿä»¥åŠå®ƒå’Œå…¶ä»–çš„å®ä¹ ç”Ÿçš„åŒºåˆ«ï¼Œä»¥åŠå¯¹æ‹›è˜çš„å½±å“ã€‚ç„¶åå°±å¼€å§‹é¢è¯•ï¼Œå…ˆæ˜¯è‡ªæˆ‘ä»‹ç»ï¼Œè¿˜æ˜¯ä»‹ç»äº†æœ¬ç§‘ï¼Œç ”ç©¶ç”Ÿçš„å­¦æ ¡å’Œä¸“ä¸šï¼Œå®ä¹ ä¸æ¯”èµ›ã€‚é—®äº†æˆ‘å¤§æ¦‚æƒ³åšç§‘ç ”è¿˜æ˜¯åå·¥ç¨‹çš„æ–¹å‘ï¼Œæˆ‘å›ç­”å·¥ç¨‹ï¼Œä½†åæ¥æƒ³æƒ³åº”è¯¥å›ç­”æˆ‘éƒ½è¡Œçš„å…¶å®ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;é¢è¯•äº†ä¸€é“&lt;strong&gt;ç®—æ³•é¢˜&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å°†ä¸€ä¸ªå­—ç¬¦ä¸²æŒ‰å•è¯åè½¬ï¼Œä½†æ˜¯å¯¹ç©ºé—´çš„å¼€é”€æœ‰é™åˆ¶ï¼Œæœ€å¥½æ˜¯åœ¨åŸåœ°å€ä¸Šç›´æ¥ä¿®æ”¹ï¼Œå¦‚æœç”¨æ ˆï¼Œæˆ–è€…åˆ‡å‰²å•è¯æˆæ•°ç»„ä¹‹ç±»çš„æ–¹å¼éƒ½æ˜¯ä¸ç¬¦åˆç©ºé—´å¼€é”€è¦æ±‚çš„ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;åˆšå¼€å§‹æˆ‘æƒ³çš„æ˜¯å°†å•è¯å…ˆåˆ‡å‡ºæ¥ï¼Œé¢è¯•å®˜å‘ç°æˆ‘å¯èƒ½æ²¡æœ‰ç†è§£é¢˜ç›®å°±åˆè¯´äº†ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä¹‹åæƒ³è¯´åˆ¤æ–­ç©ºæ ¼ ç„¶ååšé¦–å°¾äº¤æ¢ï¼Œé¢è¯•å®˜æé†’æˆ‘å•è¯çš„é•¿åº¦å¯èƒ½æ˜¯ä¸ä¸€è‡´çš„ï¼Œè®©æˆ‘å†æƒ³æƒ³ã€‚&lt;/p&gt;
&lt;p&gt;é¢è¯•å®˜è¯´å¯ä»¥å…ˆè¯´ä¸€ä¸‹æ€è·¯ï¼Œå†å†™ä»£ç ã€‚ï¼ˆè¯´å®è¯è¿™ç‚¹è¿˜æŒºèµçš„ã€‚ï¼‰&lt;/p&gt;
&lt;p&gt;æœ€åæˆ‘æƒ³äº†æƒ³ï¼Œè¯´å®è¯å› ä¸ºæ²¡æœ‰ä»€ä¹ˆä¿¡å¿ƒï¼Œæˆ‘éƒ½æƒ³æ”¾å¼ƒç®—äº†ã€‚&lt;/p&gt;
&lt;p&gt;ä½†ååè¿˜æ˜¯æƒ³åˆ°äº†&lt;strong&gt;å…ˆæŠŠæ¯ä¸ªå•è¯éƒ½å…ˆåœ¨å±€éƒ¨åè½¬ï¼Œç„¶åå…¨å±€ä¸€èµ·åè½¬&lt;/strong&gt;å°±ä¸ä¼šäº§ç”Ÿå¤§çš„ç©ºé—´å¼€é”€ã€‚&lt;/p&gt;
&lt;p&gt;é¢è¯•å®˜è¯´è¿™ä¸ªæƒ³æ³•æ˜¯å¯¹çš„ï¼Œç„¶åè®©æˆ‘è‡ªå·±å®ç°ä¸€ä¸‹ï¼Œå°±å¤§æ¦‚å†™äº†å†™ä»£ç ã€‚&lt;/p&gt;
&lt;p&gt;åˆé—®äº†æˆ‘è¿™ä¸ªç®—æ³•çš„æ—¶é—´å¤æ‚åº¦æ˜¯å¤šå°‘ï¼Œæˆ‘è¯´æ˜¯O(n)ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é—®å¹³æ—¶æ€ä¹ˆåš&lt;strong&gt;æµ‹è¯•&lt;/strong&gt;ï¼Œæˆ‘å›ç­”ç”¨è‡ªå·±è®¾è®¡æµ‹è¯•æ ·ä¾‹ï¼Œç„¶åprintçš„æ–¹æ³•å’Œç¼–è¾‘å™¨è°ƒè¯•ã€‚&lt;/p&gt;
&lt;p&gt;ä»–é—®æˆ‘æœ‰ä¹ˆæœ‰ç”¨ä»€ä¹ˆæµ‹è¯•å·¥å…·ä¹‹ç±»çš„ï¼Œæˆ‘è¯´åœ¨è¯¾ä¸Šå­¦è¿‡UnitTest4ï¼Œä½†å®é™…ä¸Šæ²¡ç”¨è¿‡ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;çŸ¥ä¸çŸ¥é“&lt;strong&gt;å¤šçº¿ç¨‹&lt;/strong&gt;ï¼Œpthreadä¹‹ç±»çš„ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¹‹åèŠäº†&lt;strong&gt;å®ä¹ &lt;/strong&gt;ï¼Œå®ä¹ æ—¶å†™çš„Jsonå·¥å…·ï¼Œæ—¥å¿—æ¥å£å¼€å‘ã€‚æˆ‘éƒ½å›ç­”å…¶å®æ²¡æœ‰ä»€ä¹ˆå«é‡‘é‡ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç„¶åæ˜¯æœºå™¨äºº&lt;strong&gt;å¤§èµ›&lt;/strong&gt;ï¼Œè·¯å¾„è§„åˆ’ç®—æ³•ç”¨çš„æ˜¯A* ,é—®æˆ‘ä¸ºä»€ä¹ˆç”¨A* è€Œä¸æ˜¯ç”¨æœºå™¨äººèµ°è¿·å®«çš„æ–¹å¼æ¥æ“æ§æœºå™¨äººã€‚å’Œè§†è§‰ç®—æ³•çš„è®¾è®¡ï¼Œä»¥åŠOpenCVå•¥çš„ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æœ€åèŠäº†æœ¬ç§‘&lt;strong&gt;æ¯•è®¾&lt;/strong&gt;ï¼Œä»‹ç»äº†è‡ªå·±çš„æ¯•è®¾å†…å®¹ï¼Œé—®æˆ‘è§‰å¾—æœ€æœ‰æŒ‘æˆ˜çš„éƒ¨åˆ†æ˜¯å•¥ã€‚æˆ‘å›ç­”æ˜¯losså‡½æ•°çš„è®¾è®¡ï¼Œä¸‰æ®µè’¸é¦ï¼Œæ¯æ®µçš„ä¸åŒçš„æŸå¤±è®¡ç®—æ–¹æ³•ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç„¶åå°±æ˜¯åé—®ç¯èŠ‚ï¼Œæˆ‘æ²¡é—®ï¼Œç¡®å®ä¸çŸ¥é“é—®å•¥ã€‚&lt;/p&gt;
&lt;h2 id=&#34;é¢è¯•æ€»ç»“&#34;&gt;é¢è¯•æ€»ç»“&lt;/h2&gt;
&lt;p&gt;å¤§æ¦‚å°±åªè®°å¾—è¿™äº›äº†ï¼Œå¥½åƒå¿˜è®°äº†å¾ˆå¤šå…¶ä»–çš„ç»†èŠ‚ï¼Œä½†æ˜¯é¢è¯•å®Œå¿ƒæƒ…ä¹Ÿæ¯”ä¹‹å‰å¥½äº†ä¸€äº›ã€‚&lt;/p&gt;
&lt;p&gt;é˜¿é‡Œå·´å·´çš„è¿™æ¬¡é¢è¯•ç»™æˆ‘æœ€å¤§çš„æ„Ÿå—å°±æ˜¯ï¼Œé¢è¯•å®˜ä¼šç¡®è®¤è‡ªå·±çš„æ„æ€æœ‰æ²¡æœ‰å‡†ç¡®ä¼ è¾¾ç»™æˆ‘ï¼Œè¿™ä¸ªç»†èŠ‚è¿˜æŒºä»¤æˆ‘æ„ŸåŠ¨çš„ã€‚é¢è¯•å®˜ä¼šæŠŠè‡ªå·±çš„é—®é¢˜æˆ–è€…å¾ˆå¤šè¦è€ƒè™‘çš„æƒ…å†µè®²çš„å¾ˆç»†è‡´ï¼Œç¡®è®¤æˆ‘ç†è§£ä¹‹åå†è®©æˆ‘æ€è€ƒå¹¶å›ç­”ï¼Œè¿™æ ·å…¶å®å¯¹æˆ‘è¿™æ ·ä¸å¤ªç†Ÿæ‚‰é¢è¯•çš„äººååˆ†å‹å¥½çš„ã€‚&lt;/p&gt;
&lt;p&gt;é¢è¯•çš„ç»“æœè¿˜ä¸çŸ¥é“ï¼Œä½†æ˜¯æ— è®ºå¥½ä¸åï¼Œè¿™æ¬¡é¢è¯•éƒ½ç»™äº†æˆ‘ä¸€äº›é¼“èˆï¼Œå³ä¾¿æ˜¯ç»“æœä¸å¤ªå¥½ï¼Œæˆ‘ä¹Ÿä¸ä¼šæ°”é¦ï¼Œä¸ç®¡æ€ä¹ˆæ ·éƒ½è¦ç»§ç»­åŠªåŠ›ã€‚ï¼ˆå¸Œæœ›ç»“æœæ˜¯å¥½çš„å§ï¼‰&lt;/p&gt;
&lt;p&gt;åæ¥æ¥åˆ°äº†äºŒé¢çš„ç”µè¯ï¼Œæ‰€ä»¥ä¸€é¢åº”è¯¥æ˜¯è¿‡äº†ã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>è“æ¹–é¢è¯•å‡‰ç»</title>
        <link>https://tweakzx.github.io/p/%E8%93%9D%E6%B9%96%E9%9D%A2%E8%AF%95%E5%87%89%E7%BB%8F/</link>
        <pubDate>Wed, 01 Dec 2021 20:56:54 +0800</pubDate>
        
        <guid>https://tweakzx.github.io/p/%E8%93%9D%E6%B9%96%E9%9D%A2%E8%AF%95%E5%87%89%E7%BB%8F/</guid>
        <description>&lt;img src="https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/image-20211201214555354.png" alt="Featured image of post è“æ¹–é¢è¯•å‡‰ç»" /&gt;&lt;blockquote&gt;
&lt;p&gt;æ—¶é—´ï¼š2021-11-26 ä¸‹åˆå…­ç‚¹&lt;/p&gt;
&lt;p&gt;æ–¹å¼ï¼šé£ä¹¦è§†é¢‘é¢è¯•&lt;/p&gt;
&lt;p&gt;å²—ä½ï¼šåç«¯å¼€å‘&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;ä¸ºä»€ä¹ˆä¼šé¢è¯•è“æ¹–&#34;&gt;ä¸ºä»€ä¹ˆä¼šé¢è¯•è“æ¹–&lt;/h2&gt;
&lt;p&gt;å¿ƒè¡€æ¥æ½®æƒ³è¦å‡ºå»å®ä¹ ï¼Œåœ¨æ ¡å‹ç¾¤å†…å‘äº†æ±‚åŠ©ã€‚24å·ä¸­åˆï¼Œæœ¬ç§‘çš„åŒç­åŒå­¦æ¶›ç¥é—®æˆ‘æƒ³ä¸æƒ³è¯•ä¸€è¯•è“æ¹–ï¼Œæˆ‘æƒ³è¦ä¸€ä»½å®ä¹ æ¥æå‡è‡ªå·±çš„ä»£ç æ°´å¹³ï¼Œæ‰€ä»¥å½“ç„¶è¦æŠ“ä½è¿™æ¬¡æœºä¼šã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ä¸­åˆæŠ“ç´§æ—¶é—´å†™äº†ä¸€ä»½ç®€å†äº¤ç»™äº†æ¶›ç¥å¸®å¿™å†…æ¨ã€‚æ¶›ç¥é—®æˆ‘è¦ä¸è¦å…ˆå‡†å¤‡ä¸€ä¸‹ï¼Œæˆ‘è¯´ä¸äº†ï¼Œæ—©è§£å†³æ—©è½»æ¾ï¼Œå¯èƒ½æ˜¯çŠ¯è ¢äº†ï¼Œä¹Ÿå¯èƒ½æ˜¯å¤ªäº†è§£è‡ªå·±ï¼Œæˆ‘ä¸æ˜¯ä¼šå¥½å¥½è§„åˆ’å¤ä¹ çš„äººï¼Œæ‰€ä»¥ä¸å¦‚è¶ç€çƒ­æƒ…ç›´æ¥ä¸Šã€‚&lt;/p&gt;
&lt;h2 id=&#34;é¢è¯•çš„è¿‡ç¨‹&#34;&gt;é¢è¯•çš„è¿‡ç¨‹&lt;/h2&gt;
&lt;p&gt;é¢è¯•å®˜è¿˜æ˜¯å¾ˆæ¸©æŸ”çš„ï¼Œä¸Šæ¥å…ˆè®©æˆ‘åšäº†ä¸€ä¸‹è‡ªæˆ‘ä»‹ç»ï¼Œæˆ‘ä»‹ç»äº†ä¸€ä¸‹æœ¬ç§‘å’Œç¡•å£«ï¼Œä»¥åŠä¸€æ®µå®ä¹ ç»å†ï¼Œä¸€æ®µæ¯”èµ›ç»å†ã€‚è®©è¯´ä¸€ä¸‹è§‰å¾—æœ€æœ‰æœ‰æŒ‘æˆ˜æ€§çš„å·¥ä½œï¼Ÿå®ä¹ å’Œæ¯”èµ›éƒ½å¾ˆæ°´ï¼Œæ‰€ä»¥å®è¯å®è¯´æ²¡å•¥äº®ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;ç®—æ³•é¢˜ä¸€é“ï¼Œå†™ä¸€ä¸‹å¿«æ’ã€‚å½“æ—¶ä»£ç æ²¡æœ‰è·‘èµ·æ¥ï¼Œå› ä¸ºvscodeå¥½åƒæ›´æ–°äº†code runnerçš„é…ç½®ï¼Œæ‰€ä»¥æ²¡æœ‰è·‘èµ·æ¥ï¼Œä¸è¿‡å†™çš„ä»£ç å¤§æ¦‚ç‡å…¨æ˜¯bugï¼Œä»£ç èƒ½åŠ›ä¹Ÿæ˜¯ç¡¬ä¼¤ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-c++&#34; data-lang=&#34;c++&#34;&gt;&lt;span class=&#34;k&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;Solution&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;public&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;qsort&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;vector&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;amp;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;left&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;right&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;){&lt;/span&gt;
        &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;l&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;left&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;r&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;right&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;

        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;r&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;){&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;randNum&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;rand&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;%&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;r&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;temp&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;randNum&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;randNum&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;temp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;

        &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pivot&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;while&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;r&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;){&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;while&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;r&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;r&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pivot&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;){&lt;/span&gt;
                &lt;span class=&#34;n&#34;&gt;r&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;--&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;r&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;while&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;r&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pivot&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;){&lt;/span&gt;
                &lt;span class=&#34;n&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;r&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pivot&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;qsort&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;left&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;qsort&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;right&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;vector&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sortArray&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;vector&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;amp;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;srand&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;((&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;unsigned&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;NULL&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;));&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;qsort&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;};&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åé—®äº†ä¸€äº›åŸºç¡€é—®é¢˜ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Javaå’ŒC++çš„åŒºåˆ«æœ‰å“ªäº›&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç±»çš„é‡å†™å’Œé‡è½½&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;TCPé€šä¿¡çš„ä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹ï¼Œä¸ºä»€ä¹ˆä¸èƒ½å¤šä¸€æ¬¡æˆ–è€…å°‘ä¸€æ¬¡ï¼Ÿ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;TCPé•¿è¿æ¥å’ŒçŸ­é“¾æ¥&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;TCPå’ŒUDPçš„åŒºåˆ«&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;äº†è§£Cacheå—ï¼Ÿæˆ‘ç­”éæ‰€é—®ï¼Œå›ç­”äº†æ“ä½œç³»ç»Ÿçš„cacheã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å…¶å®æœ‰å¯èƒ½æ˜¯é—®httpç¼“å­˜&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è¾“å…¥urlåœ°å€æµè§ˆå™¨çš„å˜åŒ–&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é—®æœ‰ä¹ˆæœ‰ç”¨è¿‡æ•°æ®åº“ï¼Œå¯¹æ•°æ®åº“äº†è§£å¤šå°‘ï¼Œå›ç­”ç”¨è¿‡MySQL&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆè¦ç”¨æ•°æ®åº“ï¼Ÿ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç®€å•ä»‹ç»ä¸€ä¸‹äº‘è®¡ç®—æ˜¯ä»€ä¹ˆï¼Œä¸ºä»€ä¹ˆè¦ç”¨äº‘è®¡ç®—&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;é¢è¯•æ€»ç»“&#34;&gt;é¢è¯•æ€»ç»“&lt;/h2&gt;
&lt;p&gt;é¢å®Œå°±çŸ¥é“è‡ªå·±åº”è¯¥æ˜¯å‡‰äº†ï¼Œæœç„¶12æœˆ1å·æ”¶åˆ°äº†æ„Ÿè°¢ä¿¡ã€‚å…¶å®è¿˜æ˜¯è€é—®é¢˜ï¼Œè‡ªå·±çš„åŸºç¡€çŸ¥è¯†è¿˜æ˜¯è¦åœ¨å·©å›ºä¸€ä¸‹å¯èƒ½è¦å¤šçœ‹çœ‹é¢ç»ï¼Œå¦å¤–ç®—æ³•ä»€ä¹ˆçš„è¿˜æ˜¯è¦å¤šåŠ ç»ƒä¹ ã€‚&lt;/p&gt;
&lt;p&gt;åæ¥æ¶›ç¥å‘Šè¯‰æˆ‘æ˜¯HRè§‰å¾—åªæœ‰ä¸€ä¸ªæœˆå¤šçš„å®ä¹ æ—¶é—´å¤ªçŸ­äº†ï¼Œä¸å¥½å®‰æ’ã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>å­—èŠ‚å®ä¹ é¢è¯•å‡‰ç»</title>
        <link>https://tweakzx.github.io/p/%E5%AD%97%E8%8A%82%E5%AE%9E%E4%B9%A0%E9%9D%A2%E8%AF%95%E5%87%89%E7%BB%8F/</link>
        <pubDate>Mon, 29 Nov 2021 16:52:26 +0800</pubDate>
        
        <guid>https://tweakzx.github.io/p/%E5%AD%97%E8%8A%82%E5%AE%9E%E4%B9%A0%E9%9D%A2%E8%AF%95%E5%87%89%E7%BB%8F/</guid>
        <description>&lt;img src="https://cdn.jsdelivr.net/gh/Tweakzx/ImageHost@main/img/bytedance.jpg" alt="Featured image of post å­—èŠ‚å®ä¹ é¢è¯•å‡‰ç»" /&gt;&lt;blockquote&gt;
&lt;p&gt;æ—¶é—´ï¼š2021-11-29ä¸‹åˆä¸‰ç‚¹&lt;/p&gt;
&lt;p&gt;æ–¹å¼ï¼šé£ä¹¦è§†é¢‘é¢è¯•&lt;/p&gt;
&lt;p&gt;å²—ä½ï¼šåç«¯å¼€å‘å®ä¹ ç”Ÿ-ä¸šåŠ¡ä¸­å°èŒä½&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;ä¸ºä»€ä¹ˆä¼šæŠ•é€’å­—èŠ‚å®ä¹ &#34;&gt;ä¸ºä»€ä¹ˆä¼šæŠ•é€’å­—èŠ‚å®ä¹ &lt;/h2&gt;
&lt;p&gt;â€‹		å› ä¸ºä¸­ç§‘é™¢çš„ç ”ç©¶æ‰€å¤§å¤šä¸è®©å®ä¹ ï¼Œç ”äºŒæƒ³å»å®ä¹ æ˜¯ä¸€å®šä¸è¡Œçš„ã€‚ä½†æ˜¯ç ”ä¸€åœ¨é›æ –æ¹–ï¼Œè¯¾é¢˜ç»„åœ¨æµ·æ·€ï¼Œæˆ‘ç ”ä¸€åŸºæœ¬ä¸å‚ä¸ç§‘ç ”ï¼Œæ‰€ä»¥æƒ³è¦è¶æ²¡äººç®¡çš„æ—¶å€™å‡ºå»å®ä¹ ã€‚å› ä¸ºå°†æ¥å¤§æ¦‚ç‡æ˜¯åšè½¯å¼€ï¼Œæ‰€ä»¥æƒ³æ‰¾ä¸€ä»½åç«¯å¼€å‘çš„å·¥ä½œã€‚åœ¨æ ¡å‹ç¾¤é‡Œé—®äº†ä¸€ä¸‹ï¼Œæœ‰å­¦é•¿ç»™äº†ä¸€ä¸ªå†…æ¨çš„æœºä¼šï¼Œæ‰€ä»¥å°±æœ‰äº†è¿™æ¬¡ä¸€é¢ã€‚&lt;/p&gt;
&lt;h2 id=&#34;é¢è¯•è¿‡ç¨‹&#34;&gt;é¢è¯•è¿‡ç¨‹&lt;/h2&gt;
&lt;p&gt;â€‹		é¢è¯•å®˜ä¸Šæ¥è®©æˆ‘åšäº†è‡ªæˆ‘ä»‹ç»ä¹‹åå°±è®©æˆ‘å†™ä»£ç åšé¢˜ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;é¢˜ç›®ä¸€ï¼šé“¾è¡¨1-&amp;gt;2-&amp;gt;3-&amp;gt;4-&amp;gt;5-&amp;gt;6 è½¬å˜æˆ é“¾è¡¨1-&amp;gt;6-&amp;gt;2-&amp;gt;5-&amp;gt;3-&amp;gt;4&lt;/p&gt;
&lt;p&gt;å¤§æ¦‚æ„æ€å°±æ˜¯å°†é“¾è¡¨å¹³åˆ†æˆä¸¤éƒ¨åˆ†ï¼Œå‰ä¸€éƒ¨åˆ†é¡ºåºä¸å˜ï¼Œåä¸€éƒ¨åˆ†åè½¬åæ’ç©ºæ’å…¥å‰ä¸€éƒ¨åˆ†é“¾è¡¨ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;â€‹		è¯´å®è¯ï¼Œè‡ªå·±çš„ä»£ç èƒ½åŠ›ç¡®å®æœ‰ç‚¹å·®ï¼ŒåŸæœ¬æ‰“ç®—ä½¿ç”¨c++æ¥å†™åæ¥æ”¹æˆäº†Javaï¼Œå› ä¸ºæˆ‘æƒ³èµ·Javaé‡Œæœ‰LinkedListè¿™ä¸ªæ•°æ®ç»“æ„ã€‚ç†ç”±æœ‰ç‚¹è’è¯å“ˆï¼Œå…¶å®æ˜¯æˆ‘æ²¡æœ‰æ„è¯†åˆ°è¦è‡ªå·±å®šä¹‰èŠ‚ç‚¹æ¥å®ç°é“¾è¡¨ï¼Œæ‰€ä»¥åœ¨æƒ³è¦å†™æŒ‡é’ˆçš„æ—¶å€™å°±å¡ä½äº†ï¼Œå®Œå…¨ä¸çŸ¥é“æ€ä¹ˆç»™LinkedListçš„é“¾è¡¨å†™æŒ‡é’ˆã€‚ç„¶åå°±å°¬ä½äº†ï¼Œé¢è¯•å®˜æ— å¥ˆè¯´é‚£å°±æ¢ä¸€é“å§ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;é¢˜ç›®äºŒï¼šåˆ¤æ–­ä¸€ä¸ªäºŒå‰æ ‘æ˜¯å¦æ˜¯å¹³è¡¡æ ‘&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;â€‹		é¢˜ç›®ä¸æ˜¯å¾ˆéš¾ï¼Œä½†æ˜¯è‡ªå·±å¤ªä¹…ä¸å†™ä»£ç æœ‰äº›ç”Ÿç–äº†ï¼Œå†™å‡ºæ¥çš„ç¨‹åºä¸çŸ¥é“ä¸ºä»€ä¹ˆæ²¡æœ‰ç¼–è¯‘é€šè¿‡ã€‚è¯´å®è¯ï¼Œé¢è¯•å®˜è®©æˆ‘è‡ªå·±å®ç°ä¸€ä¸ªå•ä¾‹æ¥æµ‹è¯•ç¨‹åºï¼Œå…¶ä¸­çˆ†å‡ºçš„å„ç§é”™è¯¯ï¼Œæ— ä¸€ä¸æ­ç¤ºäº†æˆ‘å®Œå…¨æ²¡æœ‰ä»€ä¹ˆå¼€å‘ç»éªŒçš„äº‹å®ï¼Œä¾‹å¦‚å†…éƒ¨ç±»æ”¾é”™äº†ä½ç½®ï¼Œstaticçš„ç¼–è¯‘é—®é¢˜ï¼Œè¿˜æœ‰ä¸€ä¸ªç©ºæŒ‡é’ˆå¼‚å¸¸ã€‚æ— ç–‘æ˜¯å†æ¬¡å°¬æ­»äº†ã€‚&lt;/p&gt;
&lt;p&gt;â€‹		ä¹‹åé¢è¯•å®˜è®©æˆ‘è®²ä¸€è®²è‡ªå·±çš„é¡¹ç›®ç»å†ï¼Œä¸»è¦é—®äº†ä¸€ä¸‹å¤§ä¸‰åœ¨åä¸ºçš„å®ä¹ ã€‚å¯æƒœè‡ªå·±è™½ç„¶å®ä¹ äº†ï¼Œä½†å®é™…çš„å·¥ä½œå¾ˆå°‘ï¼Œå«é‡‘é‡ä¹Ÿä¸é«˜ï¼Œé¢è¯•å®˜å…´è¶£ä¸å¤§ã€‚&lt;/p&gt;
&lt;p&gt;â€‹		ä¹‹åå°±æ˜¯é—®æˆ‘æœ‰æ²¡æœ‰ä»€ä¹ˆæƒ³é—®ä»–çš„ï¼Œæˆ‘å·²ç»ä¸æƒ³è¯´è¯äº†ï¼Œå°±æ²¡é—®ã€‚&lt;/p&gt;
&lt;p&gt;â€‹		è‰è‰ç»“æŸã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ€»ç»“&#34;&gt;æ€»ç»“&lt;/h2&gt;
&lt;h3 id=&#34;é¦–å…ˆè¿˜æ˜¯æŠŠè¿™ä¸¤é“é¢˜çš„ä»£ç å†™å†™å§&#34;&gt;é¦–å…ˆè¿˜æ˜¯æŠŠè¿™ä¸¤é“é¢˜çš„ä»£ç å†™å†™å§&lt;/h3&gt;
&lt;h4 id=&#34;é¢˜ç›®ä¸€&#34;&gt;é¢˜ç›®ä¸€&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * @author lizhixuan
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * @version 1.0
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * @date 2021/12/1 15:50
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; */&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;ReverseList2&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;ListNode&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;val&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;ListNode&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;next&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;ListNode&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{}&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;ListNode&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;val&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;val&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;val&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;ListNode&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;val&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ListNode&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;next&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;val&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;val&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;next&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;next&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ListNode&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;createInstance&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;){&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;ListNode&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;head&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ListNode&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;ListNode&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;current&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;head&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;current&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;next&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ListNode&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;current&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;current&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;next&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;head&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;printList&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ListNode&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;head&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;){&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;ListNode&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;current&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;head&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;while&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;current&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;next&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;){&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;current&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;val&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;-&amp;gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;current&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;current&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;next&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;current&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;val&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ListNode&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;reverse&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ListNode&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;head&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;){&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;ListNode&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pre&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;ListNode&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;current&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;head&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;ListNode&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;next&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;while&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;current&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;){&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;next&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;current&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;next&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;current&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;next&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pre&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;pre&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;current&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;current&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;next&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
       &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pre&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ListNode&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;mergeList&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ListNode&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;l1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ListNode&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;l2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;){&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;ListNode&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;head&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;l1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;ListNode&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;l1Next&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;ListNode&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;l2Next&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;while&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;l1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;l2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;){&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;l1Next&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;l1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;next&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;l2Next&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;l2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;next&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

            &lt;span class=&#34;n&#34;&gt;l1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;next&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;l2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;l2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;next&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;l1Next&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

            &lt;span class=&#34;n&#34;&gt;l1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;l1Next&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;l2&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;l2Next&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;head&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ListNode&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;reverseHalf&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ListNode&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;head&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;){&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;ListNode&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;fast&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;head&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;ListNode&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;slow&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;head&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;while&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fast&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;){&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fast&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;next&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;){&lt;/span&gt;
                &lt;span class=&#34;k&#34;&gt;break&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
            &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fast&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;next&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;next&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;){&lt;/span&gt;
                &lt;span class=&#34;k&#34;&gt;break&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
            &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;fast&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;fast&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;next&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;next&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;slow&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;slow&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;next&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;ListNode&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;half&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;reverse&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;slow&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;next&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;slow&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;next&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;mergeList&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;head&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;half&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;args&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;ListNode&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;head&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;createInstance&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;7&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;printList&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;head&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;head&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;reverseHalf&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;head&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;printList&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;head&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;é¢˜ç›®äºŒ&#34;&gt;é¢˜ç›®äºŒ&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;java.util.LinkedList&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;java.util.Queue&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * @author lizhixuan
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * @version 1.0
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * @date 2021/12/1 17:24
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; */&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;BalanceCheck&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;TreeNode&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;val&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;TreeNode&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;left&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;TreeNode&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;right&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;TreeNode&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;val&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;){&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;val&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;val&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;}&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;TreeNode&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;listToTree&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;src&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;){&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;src&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;src&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;substring&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;src&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;length&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;strList&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;src&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;split&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;,&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

        &lt;span class=&#34;n&#34;&gt;TreeNode&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;root&lt;/span&gt;  &lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;TreeNode&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;result&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;Queue&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;TreeNode&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;queue&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;LinkedList&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&amp;gt;();&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;strList&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;length&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++){&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;){&lt;/span&gt;
                &lt;span class=&#34;n&#34;&gt;root&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;TreeNode&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Integer&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;parseInt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;strList&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]));&lt;/span&gt;
                &lt;span class=&#34;n&#34;&gt;result&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;root&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
                &lt;span class=&#34;n&#34;&gt;queue&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;add&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;root&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
            &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(!&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;queue&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;isEmpty&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()){&lt;/span&gt;
                &lt;span class=&#34;n&#34;&gt;root&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;queue&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;poll&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
            &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
                &lt;span class=&#34;k&#34;&gt;break&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
            &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;strList&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;length&lt;/span&gt;  &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;strList&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;].&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;equals&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;null&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)){&lt;/span&gt;
                &lt;span class=&#34;n&#34;&gt;root&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;left&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;TreeNode&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Integer&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;parseInt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;strList&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]));&lt;/span&gt;
                &lt;span class=&#34;n&#34;&gt;queue&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;add&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;root&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;left&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
            &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;2&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;strList&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;length&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;strList&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;].&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;equals&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;null&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)){&lt;/span&gt;
                &lt;span class=&#34;n&#34;&gt;root&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;right&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;TreeNode&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Integer&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;parseInt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;strList&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]));&lt;/span&gt;
                &lt;span class=&#34;n&#34;&gt;queue&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;add&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;root&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;right&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
            &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;result&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;getHeight&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;TreeNode&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;root&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;){&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;root&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;){&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Math&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;max&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;getHeight&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;root&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;left&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;),&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;getHeight&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;root&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;right&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;))+&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;boolean&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;isBalanced&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;TreeNode&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;root&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;){&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;root&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;){&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;leftHeight&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;getHeight&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;root&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;left&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;rightHeight&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;getHeight&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;root&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;right&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Math&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;abs&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;leftHeight&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;rightHeight&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&amp;lt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;isBalanced&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;root&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;left&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;isBalanced&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;root&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;right&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;args&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;tree&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;[3,9,20,null,null,15,7]&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;TreeNode&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;root&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;listToTree&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tree&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;isBalanced&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;root&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;));&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;ä¸€äº›çŸ¥è¯†ç‚¹&#34;&gt;ä¸€äº›çŸ¥è¯†ç‚¹&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;javaå†…éƒ¨ç±»ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æˆå‘˜å†…éƒ¨ç±»ä¸­ä¸èƒ½å­˜åœ¨ä»»ä½•staticçš„å˜é‡å’Œæ–¹æ³•&lt;/li&gt;
&lt;li&gt;æˆå‘˜å†…éƒ¨ç±»æ˜¯ä¾é™„äºå¤–å›´ç±»çš„ï¼Œæ‰€ä»¥åªæœ‰å…ˆåˆ›å»ºäº†å¤–å›´ç±»æ‰èƒ½å¤Ÿåˆ›å»ºå†…éƒ¨ç±»&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;javaçš„staticå…³é”®å­—&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;staticå˜é‡ä¹Ÿç§°ä½œé™æ€å˜é‡ï¼Œé™æ€å˜é‡è¢«æ‰€æœ‰çš„å¯¹è±¡æ‰€å…±äº«ï¼Œåœ¨å†…å­˜ä¸­åªæœ‰ä¸€ä¸ªå‰¯æœ¬ï¼Œå®ƒå½“ä¸”ä»…å½“åœ¨ç±»åˆæ¬¡åŠ è½½æ—¶ä¼šè¢«åˆå§‹åŒ–ã€‚&lt;/li&gt;
&lt;li&gt;ä¸ºä»€ä¹ˆè¯´staticå—å¯ä»¥ç”¨æ¥ä¼˜åŒ–ç¨‹åºæ€§èƒ½ï¼Œæ˜¯å› ä¸ºå®ƒçš„ç‰¹æ€§:åªä¼šåœ¨ç±»åŠ è½½çš„æ—¶å€™æ‰§è¡Œä¸€æ¬¡ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨C/C++ä¸­staticæ˜¯å¯ä»¥ä½œç”¨åŸŸå±€éƒ¨å˜é‡çš„ï¼Œä½†æ˜¯åœ¨Javaä¸­åˆ‡è®°ï¼šstaticæ˜¯ä¸å…è®¸ç”¨æ¥ä¿®é¥°å±€éƒ¨å˜é‡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;åæ€&#34;&gt;åæ€&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è‡ªå·±è¿˜æ˜¯ç¼ºä¹ä»£ç ç»éªŒï¼Œä»£ç å†™ä¸å‡ºæ¥ï¼Œé¢è¯•å®˜æ˜æ˜¾ååˆ†å¤±æœ›ï¼Œå¤±å»è€å¿ƒä¹‹åå¤šæ¬¡å¹æ°”æ‚è„¸ï¼Œè¯´å®è¯å‹åŠ›è¿˜æ˜¯æŒºå¤§çš„ï¼Œæ¯•ç«Ÿç¡®å®æŒºä¸¢è„¸çš„ã€‚ä»¥åä¹Ÿè¦å¤šå†™ä¸€ç‚¹ä»£ç ã€‚&lt;/li&gt;
&lt;li&gt;æ‰“ç®—æŠŠè‡ªå·±çš„å­¦ä¹ æ€»ç»“ä¸‹æ¥ï¼Œäºæ˜¯ä¹Ÿæœ‰äº†è¿™ç¯‡åšå®¢ï¼Œå¸Œæœ›è‡ªå·±å¯ä»¥åšæŒå†™åšå®¢ï¼Œè¯´å®è¯ï¼Œé¢è¯•å®Œå‹åŠ›æŒºå¤§ï¼Œæ„Ÿè§‰è‡ªå·±å°±æ˜¯ä¸€ä¸ªæ— æ•Œé“åºŸç‰©ï¼Œå†™åšå®¢å†™å‡ºæ¥æ„Ÿè§‰å¥½ä¸€äº›äº†ã€‚&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        
    </channel>
</rss>
